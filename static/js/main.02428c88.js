/*! For license information please see main.02428c88.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,p(b,v.prototype),b.isPureReactComponent=!0;var k=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+N(l,0):a,k(s)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),x(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",k(e))for(var c=0;c<e.length;c++){var u=a+N(o=e[c],c);l+=x(o,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=x(o=o.value,t,i,u=a+N(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},L={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:L,ReactCurrentOwner:_};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,b(e),!p)if(null!==r(c))p=!0,L(S);else{var t=r(u);null!==t&&P(k,t.startTime-e)}}function S(e,n){p=!1,g&&(g=!1,y(T),T=-1),m=!0;var a=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!x());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(k,d.startTime-n),l=!1}return l}finally{h=null,f=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,C=null,T=-1,I=5,N=-1;function x(){return!(t.unstable_now()-N<I)}function R(){if(null!==C){var e=t.unstable_now();N=e;var n=!0;try{n=C(!0,e)}finally{n?_():(E=!1,C=null)}}else E=!1}if("function"===typeof w)_=function(){w(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=R,_=function(){D.postMessage(null)}}else _=function(){v(R,0)};function L(e){C=e,E||(E=!0,_())}function P(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,L(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,P(k,a-s))):(e.sortIndex=o,n(c,e),p||m||(p=!0,L(S))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var j,M=Object.assign;function U(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case C:return"Profiler";case E:return"StrictMode";case x:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(ki){return e.body}}function J(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Ee=null;function Ce(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=Si(t),Se(e.stateNode,e.type,t))}}function Te(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Ie(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function xe(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ne(e,t,n)}finally{Re=!1,(null!==_e||null!==Ee)&&(xe(),Ie())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){Le=!1}function Oe(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,Me=null,Ue=!1,Fe=null,Ve={onError:function(e){je=!0,Me=e}};function ze(e,t,n,r,i,a,s,o,l){je=!1,Me=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=dt(o):0!==(a&=s)&&(r=dt(a))}else 0!==(s=n&~i)?r=dt(s):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,St,_t,Et,Ct,Tt=!1,It=[],Nt=null,xt=null,Rt=null,At=new Map,Dt=new Map,Lt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Ct(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Nt&&Ut(Nt)&&(Nt=null),null!==xt&&Ut(xt)&&(xt=null),null!==Rt&&Ut(Rt)&&(Rt=null),At.forEach(Ft),Dt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==xt&&zt(xt,e),null!==Rt&&zt(Rt,e),At.forEach(t),Dt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Lt.shift()}var $t=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=wt,a=$t.transition;$t.transition=null;try{wt=1,qt(e,t,n,r)}finally{wt=i,$t.transition=a}}function Kt(e,t,n,r){var i=wt,a=$t.transition;$t.transition=null;try{wt=4,qt(e,t,n,r)}finally{wt=i,$t.transition=a}}function qt(e,t,n,r){if(Ht){var i=Jt(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=jt(Nt,e,t,n,r,i),!0;case"dragenter":return xt=jt(xt,e,t,n,r,i),!0;case"mouseover":return Rt=jt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,jt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,jt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=wi(i);if(null!==a&&kt(a),null===(a=Jt(e,t,n,r))&&Hr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=yi(e=ke(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=M({},cn,{view:0,detail:0}),hn=an(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(fn),pn=an(M({},fn,{dataTransfer:0})),gn=an(M({},dn,{relatedTarget:0})),vn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(yn),bn=an(M({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return En}var Tn=M({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Nn=an(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Ln=[9,13,27,32],Pn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var jn=u&&"TextEvent"in window&&!On,Mn=u&&(!Pn||On&&8<On&&11>=On),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,qn=null;function Gn(e){Ur(e,0)}function Jn(e){if(q(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),qn=Kn=null)}function nr(e){if("value"===e.propertyName&&Jn(qn)){var t=[];Wn(t,qn,e,ke(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(qn)}function ar(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},_r={},Er={};function Cr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=Cr("animationend"),Ir=Cr("animationiteration"),Nr=Cr("animationstart"),xr=Cr("transitionend"),Rr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Rr.set(e,t),l(t,[e])}for(var Lr=0;Lr<Ar.length;Lr++){var Pr=Ar[Lr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Tr,"onAnimationEnd"),Dr(Ir,"onAnimationIteration"),Dr(Nr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(xr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,c){if(ze.apply(this,arguments),je){if(!je)throw Error(a(198));var u=Me;je=!1,Me=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Mr(i,o,c),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Mr(i,o,c),a=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=yi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=a,i=ke(n),s=[];e:{var o=Rr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=xn;break;case Tr:case Ir:case Nr:l=vn;break;case xr:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=De(m,h))&&u.push(Wr(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[mi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(p,m+"leave",l,n,i)).target=d,o.relatedTarget=f,p=null,yi(i)===r&&((u=new u(h,m+"enter",c,n,i)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=qr(f))m++;for(f=0,p=h;p;p=qr(p))f++;for(;0<m-f;)u=qr(u),m--;for(;0<f-m;)h=qr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=qr(u),h=qr(h)}u=null}else u=null;null!==l&&Gr(s,o,l,u,!1),null!==c&&null!==d&&Gr(s,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Hn(o))if(Yn)g=sr;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(s,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),s.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Ur(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=De(n,a))&&s.unshift(Wr(n,l,o)):i||null!=(l=De(n,a))&&s.push(Wr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Jr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,mi="__reactContainer$"+di,pi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Si(e){return e[fi]||null}var _i=[],Ei=-1;function Ci(e){return{current:e}}function Ti(e){0>Ei||(e.current=_i[Ei],_i[Ei]=null,Ei--)}function Ii(e,t){Ei++,_i[Ei]=e.current,e.current=t}var Ni={},xi=Ci(Ni),Ri=Ci(!1),Ai=Ni;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ti(Ri),Ti(xi)}function Oi(e,t,n){if(xi.current!==Ni)throw Error(a(168));Ii(xi,t),Ii(Ri,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,$(e)||"Unknown",i));return M({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Ai=xi.current,Ii(xi,e),Ii(Ri,Ri.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ji(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ri),Ti(xi),Ii(xi,e)):Ti(Ri),Ii(Ri,n)}var Fi=null,Vi=!1,zi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function $i(){if(!zi&&null!==Fi){zi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),qe(Ze,$i),i}finally{wt=t,zi=!1}}return null}var Hi=[],Wi=0,Ki=null,qi=0,Gi=[],Ji=0,Qi=null,Yi=1,Zi="";function ea(e,t){Hi[Wi++]=qi,Hi[Wi++]=Ki,Ki=e,qi=t}function ta(e,t,n){Gi[Ji++]=Yi,Gi[Ji++]=Zi,Gi[Ji++]=Qi,Qi=e;var r=Yi;e=Zi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,Zi=a+e}else Yi=1<<a|n<<i|r,Zi=e}function na(e){null!==e.return&&(ea(e,1),ta(e,1,0))}function ra(e){for(;e===Ki;)Ki=Hi[--Wi],Hi[Wi]=null,qi=Hi[--Wi],Hi[Wi]=null;for(;e===Qi;)Qi=Gi[--Ji],Gi[Ji]=null,Zi=Gi[--Ji],Gi[Ji]=null,Yi=Gi[--Ji],Gi[Ji]=null}var ia=null,aa=null,sa=!1,oa=null;function la(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ia=e,aa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ia=e,aa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ia=e,aa=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function da(e){if(sa){var t=aa;if(t){var n=t;if(!ca(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=ia;t&&ca(e,t)?la(r,n):(e.flags=-4097&e.flags|2,sa=!1,ia=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,ia=e}}}function ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ia=e}function fa(e){if(e!==ia)return!1;if(!sa)return ha(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=aa)){if(ua(e))throw ma(),Error(a(418));for(;t;)la(e,t),t=ci(t.nextSibling)}if(ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){aa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}aa=null}}else aa=ia?ci(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=aa;e;)e=ci(e.nextSibling)}function pa(){aa=ia=null,sa=!1}function ga(e){null===oa?oa=[e]:oa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&ba(a)===t.type)?((r=i(t,n.props)).ref=ya(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=ya(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=ya(e,null,t),n.return=e,n;case S:return(t=Vc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Mc(t,e.mode,n,null)).return=e,t;wa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);wa(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return m(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);wa(t,r)}return null}function p(i,a,o,l){for(var c=null,u=null,d=a,p=a=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=f(i,d,o[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=s(v,a,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===o.length)return n(i,d),sa&&ea(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(a=s(d,a,p),null===u?c=d:u.sibling=d,u=d);return sa&&ea(i,p),c}for(d=r(i,d);p<o.length;p++)null!==(g=m(d,i,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),a=s(g,a,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),sa&&ea(i,p),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,p=o,g=o=0,v=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var w=f(i,p,y.value,c);if(null===w){null===p&&(p=v);break}e&&p&&null===w.alternate&&t(i,p),o=s(w,o,g),null===d?u=w:d.sibling=w,d=w,p=v}if(y.done)return n(i,p),sa&&ea(i,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return sa&&ea(i,g),u}for(p=r(i,p);!y.done;g++,y=l.next())null!==(y=m(p,i,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach((function(e){return t(i,e)})),sa&&ea(i,g),u}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case k:e:{for(var c=s.key,u=a;null!==u;){if(u.key===c){if((c=s.type)===_){if(7===u.tag){n(r,u.sibling),(a=i(u,s.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&ba(c)===u.type){n(r,u.sibling),(a=i(u,s.props)).ref=ya(r,u,s),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===_?((a=Mc(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=jc(s.type,s.key,s.props,null,r.mode,l)).ref=ya(r,a,s),l.return=r,r=l)}return o(r);case S:e:{for(u=s.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(s,r.mode,l)).return=r,r=a}return o(r);case D:return e(r,a,(u=s._init)(s._payload),l)}if(te(s))return p(r,a,s,l);if(O(s))return g(r,a,s,l);wa(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Fc(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var Sa=ka(!0),_a=ka(!1),Ea=Ci(null),Ca=null,Ta=null,Ia=null;function Na(){Ia=Ta=Ca=null}function xa(e){var t=Ea.current;Ti(Ea),e._currentValue=t}function Ra(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){Ca=e,Ia=Ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ko=!0),e.firstContext=null)}function Da(e){var t=e._currentValue;if(Ia!==e)if(e={context:e,memoizedValue:t,next:null},null===Ta){if(null===Ca)throw Error(a(308));Ta=e,Ca.dependencies={lanes:0,firstContext:e}}else Ta=Ta.next=e;return t}var La=null;function Pa(e){null===La?La=[e]:La.push(e)}function Oa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Pa(t)):(n.next=i.next,i.next=n),t.interleaved=n,ja(e,r)}function ja(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function Ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Va(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ja(e,n)}return null===(i=r.interleaved)?(t.next=t,Pa(r)):(t.next=i.next,i.next=t),r.interleaved=t,ja(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function $a(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,r){var i=e.updateQueue;Ma=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=M({},d,h);break e;case 2:Ma=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ul|=s,e.lanes=s,e.memoizedState=d}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ka={},qa=Ci(Ka),Ga=Ci(Ka),Ja=Ci(Ka);function Qa(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(Ii(Ja,t),Ii(Ga,e),Ii(qa,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(qa),Ii(qa,t)}function Xa(){Ti(qa),Ti(Ga),Ti(Ja)}function Za(e){Qa(Ja.current);var t=Qa(qa.current),n=le(t,e.type);t!==n&&(Ii(Ga,e),Ii(qa,n))}function es(e){Ga.current===e&&(Ti(qa),Ti(Ga))}var ts=Ci(0);function ns(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function is(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var as=b.ReactCurrentDispatcher,ss=b.ReactCurrentBatchConfig,os=0,ls=null,cs=null,us=null,ds=!1,hs=!1,fs=0,ms=0;function ps(){throw Error(a(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function vs(e,t,n,r,i,s){if(os=s,ls=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=null===e||null===e.memoizedState?eo:to,e=n(r,i),hs){s=0;do{if(hs=!1,fs=0,25<=s)throw Error(a(301));s+=1,us=cs=null,t.updateQueue=null,as.current=no,e=n(r,i)}while(hs)}if(as.current=Zs,t=null!==cs&&null!==cs.next,os=0,us=cs=ls=null,ds=!1,t)throw Error(a(300));return e}function ys(){var e=0!==fs;return fs=0,e}function ws(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?ls.memoizedState=us=e:us=us.next=e,us}function bs(){if(null===cs){var e=ls.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===us?ls.memoizedState:us.next;if(null!==t)us=t,cs=e;else{if(null===e)throw Error(a(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===us?ls.memoizedState=us=e:us=us.next=e}return us}function ks(e,t){return"function"===typeof t?t(e):t}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=cs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((os&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ls.lanes|=d,Ul|=d}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(ko=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ls.lanes|=s,Ul|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(ko=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Es(){}function Cs(e,t){var n=ls,r=bs(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,ko=!0),r=r.queue,Ms(Ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,Ds(9,Is.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(a(349));0!==(30&os)||Ts(n,t,i)}return i}function Ts(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,xs(t)&&Rs(e)}function Ns(e,t,n){return n((function(){xs(t)&&Rs(e)}))}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Rs(e){var t=ja(e,1);null!==t&&ic(t,e,1,-1)}function As(e){var t=ws();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=Js.bind(null,ls,e),[t.memoizedState,e]}function Ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ls(){return bs().memoizedState}function Ps(e,t,n,r){var i=ws();ls.flags|=e,i.memoizedState=Ds(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var i=bs();r=void 0===r?null:r;var a=void 0;if(null!==cs){var s=cs.memoizedState;if(a=s.destroy,null!==r&&gs(r,s.deps))return void(i.memoizedState=Ds(t,n,a,r))}ls.flags|=e,i.memoizedState=Ds(1|t,n,a,r)}function js(e,t){return Ps(8390656,8,e,t)}function Ms(e,t){return Os(2048,8,e,t)}function Us(e,t){return Os(4,2,e,t)}function Fs(e,t){return Os(4,4,e,t)}function Vs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,Vs.bind(null,t,e),n)}function Bs(){}function $s(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&os)?(e.baseState&&(e.baseState=!1,ko=!0),e.memoizedState=n):(or(n,t)||(n=pt(),ls.lanes|=n,Ul|=n,e.baseState=!0),t)}function Ks(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ss.transition;ss.transition={};try{e(!1),t()}finally{wt=n,ss.transition=r}}function qs(){return bs().memoizedState}function Gs(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qs(e))Ys(t,n);else if(null!==(n=Oa(e,t,n,r))){ic(n,e,r,nc()),Xs(n,t,r)}}function Js(e,t,n){var r=rc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))Ys(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(i.next=i,Pa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oa(e,t,i,r))&&(ic(n,e,r,i=nc()),Xs(n,t,r))}}function Qs(e){var t=e.alternate;return e===ls||null!==t&&t===ls}function Ys(e,t){hs=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zs={readContext:Da,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},eo={readContext:Da,useCallback:function(e,t){return ws().memoizedState=[e,void 0===t?null:t],e},useContext:Da,useEffect:js,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4194308,4,Vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=ws();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ws();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,ls,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ws().memoizedState=e},useState:As,useDebugValue:Bs,useDeferredValue:function(e){return ws().memoizedState=e},useTransition:function(){var e=As(!1),t=e[0];return e=Ks.bind(null,e[1]),ws().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ls,i=ws();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Al)throw Error(a(349));0!==(30&os)||Ts(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,js(Ns.bind(null,r,s,e),[e]),r.flags|=2048,Ds(9,Is.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ws(),t=Al.identifierPrefix;if(sa){var n=Zi;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ms++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},to={readContext:Da,useCallback:$s,useContext:Da,useEffect:Ms,useImperativeHandle:zs,useInsertionEffect:Us,useLayoutEffect:Fs,useMemo:Hs,useReducer:Ss,useRef:Ls,useState:function(){return Ss(ks)},useDebugValue:Bs,useDeferredValue:function(e){return Ws(bs(),cs.memoizedState,e)},useTransition:function(){return[Ss(ks)[0],bs().memoizedState]},useMutableSource:Es,useSyncExternalStore:Cs,useId:qs,unstable_isNewReconciler:!1},no={readContext:Da,useCallback:$s,useContext:Da,useEffect:Ms,useImperativeHandle:zs,useInsertionEffect:Us,useLayoutEffect:Fs,useMemo:Hs,useReducer:_s,useRef:Ls,useState:function(){return _s(ks)},useDebugValue:Bs,useDeferredValue:function(e){var t=bs();return null===cs?t.memoizedState=e:Ws(t,cs.memoizedState,e)},useTransition:function(){return[_s(ks)[0],bs().memoizedState]},useMutableSource:Es,useSyncExternalStore:Cs,useId:qs,unstable_isNewReconciler:!1};function ro(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function io(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),a=Va(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=za(e,a,i))&&(ic(t,e,i,r),Ba(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),a=Va(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=za(e,a,i))&&(ic(t,e,i,r),Ba(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),i=Va(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=za(e,i,r))&&(ic(t,e,r,n),Ba(t,e,r))}};function so(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function oo(e,t,n){var r=!1,i=Ni,a=t.contextType;return"object"===typeof a&&null!==a?a=Da(a):(i=Li(t)?Ai:xi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ni),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function lo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function co(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Da(a):(a=Li(t)?Ai:xi.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(io(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ao.enqueueReplaceState(i,i.state,null),Ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function uo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ho(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var mo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Va(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,ql=r),fo(0,t)},n}function go(e,t,n){(n=Va(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fo(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function wo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Va(-1,1)).tag=2,za(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=b.ReactCurrentOwner,ko=!1;function So(e,t,n,r){t.child=null===e?_a(t,null,n,r):Sa(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var a=t.ref;return Aa(t,i),r=vs(e,t,n,r,a,i),n=ys(),null===e||ko?(sa&&n&&na(t),t.flags|=1,So(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function Eo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Co(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ko(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Co(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(ko=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ko(e,t,i);0!==(131072&e.flags)&&(ko=!0)}}return No(e,t,n,r,i)}function To(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ol,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ol,Pl),Pl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ol,Pl),Pl|=r;return So(e,t,i,n),t.child}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,i){var a=Li(n)?Ai:xi.current;return a=Di(t,a),Aa(t,i),n=vs(e,t,n,r,a,i),r=ys(),null===e||ko?(sa&&r&&na(t),t.flags|=1,So(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function xo(e,t,n,r,i){if(Li(n)){var a=!0;Mi(t)}else a=!1;if(Aa(t,i),null===t.stateNode)Wo(e,t),oo(t,n,r),co(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Da(c):c=Di(t,c=Li(n)?Ai:xi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&lo(t,s,r,c),Ma=!1;var h=t.memoizedState;s.state=h,Ha(t,r,s,i),l=t.memoizedState,o!==r||h!==l||Ri.current||Ma?("function"===typeof u&&(io(t,n,u,r),l=t.memoizedState),(o=Ma||so(t,n,o,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fa(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ro(t.type,o),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Da(l):l=Di(t,l=Li(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&lo(t,s,r,l),Ma=!1,h=t.memoizedState,s.state=h,Ha(t,r,s,i);var m=t.memoizedState;o!==d||h!==m||Ri.current||Ma?("function"===typeof f&&(io(t,n,f,r),m=t.memoizedState),(c=Ma||so(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ro(e,t,n,r,a,i)}function Ro(e,t,n,r,i,a){Io(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Ui(t,n,!1),Ko(e,t,a);r=t.stateNode,bo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,o,a)):So(e,t,o,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Ya(e,t.containerInfo)}function Do(e,t,n,r,i){return pa(),ga(i),t.flags|=256,So(e,t,n,r),t.child}var Lo,Po,Oo,jo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,s=ts.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ii(ts,1&s),null===e)return da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Uc(l,i,0,null),e=Mc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Uo(n),t.memoizedState=Mo,e):Vo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=ho(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Uc({mode:"visible",children:r.children},i,0,null),(s=Mc(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Sa(t,e.child,null,o),t.child.memoizedState=Uo(o),t.memoizedState=Mo,s);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=ho(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),ko||l){if(null!==(r=Al)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,ja(e,i),ic(r,e,i,-1))}return vc(),zo(e,t,o,r=ho(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,aa=ci(i.nextSibling),ia=t,sa=!0,oa=null,null!==e&&(Gi[Ji++]=Yi,Gi[Ji++]=Zi,Gi[Ji++]=Qi,Yi=e.id,Zi=e.overflow,Qi=t),t=Vo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Oc(r,o):(o=Mc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Uo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i}return e=(o=e.child).sibling,i=Oc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vo(e,t){return(t=Uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&ga(r),Sa(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ra(e.return,t,n)}function $o(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(So(e,t,r.children,n),0!==(2&(r=ts.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ts,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ns(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$o(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ns(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$o(t,!0,n,null,a);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jo(e,t,n){var r=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Li(t.type)&&Pi(),Go(t),null;case 3:return r=t.stateNode,Xa(),Ti(Ri),Ti(xi),is(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oa&&(lc(oa),oa=null))),Po(e,t),Go(t),null;case 5:es(t);var i=Qa(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Go(t),null}if(e=Qa(qa.current),fa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ie(r,s),Fr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Q(e,r),i=J(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&w(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)jo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Qa(Ja.current),Qa(qa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=ia))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Go(t),null;case 13:if(Ti(ts),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==aa&&0!==(1&t.mode)&&0===(128&t.flags))ma(),pa(),t.flags|=98560,s=!1;else if(s=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),s=!1}else null!==oa&&(lc(oa),oa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ts.current)?0===jl&&(jl=3):vc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Xa(),Po(e,t),null===e&&Br(t.stateNode.containerInfo),Go(t),null;case 10:return xa(t.type._context),Go(t),null;case 19:if(Ti(ts),null===(s=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)qo(s,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ns(e))){for(t.flags|=128,qo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ts,1&ts.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Hl&&(t.flags|=128,r=!0,qo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ns(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!sa)return Go(t),null}else 2*Ye()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,qo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=ts.current,Ii(ts,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qo(e,t){switch(ra(t),t.tag){case 1:return Li(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),Ti(Ri),Ti(xi),is(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return es(t),null;case 13:if(Ti(ts),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ts),null;case 4:return Xa(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qa(qa.current);var a,s=null;switch(n){case"input":i=J(e,i),r=J(e,r),s=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var rl=!1;function il(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&nl(t,n,a)}i=i.next}while(i!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[pi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,fl=!1;function ml(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||tl(n,t);case 6:var r=hl,i=fl;hl=null,ml(e,t,n),fl=i,null!==(hl=r)&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=fl,hl=n.stateNode.containerInfo,fl=!0,ml(e,t,n),hl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&nl(n,t,s),i=i.next}while(i!==r)}ml(e,t,n);break;case 1:if(!Xo&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Tc(n,t,o)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,ml(e,t,n),Xo=r):ml(e,t,n);break;default:ml(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,fl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===hl)throw Error(a(160));pl(s,o,i),hl=null,fl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),wl(e),4&r){try{il(3,e,e.return),al(3,e)}catch(g){Tc(e,e.return,g)}try{il(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:vl(t,e),wl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(vl(t,e),wl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(i,s),we(l,o);var u=we(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":X(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?ne(i,!!s.multiple,m,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Tc(e,e.return,g)}}break;case 6:if(vl(t,e),wl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Tc(e,e.return,g)}}break;case 3:if(vl(t,e),wl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:vl(t,e),wl(e);break;case 13:vl(t,e),wl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Ye())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,vl(t,e),Xo=u):vl(t,e),wl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(m=(f=el).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:tl(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==m?(m.return=f,el=m):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Tc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),wl(e),4&r&&gl(e);case 21:}}function wl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),dl(e,cl(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ul(e,cl(e),s);break;default:throw Error(a(161))}}catch(o){Tc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){el=e,kl(e,t,n)}function kl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var i=el,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Yo;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Yo;var c=Xo;if(Yo=s,(Xo=l)&&!c)for(el=i;null!==el;)l=(s=el).child,22===s.tag&&null!==s.memoizedState?El(i):null!==l?(l.return=s,el=l):El(i);for(;null!==a;)el=a,kl(a,t,n),a=a.sibling;el=i,Yo=o,Xo=c}Sl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,el=a):Sl(e)}}function Sl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ro(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wa(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xo||512&t.flags&&sl(t)}catch(f){Tc(t,t.return,f)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function _l(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function El(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Tc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tc(t,i,l)}}var a=t.return;try{sl(t)}catch(l){Tc(t,a,l)}break;case 5:var s=t.return;try{sl(t)}catch(l){Tc(t,s,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){el=null;break}var o=t.sibling;if(null!==o){o.return=t.return,el=o;break}el=t.return}}var Cl,Tl=Math.ceil,Il=b.ReactCurrentDispatcher,Nl=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Rl=0,Al=null,Dl=null,Ll=0,Pl=0,Ol=Ci(0),jl=0,Ml=null,Ul=0,Fl=0,Vl=0,zl=null,Bl=null,$l=0,Hl=1/0,Wl=null,Kl=!1,ql=null,Gl=null,Jl=!1,Ql=null,Yl=0,Xl=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&Rl)?Ye():-1!==ec?ec:ec=Ye()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Ll?Ll&-Ll:null!==va.transition?(0===tc&&(tc=pt()),tc):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ic(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(a(185));vt(e,n,r),0!==(2&Rl)&&e===Al||(e===Al&&(0===(2&Rl)&&(Fl|=n),4===jl&&cc(e,Ll)),ac(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Hl=Ye()+500,Vi&&$i()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Al?Ll:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),si((function(){0===(6&Rl)&&$i()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(ec=-1,tc=0,0!==(6&Rl))throw Error(a(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Ll:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Rl;Rl|=2;var s=gc();for(Al===e&&Ll===t||(Wl=null,Hl=Ye()+500,mc(e,t));;)try{bc();break}catch(l){pc(e,l)}Na(),Il.current=s,Rl=i,null!==Dl?t=0:(Al=null,Ll=0,t=jl)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,mc(e,0),cc(e,r),ac(e,Ye()),n;if(6===t)cc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(s=mt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ml,mc(e,0),cc(e,r),ac(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Bl,Wl);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=$l+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Bl,Wl),t);break}_c(e,Bl,Wl);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Bl,Wl),r);break}_c(e,Bl,Wl);break;default:throw Error(a(329))}}}return ac(e,Ye()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&lc(t)),e}function lc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function cc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Rl))throw Error(a(327));Ec();var t=ht(e,0);if(0===(1&t))return ac(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,mc(e,0),cc(e,t),ac(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Bl,Wl),ac(e,Ye()),null}function dc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Hl=Ye()+500,Vi&&$i())}}function hc(e){null!==Ql&&0===Ql.tag&&0===(6&Rl)&&Ec();var t=Rl;Rl|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0===(6&(Rl=t))&&$i()}}function fc(){Pl=Ol.current,Ti(Ol)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(ra(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Xa(),Ti(Ri),Ti(xi),is();break;case 5:es(r);break;case 4:Xa();break;case 13:case 19:Ti(ts);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Al=e,Dl=e=Oc(e.current,null),Ll=Pl=t,jl=0,Ml=null,Vl=Fl=Ul=0,Bl=zl=null,null!==La){for(t=0;t<La.length;t++)if(null!==(r=(n=La[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}La=null}return e}function pc(e,t){for(;;){var n=Dl;try{if(Na(),as.current=Zs,ds){for(var r=ls.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ds=!1}if(os=0,us=cs=ls=null,hs=!1,fs=0,Nl.current=null,null===n||null===n.return){jl=1,Ml=t,Dl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yo(o);if(null!==m){m.flags&=-257,wo(m,o,l,0,t),1&m.mode&&vo(s,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){vo(s,u,t),vc();break e}c=Error(a(426))}else if(sa&&1&l.mode){var v=yo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),wo(v,o,l,0,t),ga(uo(c,l));break e}}s=c=uo(c,l),4!==jl&&(jl=2),null===zl?zl=[s]:zl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,$a(s,po(0,c,t));break e;case 1:l=c;var y=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,$a(s,go(s,l,t));break e}}s=s.return}while(null!==s)}Sc(n)}catch(b){t=b,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function gc(){var e=Il.current;return Il.current=Zs,null===e?Zs:e}function vc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Al||0===(268435455&Ul)&&0===(268435455&Fl)||cc(Al,Ll)}function yc(e,t){var n=Rl;Rl|=2;var r=gc();for(Al===e&&Ll===t||(Wl=null,mc(e,t));;)try{wc();break}catch(i){pc(e,i)}if(Na(),Rl=n,Il.current=r,null!==Dl)throw Error(a(261));return Al=null,Ll=0,jl}function wc(){for(;null!==Dl;)kc(Dl)}function bc(){for(;null!==Dl&&!Je();)kc(Dl)}function kc(e){var t=Cl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?Sc(e):Dl=t,Nl.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Jo(n,t,Pl)))return void(Dl=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return jl=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===jl&&(jl=5)}function _c(e,t,n){var r=wt,i=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{Ec()}while(null!==Ql);if(0!==(6&Rl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Al&&(Dl=Al=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Ac(tt,(function(){return Ec(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=xl.transition,xl.transition=null;var o=wt;wt=1;var l=Rl;Rl|=4,Nl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(Xi){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ro(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(Xi){Tc(t,t.return,Xi)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}p=rl,rl=!1}(e,n),yl(n,e),mr(ti),Ht=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Qe(),Rl=l,wt=o,xl.transition=s}else e.current=n;if(Jl&&(Jl=!1,Ql=e,Yl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),s=e.pendingLanes,0!==(1&s)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,$i()}(e,t,n,r)}finally{xl.transition=i,wt=r}return null}function Ec(){if(null!==Ql){var e=bt(Yl),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Rl))throw Error(a(331));var i=Rl;for(Rl|=4,el=e.current;null!==el;){var s=el,o=s.child;if(0!==(16&el.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:il(8,d,s)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var f=(d=el).sibling,m=d.return;if(ol(d),d===u){el=null;break}if(null!==f){f.return=m,el=f;break}el=m}}}var p=s.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}el=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,el=o;else e:for(;null!==el;){if(0!==(2048&(s=el).flags))switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,el=y;break e}el=s.return}}var w=e.current;for(el=w;null!==el;){var b=(o=el).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,el=b;else e:for(o=w;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(S){Tc(l,l.return,S)}if(l===o){el=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,el=k;break e}el=l.return}}if(Rl=i,$i(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Cc(e,t,n){e=za(e,t=po(0,t=uo(n,t),1),1),t=nc(),null!==e&&(vt(e,1,t),ac(e,t))}function Tc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=za(t,e=go(t,e=uo(n,e),1),1),e=nc(),null!==t&&(vt(t,1,e),ac(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Ll&n)===n&&(4===jl||3===jl&&(130023424&Ll)===Ll&&500>Ye()-$l?mc(e,0):Vl|=n),ac(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=ja(e,t))&&(vt(e,t,n),ac(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Nc(e,n)}function Ac(e,t){return qe(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Dc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return Mc(n.children,i,s,t);case E:o=8,i|=8;break;case C:return(e=Lc(12,n,t,2|i)).elementType=C,e.lanes=s,e;case x:return(e=Lc(13,n,t,i)).elementType=x,e.lanes=s,e;case R:return(e=Lc(19,n,t,i)).elementType=R,e.lanes=s,e;case L:return Uc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case I:o=9;break e;case N:o=11;break e;case A:o=14;break e;case D:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Lc(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Mc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function Uc(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,s,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Lc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ua(a),e}function $c(e){if(!e)return Ni;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Li(n))return ji(e,n,t)}return t}function Hc(e,t,n,r,i,a,s,o,l){return(e=Bc(n,r,!0,e,0,a,0,o,l)).context=$c(null),n=e.current,(a=Va(r=nc(),i=rc(n))).callback=void 0!==t&&null!==t?t:null,za(n,a,i),e.current.lanes=i,vt(e,i,r),ac(e,r),e}function Wc(e,t,n,r){var i=t.current,a=nc(),s=rc(i);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Va(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=za(i,t,s))&&(ic(e,i,s,a),Ba(e,i,s)),s}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ko=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ko=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),pa();break;case 5:Za(t);break;case 1:Li(t.type)&&Mi(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(Ea,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ts,1&ts.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ii(ts,1&ts.current),null!==(e=Ko(e,t,n))?e.sibling:null);Ii(ts,1&ts.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ts,ts.current),r)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n)}return Ko(e,t,n)}(e,t,n);ko=0!==(131072&e.flags)}else ko=!1,sa&&0!==(1048576&t.flags)&&ta(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var i=Di(t,xi.current);Aa(t,n),i=vs(null,t,r,e,i,n);var s=ys();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ua(t),i.updater=ao,t.stateNode=i,i._reactInternals=t,co(t,r,e,n),t=Ro(null,t,r,!0,s,n)):(t.tag=0,sa&&s&&na(t),So(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(r),e=ro(r,e),i){case 0:t=No(null,t,r,e,n);break e;case 1:t=xo(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,ro(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:ro(r,i),n);case 1:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:ro(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,Fa(e,t),Ha(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Do(e,t,r,n,i=uo(Error(a(423)),t));break e}if(r!==i){t=Do(e,t,r,n,i=uo(Error(a(424)),t));break e}for(aa=ci(t.stateNode.containerInfo.firstChild),ia=t,sa=!0,oa=null,n=_a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Ko(e,t,n);break e}So(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&da(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),Io(e,t),So(e,t,o,n),t.child;case 6:return null===e&&da(t),null;case 13:return Fo(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):So(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:ro(r,i),n);case 7:return So(e,t,t.pendingProps,n),t.child;case 8:case 12:return So(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ii(Ea,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!Ri.current){t=Ko(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Va(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ra(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ra(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}So(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Aa(t,n),r=r(i=Da(i)),t.flags|=1,So(e,t,r,n),t.child;case 14:return i=ro(r=t.type,t.pendingProps),Eo(e,t,r,i=ro(r.type,i),n);case 15:return Co(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ro(r,i),Wo(e,t),t.tag=1,Li(r)?(e=!0,Mi(t)):e=!1,Aa(t,n),oo(t,r,i),co(t,r,i,n),Ro(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return To(e,t,n)}throw Error(a(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=Kc(s);o.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(s);a.call(e)}}var s=Hc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=s,e[mi]=s.current,Br(8===e.nodeType?e.parentNode:e),hc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Kc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[mi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Kc(s)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[mi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Mt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,Ye()),0===(6&Rl)&&(Hl=Ye()+500,$i()))}break;case 13:hc((function(){var t=ja(e,1);if(null!==t){var n=nc();ic(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=ja(e,134217728);if(null!==t)ic(t,e,134217728,nc());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=rc(e),n=ja(e,t);if(null!==n)ic(n,e,t,nc());Gc(e,t)}},Et=function(){return wt},Ct=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(a(90));q(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=dc,xe=hc;var nu={usingClientEntryPoint:!1,Events:[wi,bi,Si,Te,Ie,dc]},ru={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{it=au.inject(iu),at=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,s,o),e[mi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(hc((function(){tu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mi]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.p="/SurvivorRankings/";var r=n(43),i=n(391),a=(n(358),"popstate");function s(){return f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,h="POP",f=null,m=p();function p(){return(l.state||{idx:null}).idx}function g(){h="POP";let e=p(),t=null==e?null:e-m;m=e,f&&f({action:h,location:y.location,delta:t})}function v(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),o(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==m&&(m=0,l.replaceState({...l.state,idx:m},""));let y={get action(){return h},get location(){return e(i,l)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(a,g),f=e,()=>{i.removeEventListener(a,g),f=null}},createHref:e=>t(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let r=u(y.location,e,t);n&&n(r,e),m=p()+1;let a=c(r,m),o=y.createHref(r);try{l.pushState(a,"",o)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(o)}s&&f&&f({action:h,location:y.location,delta:1})},replace:function(e,t){h="REPLACE";let r=u(y.location,e,t);n&&n(r,e),m=p();let i=c(r,m),a=y.createHref(r);l.replaceState(i,"",a),s&&f&&f({action:h,location:y.location,delta:0})},go:e=>l.go(e)};return y}new WeakMap;function m(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let i=x(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let a=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=N(i);s=T(a[o],e,r)}return s}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let l=P([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of v(e.path))i(e,t,n);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=v(r.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var y=/^:[\w-]+$/,w=3,b=2,k=1,S=10,_=-2,E=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=_),t&&(r+=b),n.filter((e=>!E(e))).reduce(((e,t)=>e+(y.test(t)?w:""===t?k:S)),r)}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:P([a,u.pathname]),pathnameBase:O(P([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=P([a,u.pathnameBase]))}return s}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:s,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function x(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e){let t=A(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function L(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=h(e):(r={...e},o(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let a,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:j(r),hash:M(i)}}(r,a),u=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var P=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var F=["POST","PUT","PATCH","DELETE"],V=(new Set(F),["GET",...F]);new Set(V),Symbol("ResetLoaderData");var z=r.createContext(null);z.displayName="DataRouter";var B=r.createContext(null);B.displayName="DataRouterState";var $=r.createContext({isTransitioning:!1});$.displayName="ViewTransition";var H=r.createContext(new Map);H.displayName="Fetchers";var W=r.createContext(null);W.displayName="Await";var K=r.createContext(null);K.displayName="Navigation";var q=r.createContext(null);q.displayName="Location";var G=r.createContext({outlet:null,matches:[],isDataRoute:!1});G.displayName="Route";var J=r.createContext(null);J.displayName="RouteError";function Q(){return null!=r.useContext(q)}function Y(){return o(Q(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(q).location}var X="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(e){r.useContext(K).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(G);return e?function(){let{router:e}=ce("useNavigate"),t=de("useNavigate"),n=r.useRef(!1);Z((()=>{n.current=!0}));let i=r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(n.current,X),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))}),[e,t]);return i}():function(){o(Q(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(z),{basename:t,navigator:n}=r.useContext(K),{matches:i}=r.useContext(G),{pathname:a}=Y(),s=JSON.stringify(D(i)),c=r.useRef(!1);Z((()=>{c.current=!0}));let u=r.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,X),!c.current)return;if("number"===typeof r)return void n.go(r);let o=L(r,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:P([t,o.pathname])),(i.replace?n.replace:n.push)(o,i.state,i)}),[t,n,s,a,e]);return u}()}r.createContext(null);function te(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(G),{pathname:i}=Y(),a=JSON.stringify(D(n));return r.useMemo((()=>L(e,JSON.parse(a),i,"path"===t)),[e,a,i,t])}function ne(e,t,n,i){o(Q(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:s}=r.useContext(K),{matches:c}=r.useContext(G),u=c[c.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let e=g&&g.path||"";me(f,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=Y();if(t){let e="string"===typeof t?h(t):t;o("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let w=v.pathname||"/",b=w;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let k=!s&&n&&n.matches&&n.matches.length>0?n.matches:m(e,{pathname:b});l(g||null!=k,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),l(null==k||void 0!==k[k.length-1].route.element||void 0!==k[k.length-1].route.Component||void 0!==k[k.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=oe(k&&k.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:P([p,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:P([p,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,n,i);return t&&S?r.createElement(q.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function re(){let e=he(),t=U(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,o)}var ie=r.createElement(re,null),ae=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(G.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function se(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext(z);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(G.Provider,{value:t},i)}function oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,a=n?.errors;if(null!=a){let e=i.findIndex((e=>e.route.id&&void 0!==a?.[e.route.id]));o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,l=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){s=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((e,o,c)=>{let u,d=!1,h=null,f=null;n&&(u=a&&o.route.id?a[o.route.id]:void 0,h=o.route.errorElement||ie,s&&(l<0&&0===c?(me("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=o.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,c+1)),p=()=>{let t;return t=u?h:d?f:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(se,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?r.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()}),null)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ce(e){let t=r.useContext(z);return o(t,le(e)),t}function ue(e){let t=r.useContext(B);return o(t,le(e)),t}function de(e){let t=function(e){let t=r.useContext(G);return o(t,le(e)),t}(e),n=t.matches[t.matches.length-1];return o(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function he(){let e=r.useContext(J),t=ue("useRouteError"),n=de("useRouteError");return void 0!==e?e:t.errors?.[n]}var fe={};function me(e,t,n){t||fe[e]||(fe[e]=!0,l(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return ne(t,void 0,r,n)}));function pe(e){let{to:t,replace:n,state:i,relative:a}=e;o(Q(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=r.useContext(K);l(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=r.useContext(G),{pathname:u}=Y(),d=ee(),h=L(t,D(c),u,"path"===a),f=JSON.stringify(h);return r.useEffect((()=>{d(JSON.parse(f),{replace:n,state:i,relative:a})}),[d,f,a,n,i]),null}function ge(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ve(e){let{basename:t="/",children:n=null,location:i,navigationType:a="POP",navigator:s,static:c=!1}=e;o(!Q(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:u,navigator:s,static:c,future:{}})),[u,s,c]);"string"===typeof i&&(i=h(i));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:v="default"}=i,y=r.useMemo((()=>{let e=x(f,u);return null==e?null:{location:{pathname:e,search:m,hash:p,state:g,key:v},navigationType:a}}),[u,f,m,p,g,v,a]);return l(null!=y,`<Router basename="${u}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:r.createElement(K.Provider,{value:d},r.createElement(q.Provider,{children:n,value:y}))}function ye(e){let{children:t,location:n}=e;return ne(we(t),n)}r.Component;function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,we(e.props.children,a));o(e.type===ge,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=we(e.props.children,a)),n.push(s)})),n}var be="get",ke="application/x-www-form-urlencoded";function Se(e){return null!=e&&"string"===typeof e.tagName}var _e=null;var Ee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ce(e){return null==e||Ee.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ke}"`),null)}function Te(e,t){let n,r,i,a,s;if(Se(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?x(s,t):null,n=e.getAttribute("method")||be,i=Ce(e.getAttribute("enctype"))||ke,a=new FormData(e)}else if(function(e){return Se(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Se(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?x(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||be,i=Ce(e.getAttribute("formenctype"))||Ce(s.getAttribute("enctype"))||ke,a=new FormData(s,e),!function(){if(null===_e)try{new FormData(document.createElement("form"),0),_e=!1}catch(e){_e=!0}return _e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(Se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=be,r=null,i=ke,s=e}var o;return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function Ie(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ne(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function xe(e){return null!=e&&"string"===typeof e.page}function Re(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ae(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===a?t.filter(((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function De(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Le(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!xe(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e}),[])}function Pe(e){return{__html:e}}Symbol("SingleFetchRedirect");function Oe(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===x(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}r.Component;function je(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,a=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(U(t))return r.createElement(Me,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(Me,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function Me(e){let{title:t,renderScripts:n,isOutsideRemixApp:i,children:a}=e,{routeModules:s}=Be();return s.root?.Layout&&!i?a:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,n?r.createElement(Je,null):null)))}function Ue(e){return!0===e}function Fe(){let e=r.useContext(z);return Ie(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ve(){let e=r.useContext(B);return Ie(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ze=r.createContext(void 0);function Be(){let e=r.useContext(ze);return Ie(e,"You must render this element inside a <HydratedRouter> element"),e}function $e(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function He(e,t,n){if(n&&!Ge)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function We(e){let{page:t,...n}=e,{router:i}=Fe(),a=r.useMemo((()=>m(i.routes,t,i.basename)),[i.routes,t,i.basename]);return a?r.createElement(qe,{page:t,matches:a,...n}):null}function Ke(e){let{manifest:t,routeModules:n}=Be(),[i,a]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return Le((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ne(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Re).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||a(e)})),()=>{r=!0}}),[e,t,n]),i}function qe(e){let{page:t,matches:n,...i}=e,a=Y(),{manifest:s,routeModules:o}=Be(),{basename:l}=Fe(),{loaderData:c,matches:u}=Ve(),d=r.useMemo((()=>Ae(t,n,u,s,a,"data")),[t,n,u,s,a]),h=r.useMemo((()=>Ae(t,n,u,s,a,"assets")),[t,n,u,s,a]),f=r.useMemo((()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=s.routes[t.route.id];n&&n.hasLoader&&(!d.some((e=>e.route.id===t.route.id))&&t.route.id in c&&o[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=Oe(t,l);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,a,s,d,n,t,o]),m=r.useMemo((()=>De(h,s)),[h,s]),p=Ke(h);return r.createElement(r.Fragment,null,f.map((e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),m.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),p.map((e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})})))}ze.displayName="FrameworkContext";var Ge=!1;function Je(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,ssr:a,renderMeta:s}=Be(),{router:o,static:l,staticContext:c}=Fe(),{matches:u}=Ve(),d=Ue(a);s&&(s.didRenderScripts=!0);let h=He(u,null,i);r.useEffect((()=>{Ge=!0}),[]);let f=r.useMemo((()=>{let i=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",a=l?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(t.url)}`};\n${h.map(((e,n)=>{let r=`route${n}`,i=t.routes[e.route.id];Ie(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map((e=>e.route.id))),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push(`/${a.join("/")}`),a.pop();s.forEach((e=>{let n=m(t.routes,e,t.basename);n&&n.forEach((e=>i.add(e.route.id)))}));let o=[...i].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:o,sri:!!n||void 0}}(t,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(i),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(a),type:"module",async:!0}))}),[]),p=Ge?[]:(g=t.entry.imports.concat(De(h,t,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let v="object"===typeof t.sri?t.sri:{};return Ge?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,d?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:v[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:v[t.entry.module],suppressHydrationWarning:!0}),p.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:v[t],suppressHydrationWarning:!0}))),f)}function Qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Ye="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ye&&(window.__reactRouterVersion="7.5.0")}catch(iy){}function Xe(e){let{basename:t,children:n,window:i}=e,a=r.useRef();null==a.current&&(a.current=s({window:i,v5Compat:!0}));let o=a.current,[l,c]=r.useState({action:o.action,location:o.location}),u=r.useCallback((e=>{r.startTransition((()=>c(e)))}),[c]);return r.useLayoutEffect((()=>o.listen(u)),[o,u]),r.createElement(ve,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var Ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=r.forwardRef((function(e,t){let n,{onClick:i,discover:a="render",prefetch:s="none",relative:c,reloadDocument:u,replace:h,state:f,target:m,to:p,preventScrollReset:g,viewTransition:v,...y}=e,{basename:w}=r.useContext(K),b="string"===typeof p&&Ze.test(p),k=!1;if("string"===typeof p&&b&&(n=p,Ye))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=x(t.pathname,w);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:k=!0}catch(iy){l(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(Q(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(K),{hash:a,pathname:s,search:l}=te(e,{relative:t}),c=s;return"/"!==n&&(c="/"===s?n:P([n,s])),i.createHref({pathname:c,search:l,hash:a})}(p,{relative:c}),[_,E,C]=function(e,t){let n=r.useContext(ze),[i,a]=r.useState(!1),[s,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(i){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let m=()=>{a(!0)},p=()=>{a(!1),o(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:$e(l,m),onBlur:$e(c,p),onMouseEnter:$e(u,m),onMouseLeave:$e(d,p),onTouchStart:$e(h,m)}]:[!1,f,{}]}(s,y),T=function(e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),c=Y(),u=te(e,{relative:s});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:d(c)===d(u);l(e,{replace:t,state:i,preventScrollReset:a,relative:s,viewTransition:o})}}),[c,l,u,n,i,t,e,a,s,o])}(p,{replace:h,state:f,target:m,preventScrollReset:g,relative:c,viewTransition:v});let I=r.createElement("a",{...y,...C,href:n||S,onClick:k||u?i:function(e){i&&i(e),e.defaultPrevented||T(e)},ref:Qe(t,E),target:m,"data-discover":b||"render"!==a?void 0:"true"});return _&&!b?r.createElement(r.Fragment,null,I,r.createElement(We,{page:S})):I}));et.displayName="Link";var tt=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=te(c,{relative:h.relative}),m=Y(),p=r.useContext(B),{navigator:g,basename:v}=r.useContext(K),y=null!=p&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext($);o(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=it("useViewTransitionState"),a=te(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=x(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=x(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=I(a.pathname,l)||null!=I(a.pathname,s)}(f)&&!0===u,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=m.pathname,k=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(b=b.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&v&&(k=x(k,v)||k);const S="/"!==w&&w.endsWith("/")?w.length-1:w.length;let _,E=b===w||!s&&b.startsWith(w)&&"/"===b.charAt(S),C=null!=k&&(k===w||!s&&k.startsWith(w)&&"/"===k.charAt(w.length)),T={isActive:E,isPending:C,isTransitioning:y},N=E?n:void 0;_="function"===typeof a?a(T):[a,E?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(T):l;return r.createElement(et,{...h,"aria-current":N,className:_,ref:t,style:R,to:c,viewTransition:u},"function"===typeof d?d(T):d)}));tt.displayName="NavLink";var nt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:a,reloadDocument:s,replace:l,state:c,method:u=be,action:h,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:g,...v}=e,y=ot(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(K),i=r.useContext(G);o(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s={...te(e||".",{relative:t})},l=Y();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?`?${n}`:""}}e&&"."!==e||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:P([n,s.pathname]));return d(s)}(h,{relative:m}),b="get"===u.toLowerCase()?"get":"post",k="string"===typeof h&&Ze.test(h);return r.createElement("form",{ref:t,method:b,action:w,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;y(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:l,state:c,relative:m,preventScrollReset:p,viewTransition:g})},...v,"data-discover":k||"render"!==n?void 0:"true"})}));function rt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function it(e){let t=r.useContext(z);return o(t,rt(e)),t}nt.displayName="Form";var at=0,st=()=>`__${String(++at)}__`;function ot(){let{router:e}=it("useSubmit"),{basename:t}=r.useContext(K),n=de("useRouteId");return r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:o,formData:l,body:c}=Te(r,t);if(!1===i.navigate){let t=i.fetcherKey||st();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;const lt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ct={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new ut;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dt=function(e){return function(e){const t=lt(e);return ct.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ht=function(e){try{return ct.decodeString(e,!0)}catch(iy){console.error("base64Decode failed: ",iy)}return null};const ft=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,mt=()=>{try{return ft()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/SurvivorRankings",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(iy){return}const t=e&&ht(e[1]);return t&&JSON.parse(t)})()}catch(iy){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${iy}`)}},pt=e=>{var t,n;return null===(n=null===(t=mt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},gt=e=>{const t=pt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},vt=()=>{var e;return null===(e=mt())||void 0===e?void 0:e.config},yt=e=>{var t;return null===(t=mt())||void 0===t?void 0:t[`_${e}`]};class wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function bt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[dt(JSON.stringify({alg:"none",type:"JWT"})),dt(JSON.stringify(a)),""].join(".")}function kt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function St(){return!function(){var e;const t=null===(e=mt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(iy){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _t(){try{return"object"===typeof indexedDB}catch(iy){return!1}}class Et extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ct.prototype.create)}}class Ct{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Tt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new Et(n,a,t)}}const Tt=/\{\$([^}]+)}/g;function It(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(Nt(n)&&Nt(a)){if(!It(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nt(e){return null!==e&&"object"===typeof e}function xt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Rt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function At(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Dt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Lt),void 0===r.error&&(r.error=Lt),void 0===r.complete&&(r.complete=Lt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(iy){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(iy){"undefined"!==typeof console&&console.error&&console.error(iy)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Lt(){}function Pt(e){return e&&e._delegate?e._delegate:e}class Ot{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jt="[DEFAULT]";class Mt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new wt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(iy){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(iy){if(r)return null;throw iy}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:jt})}catch(iy){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(iy){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===jt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.component?this.component.multipleInstances?e:jt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ut{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ft=[];var Vt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vt||(Vt={}));const zt={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},Bt=Vt.INFO,$t={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},Ht=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=$t[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...a)};class Wt{constructor(e){this.name=e,this._logLevel=Bt,this._logHandler=Ht,this._userLogHandler=null,Ft.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?zt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}let Kt,qt;const Gt=new WeakMap,Jt=new WeakMap,Qt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap;let Zt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Jt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Qt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function en(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qt||(qt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(rn(this),n),nn(Gt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nn(e.apply(rn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(rn(this),t,...r);return Qt.set(a,t.sort?t.sort():[t]),nn(a)}}function tn(e){return"function"===typeof e?en(e):(e instanceof IDBTransaction&&function(e){if(Jt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Jt.set(e,t)}(e),t=e,(Kt||(Kt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Zt):e);var t}function nn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(nn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&Gt.set(t,e)})).catch((()=>{})),Xt.set(t,e),t}(e);if(Yt.has(e))return Yt.get(e);const t=tn(e);return t!==e&&(Yt.set(e,t),Xt.set(t,e)),t}const rn=e=>Xt.get(e);const an=["get","getKey","getAll","getAllKeys","count"],sn=["put","add","delete","clear"],on=new Map;function ln(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(on.get(t))return on.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=sn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!an.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return on.set(t,a),a}Zt=(e=>({...e,get:(t,n,r)=>ln(t,n)||e.get(t,n,r),has:(t,n)=>!!ln(t,n)||e.has(t,n)}))(Zt);class cn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const un="@firebase/app",dn="0.11.4",hn=new Wt("@firebase/app"),fn="@firebase/app-compat",mn="@firebase/analytics-compat",pn="@firebase/analytics",gn="@firebase/app-check-compat",vn="@firebase/app-check",yn="@firebase/auth",wn="@firebase/auth-compat",bn="@firebase/database",kn="@firebase/data-connect",Sn="@firebase/database-compat",_n="@firebase/functions",En="@firebase/functions-compat",Cn="@firebase/installations",Tn="@firebase/installations-compat",In="@firebase/messaging",Nn="@firebase/messaging-compat",xn="@firebase/performance",Rn="@firebase/performance-compat",An="@firebase/remote-config",Dn="@firebase/remote-config-compat",Ln="@firebase/storage",Pn="@firebase/storage-compat",On="@firebase/firestore",jn="@firebase/vertexai",Mn="@firebase/firestore-compat",Un="firebase",Fn="[DEFAULT]",Vn={[un]:"fire-core",[fn]:"fire-core-compat",[pn]:"fire-analytics",[mn]:"fire-analytics-compat",[vn]:"fire-app-check",[gn]:"fire-app-check-compat",[yn]:"fire-auth",[wn]:"fire-auth-compat",[bn]:"fire-rtdb",[kn]:"fire-data-connect",[Sn]:"fire-rtdb-compat",[_n]:"fire-fn",[En]:"fire-fn-compat",[Cn]:"fire-iid",[Tn]:"fire-iid-compat",[In]:"fire-fcm",[Nn]:"fire-fcm-compat",[xn]:"fire-perf",[Rn]:"fire-perf-compat",[An]:"fire-rc",[Dn]:"fire-rc-compat",[Ln]:"fire-gcs",[Pn]:"fire-gcs-compat",[On]:"fire-fst",[Mn]:"fire-fst-compat",[jn]:"fire-vertex","fire-js":"fire-js",[Un]:"fire-js-all"},zn=new Map,Bn=new Map,$n=new Map;function Hn(e,t){try{e.container.addComponent(t)}catch(iy){hn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,iy)}}function Wn(e){const t=e.name;if($n.has(t))return hn.debug(`There were multiple attempts to register component ${t}.`),!1;$n.set(t,e);for(const n of zn.values())Hn(n,e);for(const n of Bn.values())Hn(n,e);return!0}function Kn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Gn=new Ct("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Jn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ot("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const Qn="11.6.0";function Yn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Gn.create("bad-app-name",{appName:String(i)});if(n||(n=vt()),!n)throw Gn.create("no-options");const a=zn.get(i);if(a){if(It(n,a.options)&&It(r,a.config))return a;throw Gn.create("duplicate-app",{appName:i})}const s=new Ut(i);for(const l of $n.values())s.addComponent(l);const o=new Jn(n,r,s);return zn.set(i,o),o}function Xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;const t=zn.get(e);if(!t&&e===Fn&&vt())return Yn();if(!t)throw Gn.create("no-app",{appName:e});return t}function Zn(e,t,n){var r;let i=null!==(r=Vn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void hn.warn(e.join(" "))}Wn(new Ot(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const er="firebase-heartbeat-store";let tr=null;function nr(){return tr||(tr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=nn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(nn(s.result),e.oldVersion,e.newVersion,nn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(er)}catch(iy){console.warn(iy)}}}).catch((e=>{throw Gn.create("idb-open",{originalErrorMessage:e.message})}))),tr}async function rr(e,t){try{const n=(await nr()).transaction(er,"readwrite"),r=n.objectStore(er);await r.put(t,ir(e)),await n.done}catch(iy){if(iy instanceof Et)hn.warn(iy.message);else{const t=Gn.create("idb-set",{originalErrorMessage:null===iy||void 0===iy?void 0:iy.message});hn.warn(t.message)}}}function ir(e){return`${e.name}!${e.options.appId}`}class ar{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new or(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(iy){hn.warn(iy)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=sr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),lr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=dt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(iy){return hn.warn(iy),""}}}function sr(){return(new Date).toISOString().substring(0,10)}class or{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!_t()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await nr()).transaction(er),n=await t.objectStore(er).get(ir(e));return await t.done,n}catch(iy){if(iy instanceof Et)hn.warn(iy.message);else{const t=Gn.create("idb-get",{originalErrorMessage:null===iy||void 0===iy?void 0:iy.message});hn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return rr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return rr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function lr(e){return dt(JSON.stringify({version:2,heartbeats:e})).length}var cr;cr="",Wn(new Ot("platform-logger",(e=>new cn(e)),"PRIVATE")),Wn(new Ot("heartbeat",(e=>new ar(e)),"PRIVATE")),Zn(un,dn,cr),Zn(un,dn,"esm2017"),Zn("fire-js","");Zn("firebase","11.6.0","app");const ur="firebasestorage.googleapis.com",dr="storageBucket";class hr extends Et{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(pr(e),`Firebase Storage: ${t} (${pr(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pr(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var fr,mr;function pr(e){return"storage/"+e}function gr(){return new hr(fr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function vr(){return new hr(fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yr(){return new hr(fr.CANCELED,"User canceled the upload/download.")}function wr(e){return new hr(fr.INVALID_ARGUMENT,e)}function br(){return new hr(fr.APP_DELETED,"The Firebase app was deleted.")}function kr(e){throw new hr(fr.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(fr||(fr={}));class Sr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Sr.makeFromUrl(e,t)}catch(iy){return new Sr(e,"")}if(""===n.path)return n;throw r=e,new hr(fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp(`^https?://${t===ur?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:a}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Sr(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new hr(fr.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class _r{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Er(e){return"string"===typeof e||e instanceof String}function Cr(e,t,n,r){if(r<t)throw wr(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw wr(`Invalid value for '${e}'. Expected ${n} or less.`)}function Tr(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Ir(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Nr(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(mr||(mr={}));class xr{constructor(e,t,n,r,i,a,s,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Rr(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===mr.NO_ERROR,i=n.getStatus();if(!t||Nr(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===mr.ABORT;return void e(!1,new Rr(!1,null,t))}const a=-1!==this.successCodes_.indexOf(i);e(!0,new Rr(a,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(iy){r(iy)}else if(null!==i){const e=gr();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?br():yr())}else{r(vr())}};this.canceled_?t(0,new Rr(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){a&&clearTimeout(a)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let a;r<64&&(r*=2),1===o?(o=2,a=0):a=1e3*(r+Math.random()),d(a)}let m=!1;function p(e){m||(m=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),a=setTimeout((()=>{s=!0,p(!0)}),n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Rr{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Ar(e){let t;try{t=JSON.parse(e)}catch(iy){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function Dr(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Lr(e,t){return t}class Pr{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Lr}}let Or=null;function jr(){if(Or)return Or;const e=[];e.push(new Pr("bucket")),e.push(new Pr("generation")),e.push(new Pr("metageneration")),e.push(new Pr("name","fullPath",!0));const t=new Pr("name");t.xform=function(e,t){return function(e){return!Er(e)||e.length<2?e:Dr(e)}(t)},e.push(t);const n=new Pr("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Pr("timeCreated")),e.push(new Pr("updated")),e.push(new Pr("md5Hash",null,!0)),e.push(new Pr("cacheControl",null,!0)),e.push(new Pr("contentDisposition",null,!0)),e.push(new Pr("contentEncoding",null,!0)),e.push(new Pr("contentLanguage",null,!0)),e.push(new Pr("contentType",null,!0)),e.push(new Pr("metadata","customMetadata",!0)),Or=e,Or}function Mr(e,t,n){const r={type:"file"},i=n.length;for(let a=0;a<i;a++){const e=n[a];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Sr(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ur(e,t,n){const r=Ar(t);if(null===r)return null;return Mr(e,r,n)}class Fr{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Vr(e){if(!e)throw gr()}function zr(e,t){return function(n,r){const i=Ur(e,r,t);return Vr(null!==i),function(e,t,n,r){const i=Ar(t);if(null===i)return null;if(!Er(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const s=encodeURIComponent;return a.split(",").map((t=>{const i=e.bucket,a=e.fullPath;return Tr("/b/"+s(i)+"/o/"+s(a),n,r)+Ir({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Br(e){return function(t,n){let r;var i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new hr(fr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new hr(fr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new hr(fr.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new hr(fr.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function $r(e){const t=Br(e);return function(n,r){let i=t(n,r);var a;return 404===n.getStatus()&&(a=e.path,i=new hr(fr.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")),i.serverResponse=r.serverResponse,i}}class Hr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mr.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=mr.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=mr.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw kr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kr("cannot .getStatus() before sending");try{return this.xhr_.status}catch(iy){return-1}}getResponse(){if(!this.sent_)throw kr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Wr extends Hr{initXhr(){this.xhr_.responseType="text"}}function Kr(){return new Wr}class qr{constructor(e,t){this._service=e,this._location=t instanceof Sr?t:Sr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new qr(e,t)}get root(){const e=new Sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Dr(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Sr(this._location.bucket,e);return new qr(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new hr(fr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Gr(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Tr(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Fr(r,"GET",zr(e,n),i);return a.errorHandler=$r(t),a}(e.storage,e._location,jr());return e.storage.makeRequestWithTokens(t,Kr).then((e=>{if(null===e)throw new hr(fr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Jr(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Sr(e._location.bucket,n);return new qr(e.storage,r)}function Qr(e,t){if(e instanceof Zr){const n=e;if(null==n._bucket)throw new hr(fr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dr+"' property when initializing the app?");const r=new qr(n,n._bucket);return null!=t?Qr(r,t):r}return void 0!==t?Jr(e,t):e}function Yr(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Zr)return new qr(e,t);throw wr("To use ref(service, url), the first argument must be a Storage instance.")}return Qr(e,t)}function Xr(e,t){const n=null===t||void 0===t?void 0:t[dr];return null==n?null:Sr.makeFromBucketSpec(n,e)}class Zr{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=ur,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Sr.makeFromBucketSpec(r,this._host):Xr(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Sr.makeFromBucketSpec(this._url,e):this._bucket=Xr(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cr("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cr("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qr(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new _r(br());{const a=function(e,t,n,r,i,a){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Ir(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new xr(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then((()=>this._requests.delete(a)),(()=>this._requests.delete(a))),a}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const ei="@firebase/storage",ti="0.13.7",ni="storage";function ri(e){return Gr(e=Pt(e))}function ii(e,t){return Yr(e=Pt(e),t)}function ai(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Zr(r,i,a,n,Qn)}Wn(new Ot(ni,ai,"PUBLIC").setMultipleInstances(!0)),Zn(ei,ti,""),Zn(ei,ti,"esm2017");var si,oi,li="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ci={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,s=0;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),a=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new p(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=s(n)).j(t);d(c)||0<c.l(e);)c=(a=s(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new p(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],s=0;s<i;s++)a[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var s=i+(65535&this.i(a))+(65535&e.i(a)),o=(s>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=o>>>16,s&=65535,o&=65535,n[a]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),p=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=f*g,m(n,2*i+2*a),n[2*i+2*a+1]+=l*g,m(n,2*i+2*a+1),n[2*i+2*a+1]+=f*p,m(n,2*i+2*a+1),n[2*i+2*a+2]+=l*p,m(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,oi=ci.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=o,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},si=ci.Integer=r}).apply("undefined"!==typeof li?li:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ui,di,hi,fi,mi,pi,gi,vi,yi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},wi={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof yi&&yi];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=x;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,N=!1,x=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(A)}};var A=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){_(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function D(){this.s=this.s,this.C=this.C}function L(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},L.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(L.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,L);var j={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=$(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new F(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,s(r)?!!r.capture:!!r,i):q(e,t,n,!1,r,i)}function q(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=s(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)G(e,t[a],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,s(r)?!!r.capture:!!r,i):q(e,t,n,!0,r,i)}function J(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)J(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(a=e.g[t],n,r,i))&&(V(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function Y(e){return e in W?W[e]:W[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new L(t,e);else if(t instanceof L)t.target=t.target||e;else{var i=t;k(t=new L(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(s=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&B(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,D),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){J(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}d(le,D);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){L.call(this,"d")}function we(){L.call(this,"c")}d(ye,L),d(we,L);var be={},ke=null;function Se(){return ke=ke||new ne}function _e(e){L.call(this,be.La,e)}function Ee(e){const t=Se();re(t,new _e(t))}function Ce(e,t){L.call(this,be.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new Ce(t,e))}function Ie(e,t){L.call(this,be.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function xe(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",d(_e,L),be.STAT_EVENT="statevent",d(Ce,L),be.Ma="timingevent",d(Ie,L),xe.prototype.xa=function(){this.g=!1},xe.prototype.info=function(){};var Ae,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}d(Pe,me),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ae=new Pe;var Me={},Ue={};function Fe(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new je,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var s=K(n,i[a],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function qe(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Qt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(We(o),$e(o)),r.g=s}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Jt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||Ee(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var a=r.length,s=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){qe(this),Ke(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),qe(this),Ke(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Ue){4==h&&(this.s=4,Te(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Re(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),an(d),d.M=!0,Te(11))}}else Re(this.i,this.l,o,"[Invalid Chunked Response]"),qe(this),Ke(this)}else Re(this.i,this.l,o,null),Ge(this,o);4==h&&qe(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),qe(this),Ke(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,qe(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Te(17)),qe(this),this.s=2,Ke(this)):He(this,this.S-e)};var Je=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new kt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new kt(null,this.h))}function st(e){return new at(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof kt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new kt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var pt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function Ct(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Nt(){this.g=new fe}function xt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(iy){throw t.push(r+"type="+encodeURIComponent("_badmap")),iy}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Dt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Lt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=kt.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,Et(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(Rt,me),Rt.prototype.g=function(){return new At(this.l,this.j)},Rt.prototype.i=(pt={},function(){return pt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lt(this):Pt(this),3==this.readyState&&Dt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Lt(this))},e.Qa=function(e){this.g&&(this.response=e,Lt(this))},e.ga=function(){this.g&&Lt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ut=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),$t(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),a=!Ut.test(s?s.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(iy){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ki){return null}}function qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Jt(e){if(Yt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Qt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||R(),N||(I(),N=!0),x.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&jt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{xt(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||R(),N||(I(),N=!0),x.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&jt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),an(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ie(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new xe;if(i.Image){const r=new Image;r.onload=u(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(It,n,"TestLoadImage: error",!1,t,r),r.onabort=u(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(It,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout((()=>{n.abort(),It(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)})).catch((()=>{clearTimeout(r),It(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),Yt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof at?st(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var s=new at(null);r&&ot(s,r),t&&(s.g=t),a&&lt(s,a),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Rt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function mn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?pe(this.o):pe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Vt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Vt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let a=this.o;if(this.S&&(a?(a=w(a),k(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Ot(a)))+"&"+t:this.m&&jt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Qt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Jt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Je(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,we),d(wn,mn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new vn(e))},wn.prototype.sa=function(e){re(this.g,new yn)},wn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,vi=wi.createWebChannelTransport=function(){return new pn},gi=wi.getStatEventTarget=function(){return Se()},pi=wi.Event=be,mi=wi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,fi=wi.ErrorCode=De,Le.COMPLETE="complete",hi=wi.EventType=Le,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,di=wi.WebChannel=ge,wi.FetchXmlHttpFactory=Rt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,ui=wi.XhrIo=Mt}).apply("undefined"!==typeof yi?yi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const bi="@firebase/firestore",ki="4.7.10";class Si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Si.UNAUTHENTICATED=new Si(null),Si.GOOGLE_CREDENTIALS=new Si("google-credentials-uid"),Si.FIRST_PARTY=new Si("first-party-uid"),Si.MOCK_USER=new Si("mock-user");let _i="11.5.0";const Ei=new Wt("@firebase/firestore");function Ci(){return Ei.logLevel}function Ti(e){if(Ei.logLevel<=Vt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(xi);Ei.debug(`Firestore (${_i}): ${e}`,...i)}}function Ii(e){if(Ei.logLevel<=Vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(xi);Ei.error(`Firestore (${_i}): ${e}`,...i)}}function Ni(e){if(Ei.logLevel<=Vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(xi);Ei.warn(`Firestore (${_i}): ${e}`,...i)}}function xi(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ri(){const e=`FIRESTORE (${_i}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Ii(e),new Error(e)}function Ai(e,t){e||Ri()}function Di(e,t){return e}const Li={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pi extends Et{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ji{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Si.UNAUTHENTICATED)))}shutdown(){}}class Ui{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Fi{constructor(e){this.t=e,this.currentUser=Si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ai(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Oi,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Ti("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Ti("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Oi)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ti("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ai("string"==typeof t.accessToken),new ji(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ai(null===e||"string"==typeof e),new Si(e)}}class Vi{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Si.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zi{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Vi(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Si.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $i{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,qn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ai(void 0===this.o);const n=e=>{null!=e.error&&Ti("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Ti("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ti("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ti("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Bi(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ai("string"==typeof e.token),this.R=e.token,new Bi(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Hi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Wi(){return new TextEncoder}class Ki{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Hi(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function qi(e,t){return e<t?-1:e>t?1:0}function Gi(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return qi(r,i);{const a=Wi(),s=Qi(a.encode(Ji(e,n)),a.encode(Ji(t,n)));return 0!==s?s:qi(r,i)}}n+=r>65535?2:1}return qi(e.length,t.length)}function Ji(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Qi(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return qi(e[n],t[n]);return qi(e.length,t.length)}function Yi(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Xi=-62135596800,Zi=1e6;class ea{static now(){return ea.fromMillis(Date.now())}static fromDate(e){return ea.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Zi);return new ea(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pi(Li.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pi(Li.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xi)throw new Pi(Li.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pi(Li.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zi}_compareTo(e){return this.seconds===e.seconds?qi(this.nanoseconds,e.nanoseconds):qi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Xi;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ta{static fromTimestamp(e){return new ta(e)}static min(){return new ta(new ea(0,0))}static max(){return new ta(new ea(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const na="__name__";class ra{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ri(),void 0===n?n=e.length-t:n>e.length-t&&Ri(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ra.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ra?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ra.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return qi(e.length,t.length)}static compareSegments(e,t){const n=ra.isNumericId(e),r=ra.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ra.extractNumericId(e).compare(ra.extractNumericId(t)):Gi(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return si.fromString(e.substring(4,e.length-2))}}class ia extends ra{construct(e,t,n){return new ia(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Pi(Li.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new ia(e)}static emptyPath(){return new ia([])}}const aa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sa extends ra{construct(e,t,n){return new sa(e,t,n)}static isValidIdentifier(e){return aa.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===na}static keyField(){return new sa([na])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Pi(Li.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Pi(Li.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Pi(Li.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Pi(Li.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sa(t)}static emptyPath(){return new sa([])}}class oa{constructor(e){this.path=e}static fromPath(e){return new oa(ia.fromString(e))}static fromName(e){return new oa(ia.fromString(e).popFirst(5))}static empty(){return new oa(ia.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ia.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ia.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oa(new ia(e.slice()))}}const la=-1;class ca{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ca.UNKNOWN_ID=-1;function ua(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ta.fromTimestamp(1e9===r?new ea(n+1,0):new ea(n,r));return new ha(i,oa.empty(),t)}function da(e){return new ha(e.readTime,e.key,la)}class ha{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ha(ta.min(),oa.empty(),la)}static max(){return new ha(ta.max(),oa.empty(),la)}}function fa(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=oa.comparator(e.documentKey,t.documentKey),0!==n?n:qi(e.largestBatchId,t.largestBatchId))}const ma="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ga(e){if(e.code!==Li.FAILED_PRECONDITION||e.message!==ma)throw e;Ti("LocalStore","Unexpectedly lost primary lease")}class va{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ri(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new va(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof va?t:va.resolve(t)}catch(e){return va.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):va.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):va.reject(t)}static resolve(e){return new va(((t,n)=>{t(e)}))}static reject(e){return new va(((t,n)=>{n(e)}))}static waitFor(e){return new va(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=va.resolve(!1);for(const n of e)t=t.next((e=>e?va.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new va(((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{a[l]=e,++s,s===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new va(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function ya(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wa(e){return"IndexedDbTransactionError"===e.name}class ba{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ba.ae=-1;const ka=-1;function Sa(e){return null==e}function _a(e){return 0===e&&1/e==-1/0}function Ea(e){return"number"==typeof e&&Number.isInteger(e)&&!_a(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ca="\x01";function Ta(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Na(t)),t=Ia(e.get(n),t);return Na(t)}function Ia(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Ca:n+="\x01\x11";break;default:n+=t}}return n}function Na(e){return e+Ca+"\x01"}const xa="remoteDocuments",Ra="owner",Aa="mutationQueues",Da="mutations";const La="documentMutations",Pa="remoteDocumentsV14",Oa="remoteDocumentGlobal",ja="targets",Ma="targetDocuments",Ua="targetGlobal",Fa="collectionParents",Va="clientMetadata",za="bundles",Ba="namedQueries",$a="indexConfiguration",Ha="indexState",Wa="indexEntries",Ka="documentOverlays",qa="globals",Ga=[Aa,Da,La,xa,ja,Ra,Ua,Ma,Va,Oa,Fa,za,Ba],Ja=[Aa,Da,La,Pa,ja,Ra,Ua,Ma,Va,Oa,Fa,za,Ba,Ka],Qa=Ja,Ya=[...Qa,$a,Ha,Wa];function Xa(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Za(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function es(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ts{constructor(e,t){this.comparator=e,this.root=t||rs.EMPTY}insert(e,t){return new ts(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rs.BLACK,null,null))}remove(e){return new ts(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ns(this.root,e,this.comparator,!0)}}class ns{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rs{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rs.RED,this.left=null!=r?r:rs.EMPTY,this.right=null!=i?i:rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new rs(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return rs.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ri();if(this.right.isRed())throw Ri();const e=this.left.check();if(e!==this.right.check())throw Ri();return e+(this.isRed()?0:1)}}rs.EMPTY=null,rs.RED=!0,rs.BLACK=!1,rs.EMPTY=new class{constructor(){this.size=0}get key(){throw Ri()}get value(){throw Ri()}get color(){throw Ri()}get left(){throw Ri()}get right(){throw Ri()}copy(e,t,n,r,i){return this}insert(e,t,n){return new rs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class is{constructor(e){this.comparator=e,this.data=new ts(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new as(this.data.getIterator())}getIteratorFrom(e){return new as(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof is))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new is(this.comparator);return t.data=e,t}}class as{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ss{constructor(e){this.fields=e,e.sort(sa.comparator)}static empty(){return new ss([])}unionWith(e){let t=new is(sa.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yi(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class os extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new os("Invalid base64 string: "+e):e}}(e);return new ls(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ls(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const cs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(e){if(Ai(!!e),"string"==typeof e){let t=0;const n=cs.exec(e);if(Ai(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ds(e.seconds),nanos:ds(e.nanos)}}function ds(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hs(e){return"string"==typeof e?ls.fromBase64String(e):ls.fromUint8Array(e)}const fs="server_timestamp",ms="__type__",ps="__previous_value__",gs="__local_write_time__";function vs(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ms])||void 0===n?void 0:n.stringValue)===fs}function ys(e){const t=e.mapValue.fields[ps];return vs(t)?ys(t):t}function ws(e){const t=us(e.mapValue.fields[gs].timestampValue);return new ea(t.seconds,t.nanos)}class bs{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}const ks="(default)";class Ss{constructor(e,t){this.projectId=e,this.database=t||ks}static empty(){return new Ss("","")}get isDefaultDatabase(){return this.database===ks}isEqual(e){return e instanceof Ss&&e.projectId===this.projectId&&e.database===this.database}}const _s="__type__",Es="__max__",Cs={mapValue:{fields:{__type__:{stringValue:Es}}}},Ts="__vector__",Is="value";function Ns(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vs(e)?4:Ws(e)?9007199254740991:$s(e)?10:11:Ri()}function xs(e,t){if(e===t)return!0;const n=Ns(e);if(n!==Ns(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ws(e).isEqual(ws(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=us(e.timestampValue),r=us(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hs(e.bytesValue).isEqual(hs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ds(e.geoPointValue.latitude)===ds(t.geoPointValue.latitude)&&ds(e.geoPointValue.longitude)===ds(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ds(e.integerValue)===ds(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ds(e.doubleValue),r=ds(t.doubleValue);return n===r?_a(n)===_a(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yi(e.arrayValue.values||[],t.arrayValue.values||[],xs);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xa(n)!==Xa(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xs(n[i],r[i])))return!1;return!0}(e,t);default:return Ri()}}function Rs(e,t){return void 0!==(e.values||[]).find((e=>xs(e,t)))}function As(e,t){if(e===t)return 0;const n=Ns(e),r=Ns(t);if(n!==r)return qi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ds(e.integerValue||e.doubleValue),r=ds(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ds(e.timestampValue,t.timestampValue);case 4:return Ds(ws(e),ws(t));case 5:return Gi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=hs(e),r=hs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=qi(n[i],r[i]);if(0!==e)return e}return qi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=qi(ds(e.latitude),ds(t.latitude));return 0!==n?n:qi(ds(e.longitude),ds(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ls(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const s=e.fields||{},o=t.fields||{},l=null===(n=s[Is])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Is])||void 0===r?void 0:r.arrayValue,u=qi((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Ls(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Cs.mapValue&&t===Cs.mapValue)return 0;if(e===Cs.mapValue)return 1;if(t===Cs.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=Gi(r[s],a[s]);if(0!==e)return e;const t=As(n[r[s]],i[a[s]]);if(0!==t)return t}return qi(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ri()}}function Ds(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qi(e,t);const n=us(e),r=us(t),i=qi(n.seconds,r.seconds);return 0!==i?i:qi(n.nanos,r.nanos)}function Ls(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=As(n[i],r[i]);if(e)return e}return qi(n.length,r.length)}function Ps(e){return Os(e)}function Os(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=us(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return hs(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return oa.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Os(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Os(e.fields[i])}`;return n+"}"}(e.mapValue):Ri()}function js(e){switch(Ns(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ys(e);return t?16+js(t):16;case 5:return 2*e.stringValue.length;case 6:return hs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+js(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Za(e.fields,((e,n)=>{t+=e.length+js(n)})),t}(e.mapValue);default:throw Ri()}}function Ms(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Us(e){return!!e&&"integerValue"in e}function Fs(e){return!!e&&"arrayValue"in e}function Vs(e){return!!e&&"nullValue"in e}function zs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bs(e){return!!e&&"mapValue"in e}function $s(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[_s])||void 0===n?void 0:n.stringValue)===Ts}function Hs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Za(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Hs(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ws(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Es}class Ks{constructor(e){this.value=e}static empty(){return new Ks({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hs(t)}setAll(e){let t=sa.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Hs(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Bs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Bs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Za(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ks(Hs(this.value))}}function qs(e){const t=[];return Za(e.fields,((e,n)=>{const r=new sa([e]);if(Bs(n)){const e=qs(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ss(t)}class Gs{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Gs(e,0,ta.min(),ta.min(),ta.min(),Ks.empty(),0)}static newFoundDocument(e,t,n,r){return new Gs(e,1,t,ta.min(),n,r,0)}static newNoDocument(e,t){return new Gs(e,2,t,ta.min(),ta.min(),Ks.empty(),0)}static newUnknownDocument(e,t){return new Gs(e,3,t,ta.min(),ta.min(),Ks.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ta.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ks.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ta.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Js{constructor(e,t){this.position=e,this.inclusive=t}}function Qs(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?oa.comparator(oa.fromName(s.referenceValue),n.key):As(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ys(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xs(e.position[n],t.position[n]))return!1;return!0}class Xs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Zs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class eo{}class to extends eo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new co(e,t,n):"array-contains"===t?new mo(e,n):"in"===t?new po(e,n):"not-in"===t?new go(e,n):"array-contains-any"===t?new vo(e,n):new to(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new uo(e,n):new ho(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(As(t,this.value)):null!==t&&Ns(this.value)===Ns(t)&&this.matchesComparison(As(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ri()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class no extends eo{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new no(e,t)}matches(e){return ro(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ro(e){return"and"===e.op}function io(e){return ao(e)&&ro(e)}function ao(e){for(const t of e.filters)if(t instanceof no)return!1;return!0}function so(e){if(e instanceof to)return e.field.canonicalString()+e.op.toString()+Ps(e.value);if(io(e))return e.filters.map((e=>so(e))).join(",");{const t=e.filters.map((e=>so(e))).join(",");return`${e.op}(${t})`}}function oo(e,t){return e instanceof to?function(e,t){return t instanceof to&&e.op===t.op&&e.field.isEqual(t.field)&&xs(e.value,t.value)}(e,t):e instanceof no?function(e,t){return t instanceof no&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&oo(n,t.filters[r])),!0)}(e,t):void Ri()}function lo(e){return e instanceof to?function(e){return`${e.field.canonicalString()} ${e.op} ${Ps(e.value)}`}(e):e instanceof no?function(e){return e.op.toString()+" {"+e.getFilters().map(lo).join(" ,")+"}"}(e):"Filter"}class co extends to{constructor(e,t,n){super(e,t,n),this.key=oa.fromName(n.referenceValue)}matches(e){const t=oa.comparator(e.key,this.key);return this.matchesComparison(t)}}class uo extends to{constructor(e,t){super(e,"in",t),this.keys=fo("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ho extends to{constructor(e,t){super(e,"not-in",t),this.keys=fo("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function fo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>oa.fromName(e.referenceValue)))}class mo extends to{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fs(t)&&Rs(t.arrayValue,this.value)}}class po extends to{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rs(this.value.arrayValue,t)}}class go extends to{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rs(this.value.arrayValue,t)}}class vo extends to{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fs(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Rs(this.value.arrayValue,e)))}}class yo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.le=null}}function wo(e){return new yo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function bo(e){const t=Di(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>so(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Sa(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ps(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ps(e))).join(",")),t.le=e}return t.le}function ko(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Zs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!oo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ys(e.startAt,t.startAt)&&Ys(e.endAt,t.endAt)}function So(e){return oa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class _o{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Eo(e,t,n,r,i,a,s,o){return new _o(e,t,n,r,i,a,s,o)}function Co(e){return new _o(e)}function To(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Io(e){return null!==e.collectionGroup}function No(e){const t=Di(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new is(sa.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Xs(r,n))})),e.has(sa.keyField().canonicalString())||t.he.push(new Xs(sa.keyField(),n))}return t.he}function xo(e){const t=Di(e);return t.Pe||(t.Pe=Ro(t,No(e))),t.Pe}function Ro(e,t){if("F"===e.limitType)return wo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Xs(e.field,t)}));const n=e.endAt?new Js(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Js(e.startAt.position,e.startAt.inclusive):null;return wo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ao(e,t){const n=e.filters.concat([t]);return new _o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Do(e,t,n){return new _o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Lo(e,t){return ko(xo(e),xo(t))&&e.limitType===t.limitType}function Po(e){return`${bo(xo(e))}|lt:${e.limitType}`}function Oo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>lo(e))).join(", ")}]`),Sa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ps(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ps(e))).join(",")),`Target(${t})`}(xo(e))}; limitType=${e.limitType})`}function jo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of No(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Qs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,No(e),t))&&!(e.endAt&&!function(e,t,n){const r=Qs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,No(e),t))}(e,t)}function Mo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Uo(e){return(t,n)=>{let r=!1;for(const i of No(e)){const e=Fo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Fo(e,t,n){const r=e.field.isKeyField()?oa.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?As(r,i):Ri()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ri()}}class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return es(this.inner)}size(){return this.innerSize}}const zo=new ts(oa.comparator);function Bo(){return zo}const $o=new ts(oa.comparator);function Ho(){let e=$o;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Wo(e){let t=$o;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ko(){return Go()}function qo(){return Go()}function Go(){return new Vo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Jo=new ts(oa.comparator),Qo=new is(oa.comparator);function Yo(){let e=Qo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Xo=new is(qi);function Zo(){return Xo}function el(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_a(t)?"-0":t}}function tl(e){return{integerValue:""+e}}function nl(e,t){return Ea(t)?tl(t):el(e,t)}class rl{constructor(){this._=void 0}}function il(e,t,n){return e instanceof ol?function(e,t){const n={fields:{[ms]:{stringValue:fs},[gs]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vs(t)&&(t=ys(t)),t&&(n.fields[ps]=t),{mapValue:n}}(n,t):e instanceof ll?cl(e,t):e instanceof ul?dl(e,t):function(e,t){const n=sl(e,t),r=fl(n)+fl(e.Ie);return Us(n)&&Us(e.Ie)?tl(r):el(e.serializer,r)}(e,t)}function al(e,t,n){return e instanceof ll?cl(e,t):e instanceof ul?dl(e,t):n}function sl(e,t){return e instanceof hl?function(e){return Us(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ol extends rl{}class ll extends rl{constructor(e){super(),this.elements=e}}function cl(e,t){const n=ml(t);for(const r of e.elements)n.some((e=>xs(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ul extends rl{constructor(e){super(),this.elements=e}}function dl(e,t){let n=ml(t);for(const r of e.elements)n=n.filter((e=>!xs(e,r)));return{arrayValue:{values:n}}}class hl extends rl{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function fl(e){return ds(e.integerValue||e.doubleValue)}function ml(e){return Fs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class pl{constructor(e,t){this.field=e,this.transform=t}}class gl{constructor(e,t){this.version=e,this.transformResults=t}}class vl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vl}static exists(e){return new vl(void 0,e)}static updateTime(e){return new vl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class wl{}function bl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Rl(e.key,vl.none()):new Cl(e.key,e.data,vl.none());{const n=e.data,r=Ks.empty();let i=new is(sa.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Tl(e.key,r,new ss(i.toArray()),vl.none())}}function kl(e,t,n){e instanceof Cl?function(e,t,n){const r=e.value.clone(),i=Nl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Tl?function(e,t,n){if(!yl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Nl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Il(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Sl(e,t,n,r){return e instanceof Cl?function(e,t,n,r){if(!yl(e.precondition,t))return n;const i=e.value.clone(),a=xl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Tl?function(e,t,n,r){if(!yl(e.precondition,t))return n;const i=xl(e.fieldTransforms,r,t),a=t.data;return a.setAll(Il(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return yl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function _l(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=sl(r.transform,e||null);null!=i&&(null===n&&(n=Ks.empty()),n.set(r.field,i))}return n||null}function El(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yi(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ll&&t instanceof ll||e instanceof ul&&t instanceof ul?Yi(e.elements,t.elements,xs):e instanceof hl&&t instanceof hl?xs(e.Ie,t.Ie):e instanceof ol&&t instanceof ol}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cl extends wl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Tl extends wl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Il(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Nl(e,t,n){const r=new Map;Ai(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,al(s,o,n[i]))}return r}function xl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,il(e,a,t))}return r}class Rl extends wl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Al extends wl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&kl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Sl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Sl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=qo();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=bl(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(ta.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Yo())}isEqual(e){return this.batchId===e.batchId&&Yi(this.mutations,e.mutations,((e,t)=>El(e,t)))&&Yi(this.baseMutations,e.baseMutations,((e,t)=>El(e,t)))}}class Ll{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ai(e.mutations.length===n.length);let r=Jo;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Ll(e,t,n,r)}}class Pl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ol{constructor(e,t){this.count=e,this.unchangedNames=t}}var jl,Ml;function Ul(e){switch(e){case Li.OK:return Ri();case Li.CANCELLED:case Li.UNKNOWN:case Li.DEADLINE_EXCEEDED:case Li.RESOURCE_EXHAUSTED:case Li.INTERNAL:case Li.UNAVAILABLE:case Li.UNAUTHENTICATED:return!1;case Li.INVALID_ARGUMENT:case Li.NOT_FOUND:case Li.ALREADY_EXISTS:case Li.PERMISSION_DENIED:case Li.FAILED_PRECONDITION:case Li.ABORTED:case Li.OUT_OF_RANGE:case Li.UNIMPLEMENTED:case Li.DATA_LOSS:return!0;default:return Ri()}}function Fl(e){if(void 0===e)return Ii("GRPC error has no .code"),Li.UNKNOWN;switch(e){case jl.OK:return Li.OK;case jl.CANCELLED:return Li.CANCELLED;case jl.UNKNOWN:return Li.UNKNOWN;case jl.DEADLINE_EXCEEDED:return Li.DEADLINE_EXCEEDED;case jl.RESOURCE_EXHAUSTED:return Li.RESOURCE_EXHAUSTED;case jl.INTERNAL:return Li.INTERNAL;case jl.UNAVAILABLE:return Li.UNAVAILABLE;case jl.UNAUTHENTICATED:return Li.UNAUTHENTICATED;case jl.INVALID_ARGUMENT:return Li.INVALID_ARGUMENT;case jl.NOT_FOUND:return Li.NOT_FOUND;case jl.ALREADY_EXISTS:return Li.ALREADY_EXISTS;case jl.PERMISSION_DENIED:return Li.PERMISSION_DENIED;case jl.FAILED_PRECONDITION:return Li.FAILED_PRECONDITION;case jl.ABORTED:return Li.ABORTED;case jl.OUT_OF_RANGE:return Li.OUT_OF_RANGE;case jl.UNIMPLEMENTED:return Li.UNIMPLEMENTED;case jl.DATA_LOSS:return Li.DATA_LOSS;default:return Ri()}}(Ml=jl||(jl={}))[Ml.OK=0]="OK",Ml[Ml.CANCELLED=1]="CANCELLED",Ml[Ml.UNKNOWN=2]="UNKNOWN",Ml[Ml.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ml[Ml.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ml[Ml.NOT_FOUND=5]="NOT_FOUND",Ml[Ml.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ml[Ml.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ml[Ml.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ml[Ml.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ml[Ml.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ml[Ml.ABORTED=10]="ABORTED",Ml[Ml.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ml[Ml.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ml[Ml.INTERNAL=13]="INTERNAL",Ml[Ml.UNAVAILABLE=14]="UNAVAILABLE",Ml[Ml.DATA_LOSS=15]="DATA_LOSS";let Vl=null;const zl=new si([4294967295,4294967295],0);function Bl(e){const t=Wi().encode(e),n=new oi;return n.update(t),new Uint8Array(n.digest())}function $l(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new si([n,r],0),new si([i,a],0)]}class Hl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Wl(`Invalid padding: ${t}`);if(n<0)throw new Wl(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Wl(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Wl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=si.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(si.fromNumber(n)));return 1===r.compare(zl)&&(r=new si([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=Bl(e),[n,r]=$l(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Hl(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.Ee)return;const t=Bl(e),[n,r]=$l(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Kl(ta.min(),r,new ts(qi),Bo(),Yo())}}class ql{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ql(n,t,Yo(),Yo(),Yo())}}class Gl{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Jl{constructor(e,t){this.targetId=e,this.ge=t}}class Ql{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ls.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Yl{constructor(){this.pe=0,this.ye=ec(),this.we=ls.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Yo(),t=Yo(),n=Yo();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ri()}})),new ql(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=ec()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ai(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Xl{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bo(),this.$e=Zl(),this.Ue=Zl(),this.Ke=new ts(qi)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Ri()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(So(i))if(0===n){const e=new oa(i.path);this.ze(t,e,Gs.newNoDocument(e,ta.min()))}else Ai(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Vl||Vl.rt(function(e,t,n,r,i){var a,s,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(o=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=hs(n).toUint8Array()}catch(e){if(e instanceof os)return Ni("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Hl(a,r,i)}catch(e){return Ni(e instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ee?null:s}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&So(i.target)){const t=new oa(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Gs.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Yo();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Kl(e,t,this.Ke,this.Qe,n);return this.Qe=Bo(),this.$e=Zl(),this.Ue=Zl(),this.Ke=new ts(qi),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Yl,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new is(qi),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new is(qi),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Ti("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Yl),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Zl(){return new ts(oa.comparator)}function ec(){return new ts(oa.comparator)}const tc={asc:"ASCENDING",desc:"DESCENDING"},nc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rc={and:"AND",or:"OR"};class ic{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ac(e,t){return e.useProto3Json||Sa(t)?t:{value:t}}function sc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lc(e,t){return sc(e,t.toTimestamp())}function cc(e){return Ai(!!e),ta.fromTimestamp(function(e){const t=us(e);return new ea(t.seconds,t.nanos)}(e))}function uc(e,t){return dc(e,t).canonicalString()}function dc(e,t){const n=function(e){return new ia(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function hc(e){const t=ia.fromString(e);return Ai(Dc(t)),t}function fc(e,t){return uc(e.databaseId,t.path)}function mc(e,t){const n=hc(t);if(n.get(1)!==e.databaseId.projectId)throw new Pi(Li.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Pi(Li.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oa(yc(n))}function pc(e,t){return uc(e.databaseId,t)}function gc(e){const t=hc(e);return 4===t.length?ia.emptyPath():yc(t)}function vc(e){return new ia(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yc(e){return Ai(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function wc(e,t,n){return{name:fc(e,t),fields:n.value.mapValue.fields}}function bc(e,t){let n;if(t instanceof Cl)n={update:wc(e,t.key,t.value)};else if(t instanceof Rl)n={delete:fc(e,t.key)};else if(t instanceof Tl)n={update:wc(e,t.key,t.data),updateMask:Ac(t.fieldMask)};else{if(!(t instanceof Al))return Ri();n={verify:fc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ol)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ll)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ul)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hl)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Ri()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:lc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ri()}(e,t.precondition)),n}function kc(e,t){return{documents:[pc(e,t.path)]}}function Sc(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pc(e,i);const a=function(e){if(0!==e.length)return Rc(no.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Nc(e.field),direction:Cc(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ac(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function _c(e){let t=gc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ai(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Ec(e);return t instanceof no&&io(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Xs(xc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Sa(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Js(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Js(n,t)}(n.endAt)),Eo(t,i,s,a,o,"F",l,c)}function Ec(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xc(e.unaryFilter.field);return to.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=xc(e.unaryFilter.field);return to.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xc(e.unaryFilter.field);return to.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xc(e.unaryFilter.field);return to.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ri()}}(e):void 0!==e.fieldFilter?function(e){return to.create(xc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ri()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return no.create(e.compositeFilter.filters.map((e=>Ec(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ri()}}(e.compositeFilter.op))}(e):Ri()}function Cc(e){return tc[e]}function Tc(e){return nc[e]}function Ic(e){return rc[e]}function Nc(e){return{fieldPath:e.canonicalString()}}function xc(e){return sa.fromServerFormat(e.fieldPath)}function Rc(e){return e instanceof to?function(e){if("=="===e.op){if(zs(e.value))return{unaryFilter:{field:Nc(e.field),op:"IS_NAN"}};if(Vs(e.value))return{unaryFilter:{field:Nc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zs(e.value))return{unaryFilter:{field:Nc(e.field),op:"IS_NOT_NAN"}};if(Vs(e.value))return{unaryFilter:{field:Nc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(e.field),op:Tc(e.op),value:e.value}}}(e):e instanceof no?function(e){const t=e.getFilters().map((e=>Rc(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ic(e.op),filters:t}}}(e):Ri()}function Ac(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Dc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Lc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ta.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ta.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ls.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Lc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Lc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Pc{constructor(e){this.Tt=e}}function Oc(e){const t=_c({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Do(t,t.limit,"L"):t}class jc{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(ds(e.integerValue));else if("doubleValue"in e){const n=ds(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),_a(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=us(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(hs(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?Ws(e)?this.ft(t,Number.MAX_SAFE_INTEGER):$s(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Ri()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const a=Is,s=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(ds(s)),this.wt(a,t),this.Rt(i[a],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),oa.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}jc.xt=new jc;class Mc{constructor(){this.Tn=new Uc}addToCollectionParentIndex(e,t){return this.Tn.add(t),va.resolve()}getCollectionParents(e,t){return va.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return va.resolve()}deleteFieldIndex(e,t){return va.resolve()}deleteAllFieldIndexes(e){return va.resolve()}createTargetIndexes(e,t){return va.resolve()}getDocumentsMatchingTarget(e,t){return va.resolve(null)}getIndexType(e,t){return va.resolve(0)}getFieldIndexes(e,t){return va.resolve([])}getNextCollectionGroupToUpdate(e){return va.resolve(null)}getMinOffset(e,t){return va.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,t){return va.resolve(ha.min())}updateCollectionGroup(e,t,n){return va.resolve()}updateIndexEntries(e,t){return va.resolve()}}class Uc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new is(ia.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new is(ia.comparator)).toArray()}}new Uint8Array(0);const Fc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vc=41943040;class zc{static withCacheSize(e){return new zc(e,zc.DEFAULT_COLLECTION_PERCENTILE,zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}zc.DEFAULT_COLLECTION_PERCENTILE=10,zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zc.DEFAULT=new zc(Vc,zc.DEFAULT_COLLECTION_PERCENTILE,zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zc.DISABLED=new zc(-1,0,0);class Bc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Bc(0)}static Kn(){return new Bc(-1)}}const $c="LruGarbageCollector",Hc=1048576;function Wc(e,t){let[n,r]=e,[i,a]=t;const s=qi(n,i);return 0===s?qi(r,a):s}class Kc{constructor(e){this.Hn=e,this.buffer=new is(Wc),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Wc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Ti($c,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){wa(e)?Ti($c,"Ignoring IndexedDB error during garbage collection: ",e):await ga(e)}await this.er(3e5)}))}}class Gc{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return va.resolve(ba.ae);const n=new Kc(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ti("LruGarbageCollector","Garbage collection skipped; disabled"),va.resolve(Fc)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ti("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fc):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,a,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Ti("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ci()<=Vt.DEBUG&&Ti("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-c}ms\n\tDetermined least recently used ${r} in `+(s-a)+"ms\n"+`\tRemoved ${i} targets in `+(o-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),va.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Jc(e,t){return new Gc(e,t)}class Qc{constructor(){this.changes=new Vo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?va.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Xc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Sl(n.mutation,e,ss.empty(),ea.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Yo()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yo();const r=Ko();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ho();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ko();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Yo())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Bo();const a=Go(),s=Go();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Tl)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Sl(s.mutation,t,s.mutation.getFieldMask(),ea.now())):a.set(t.key,ss.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Yc(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Go();let r=new ts(((e,t)=>e-t)),i=Yo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||ss.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||Yo()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=qo();l.forEach((e=>{if(!i.has(e)){const r=bl(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return va.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return oa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Io(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):va.resolve(Ko());let s=la,o=i;return a.next((t=>va.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?va.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Yo()))).next((e=>({batchId:s,changes:Wo(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oa(t)).next((e=>{let t=Ho();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Ho();return this.indexManager.getCollectionParents(e,i).next((s=>va.forEach(s,(s=>{const o=function(e,t){return new _o(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Gs.newInvalidDocument(r)))}));let n=Ho();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&Sl(a.mutation,r,ss.empty(),ea.now()),jo(t,r)&&(n=n.insert(e,r))})),n}))}}class Zc{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return va.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:cc(e.createTime)}}(t)),va.resolve()}getNamedQuery(e,t){return va.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:Oc(e.bundledQuery),readTime:cc(e.readTime)}}(t)),va.resolve()}}class eu{constructor(){this.overlays=new ts(oa.comparator),this.Rr=new Map}getOverlay(e,t){return va.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ko();return va.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),va.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),va.resolve()}getOverlaysForCollection(e,t,n){const r=Ko(),i=t.length+1,a=new oa(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return va.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ts(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ko(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Ko(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return va.resolve(s)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Pl(t,n));let i=this.Rr.get(t);void 0===i&&(i=Yo(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class tu{constructor(){this.sessionToken=ls.EMPTY_BYTE_STRING}getSessionToken(e){return va.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,va.resolve()}}class nu{constructor(){this.Vr=new is(ru.mr),this.gr=new is(ru.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new ru(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new ru(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new oa(new ia([])),n=new ru(t,e),r=new ru(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new oa(new ia([])),n=new ru(t,e),r=new ru(t,e+1);let i=Yo();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ru(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ru{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return oa.comparator(e.key,t.key)||qi(e.Cr,t.Cr)}static pr(e,t){return qi(e.Cr,t.Cr)||oa.comparator(e.key,t.key)}}class iu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new is(ru.mr)}checkEmpty(e){return va.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Dl(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Mr=this.Mr.add(new ru(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return va.resolve(a)}lookupMutationBatch(e,t){return va.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return va.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return va.resolve(0===this.mutationQueue.length?ka:this.Fr-1)}getAllMutationBatches(e){return va.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ru(t,0),r=new ru(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),va.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new is(qi);return t.forEach((e=>{const t=new ru(e,0),r=new ru(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),va.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;oa.isDocumentKey(i)||(i=i.child(""));const a=new ru(new oa(i),0);let s=new is(qi);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Cr)),!0)}),a),va.resolve(this.Br(s))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ai(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return va.forEach(t.mutations,(r=>{const i=new ru(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new ru(t,0),r=this.Mr.firstAfterOrEqual(n);return va.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,va.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class au{constructor(e){this.kr=e,this.docs=new ts(oa.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return va.resolve(n?n.document.mutableCopy():Gs.newInvalidDocument(t))}getEntries(e,t){let n=Bo();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Gs.newInvalidDocument(e))})),va.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Bo();const a=t.path,s=new oa(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||fa(da(s),n)<=0||(r.has(s.key)||jo(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return va.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ri()}qr(e,t){return va.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new su(this)}getSize(e){return va.resolve(this.size)}}class su extends Qc{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),va.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class ou{constructor(e){this.persistence=e,this.Qr=new Vo((e=>bo(e)),ko),this.lastRemoteSnapshotVersion=ta.min(),this.highestTargetId=0,this.$r=0,this.Ur=new nu,this.targetCount=0,this.Kr=Bc.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),va.resolve()}getLastRemoteSnapshotVersion(e){return va.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return va.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),va.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),va.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Bc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,va.resolve()}updateTargetData(e,t){return this.zn(t),va.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,va.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Qr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),va.waitFor(i).next((()=>r))}getTargetCount(e){return va.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return va.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),va.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),va.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),va.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return va.resolve(n)}containsKey(e,t){return va.resolve(this.Ur.containsKey(t))}}class lu{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ba(0),this.zr=!1,this.zr=!0,this.jr=new tu,this.referenceDelegate=e(this),this.Hr=new ou(this),this.indexManager=new Mc,this.remoteDocumentCache=function(e){return new au(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Pc(t),this.Yr=new Zc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new iu(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Ti("MemoryPersistence","Starting transaction:",e);const r=new cu(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return va.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class cu extends pa{constructor(e){super(),this.currentSequenceNumber=e}}class uu{constructor(e){this.persistence=e,this.ti=new nu,this.ni=null}static ri(e){return new uu(e)}get ii(){if(this.ni)return this.ni;throw Ri()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),va.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),va.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),va.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return va.forEach(this.ii,(n=>{const r=oa.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,ta.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return va.or([()=>va.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class du{constructor(e,t){this.persistence=e,this.oi=new Vo((e=>Ta(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Jc(this,t)}static ri(e,t){return new du(e,t)}Zr(){}Xr(e){return va.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return va.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?va.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,ta.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),va.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),va.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),va.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),va.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=js(e.data.value)),t}ar(e,t,n){return va.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return va.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Yo(),r=Yo();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new hu(e,t.fromCache,n,r)}}class fu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mu{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=St()?8:ya(kt())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new fu;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(Ci()<=Vt.DEBUG&&Ti("QueryEngine","SDK will not create cache indexes for query:",Oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),va.resolve()):(Ci()<=Vt.DEBUG&&Ti("QueryEngine","Query:",Oo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Ci()<=Vt.DEBUG&&Ti("QueryEngine","The SDK decides to create cache indexes for query:",Oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xo(t))):va.resolve())}rs(e,t){if(To(t))return va.resolve(null);let n=xo(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Do(t,null,"F"),n=xo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Yo(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.cs(t,r);return this.ls(t,a,i,n.readTime)?this.rs(e,Do(t,null,"F")):this.hs(e,a,t,n)}))))})))))}ss(e,t,n,r){return To(t)||r.isEqual(ta.min())?va.resolve(null):this.ns.getDocuments(e,n).next((i=>{const a=this.cs(t,i);return this.ls(t,a,n,r)?va.resolve(null):(Ci()<=Vt.DEBUG&&Ti("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Oo(t)),this.hs(e,a,t,ua(r,la)).next((e=>e)))}))}cs(e,t){let n=new is(Uo(e));return t.forEach(((t,r)=>{jo(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return Ci()<=Vt.DEBUG&&Ti("QueryEngine","Using full collection scan to execute query:",Oo(t)),this.ns.getDocumentsMatchingQuery(e,t,ha.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const pu="LocalStore";class gu{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new ts(qi),this.Is=new Vo((e=>bo(e)),ko),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xc(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function vu(e,t,n,r){return new gu(e,t,n,r)}async function yu(e,t){const n=Di(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let s=Yo();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function wu(e){const t=Di(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function bu(e,t,n){let r=Yo(),i=Yo();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Bo();return n.forEach(((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ta.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ti(pu,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),{Vs:r,fs:i}}))}function ku(e,t){const n=Di(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=ka),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Su(e,t){const n=Di(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,va.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new Lc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function _u(e,t,n){const r=Di(e),i=r.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!wa(e))throw e;Ti(pu,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Eu(e,t,n){const r=Di(e);let i=ta.min(),a=Yo();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Di(e),i=r.Is.get(n);return void 0!==i?va.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,xo(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:ta.min(),n?a:Yo()))).next((e=>(Cu(r,Mo(t),e),{documents:e,gs:a})))))}function Cu(e,t,n){let r=e.Es.get(t)||ta.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Tu{constructor(){this.activeTargetIds=Zo()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iu{constructor(){this.ho=new Tu,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Tu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nu{To(e){}shutdown(){}}const xu="ConnectivityMonitor";class Ru{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ti(xu,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ti(xu,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Au=null;function Du(){return null===Au?Au=268435456+Math.round(2147483648*Math.random()):Au++,"0x"+Au.toString(16)}const Lu="RestConnection",Pu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ou{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===ks?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const a=Du(),s=this.bo(e,t.toUriEncodedString());Ti(Lu,`Sending RPC '${e}' ${a}:`,s,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,i),this.vo(e,s,o,n).then((t=>(Ti(Lu,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Ni(Lu,`RPC '${e}' ${a} failed with error: `,t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,a){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_i,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Pu[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class ju{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const Mu="WebChannelConnection";class Uu extends Ou{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=Du();return new Promise(((a,s)=>{const o=new ui;o.setWithCredentials(!0),o.listenOnce(hi.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case fi.NO_ERROR:const t=o.getResponseJson();Ti(Mu,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case fi.TIMEOUT:Ti(Mu,`RPC '${e}' ${i} timed out`),s(new Pi(Li.DEADLINE_EXCEEDED,"Request time out"));break;case fi.HTTP_ERROR:const n=o.getStatus();if(Ti(Mu,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Li).indexOf(t)>=0?t:Li.UNKNOWN}(t.status);s(new Pi(e,t.message))}else s(new Pi(Li.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Pi(Li.UNAVAILABLE,"Connection failed."));break;default:Ri()}}finally{Ti(Mu,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Ti(Mu,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Du(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vi(),s=gi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Ti(Mu,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=a.createWebChannel(c,o);let d=!1,h=!1;const f=new ju({Fo:t=>{h?Ti(Mu,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Ti(Mu,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Ti(Mu,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,di.EventType.OPEN,(()=>{h||(Ti(Mu,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),m(u,di.EventType.CLOSE,(()=>{h||(h=!0,Ti(Mu,`RPC '${e}' stream ${r} transport closed`),f.Uo())})),m(u,di.EventType.ERROR,(t=>{h||(h=!0,Ni(Mu,`RPC '${e}' stream ${r} transport errored:`,t),f.Uo(new Pi(Li.UNAVAILABLE,"The operation could not be completed")))})),m(u,di.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Ai(!!i);const a=i,s=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){Ti(Mu,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=jl[e];if(void 0!==t)return Fl(t)}(t),i=s.message;void 0===n&&(n=Li.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Uo(new Pi(n,i)),u.close()}else Ti(Mu,`RPC '${e}' stream ${r} received:`,i),f.Ko(i)}})),m(s,pi.STAT_EVENT,(t=>{t.stat===mi.PROXY?Ti(Mu,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===mi.NOPROXY&&Ti(Mu,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function Fu(){return"undefined"!=typeof document?document:null}function Vu(e){return new ic(e,!0)}class zu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Ti("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Bu="PersistentStream";class $u{constructor(e,t,n,r,i,a,s,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zu(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Li.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Li.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Pi(Li.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Ti(Bu,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Ti(Bu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hu extends $u{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ri()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Ai(void 0===t||"string"==typeof t),ls.fromBase64String(t||"")):(Ai(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ls.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?Li.UNKNOWN:Fl(e.code);return new Pi(t,e.message||"")}(s);n=new Ql(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=mc(e,r.document.name),a=cc(r.document.updateTime),s=r.document.createTime?cc(r.document.createTime):ta.min(),o=new Ks({mapValue:{fields:r.document.fields}}),l=Gs.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Gl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=mc(e,r.document),a=r.readTime?cc(r.readTime):ta.min(),s=Gs.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Gl([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=mc(e,r.document),a=r.removedTargetIds||[];n=new Gl([],a,i,null)}else{if(!("filter"in t))return Ri();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Ol(r,i),s=e.targetId;n=new Jl(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ta.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ta.min():t.readTime?cc(t.readTime):ta.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=vc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=So(r)?{documents:kc(e,r)}:{query:Sc(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=oc(e,t.resumeToken);const r=ac(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ta.min())>0){n.readTime=sc(e,t.snapshotVersion.toTimestamp());const r=ac(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ri()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=vc(this.serializer),t.removeTarget=e,this.I_(t)}}class Wu extends $u{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ai(!!e.streamToken),this.lastStreamToken=e.streamToken,Ai(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Ai(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(Ai(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?cc(e.updateTime):cc(t);return n.isEqual(ta.min())&&(n=cc(t)),new gl(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=cc(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=vc(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>bc(this.serializer,e)))};this.I_(t)}}class Ku{}class qu extends Ku{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Pi(Li.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,s]=i;return this.connection.So(e,dc(t,n),r,a,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Li.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Pi(Li.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[s,o]=a;return this.connection.Co(e,dc(t,n),r,s,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Li.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Pi(Li.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Gu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(t),this.N_=!1):Ti("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Ju="RemoteStore";class Qu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{ad(this)&&(Ti(Ju,"Restarting streams for network reachability change."),await async function(e){const t=Di(e);t.W_.add(4),await Xu(t),t.j_.set("Unknown"),t.W_.delete(4),await Yu(t)}(this))}))})),this.j_=new Gu(n,r)}}async function Yu(e){if(ad(e))for(const t of e.G_)await t(!0)}async function Xu(e){for(const t of e.G_)await t(!1)}function Zu(e,t){const n=Di(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),id(n)?rd(n):Ed(n).c_()&&td(n,t))}function ed(e,t){const n=Di(e),r=Ed(n);n.K_.delete(t),r.c_()&&nd(n,t),0===n.K_.size&&(r.c_()?r.P_():ad(n)&&n.j_.set("Unknown"))}function td(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ta.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ed(e).y_(t)}function nd(e,t){e.H_.Ne(t),Ed(e).w_(t)}function rd(e){e.H_=new Xl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Ed(e).start(),e.j_.B_()}function id(e){return ad(e)&&!Ed(e).u_()&&e.K_.size>0}function ad(e){return 0===Di(e).W_.size}function sd(e){e.H_=void 0}async function od(e){e.j_.set("Online")}async function ld(e){e.K_.forEach(((t,n)=>{td(e,t)}))}async function cd(e,t){sd(e),id(e)?(e.j_.q_(t),rd(e)):e.j_.set("Unknown")}async function ud(e,t,n){if(e.j_.set("Online"),t instanceof Ql&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Ti(Ju,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await dd(e,n)}else if(t instanceof Gl?e.H_.We(t):t instanceof Jl?e.H_.Ze(t):e.H_.je(t),!n.isEqual(ta.min()))try{const t=await wu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(ls.EMPTY_BYTE_STRING,r.snapshotVersion)),nd(e,t);const i=new Lc(r.target,t,n,r.sequenceNumber);td(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ti(Ju,"Failed to raise snapshot:",t),await dd(e,t)}}async function dd(e,t,n){if(!wa(t))throw t;e.W_.add(1),await Xu(e),e.j_.set("Offline"),n||(n=()=>wu(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ti(Ju,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Yu(e)}))}function hd(e,t){return t().catch((n=>dd(e,n,t)))}async function fd(e){const t=Di(e),n=Cd(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:ka;for(;md(t);)try{const e=await ku(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,pd(t,e)}catch(e){await dd(t,e)}gd(t)&&vd(t)}function md(e){return ad(e)&&e.U_.length<10}function pd(e,t){e.U_.push(t);const n=Cd(e);n.c_()&&n.S_&&n.b_(t.mutations)}function gd(e){return ad(e)&&!Cd(e).u_()&&e.U_.length>0}function vd(e){Cd(e).start()}async function yd(e){Cd(e).C_()}async function wd(e){const t=Cd(e);for(const n of e.U_)t.b_(n.mutations)}async function bd(e,t,n){const r=e.U_.shift(),i=Ll.from(r,t,n);await hd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await fd(e)}async function kd(e,t){t&&Cd(e).S_&&await async function(e,t){if(function(e){return Ul(e)&&e!==Li.ABORTED}(t.code)){const n=e.U_.shift();Cd(e).h_(),await hd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await fd(e)}}(e,t),gd(e)&&vd(e)}async function Sd(e,t){const n=Di(e);n.asyncQueue.verifyOperationInProgress(),Ti(Ju,"RemoteStore received new credentials");const r=ad(n);n.W_.add(3),await Xu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Yu(n)}async function _d(e,t){const n=Di(e);t?(n.W_.delete(2),await Yu(n)):t||(n.W_.add(2),await Xu(n),n.j_.set("Unknown"))}function Ed(e){return e.J_||(e.J_=function(e,t,n){const r=Di(e);return r.M_(),new Hu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:od.bind(null,e),No:ld.bind(null,e),Lo:cd.bind(null,e),p_:ud.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),id(e)?rd(e):e.j_.set("Unknown")):(await e.J_.stop(),sd(e))}))),e.J_}function Cd(e){return e.Y_||(e.Y_=function(e,t,n){const r=Di(e);return r.M_(),new Wu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:yd.bind(null,e),Lo:kd.bind(null,e),D_:wd.bind(null,e),v_:bd.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await fd(e)):(await e.Y_.stop(),e.U_.length>0&&(Ti(Ju,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class Td{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new Td(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pi(Li.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Id(e,t){if(Ii("AsyncQueue",`${t}: ${e}`),wa(e))return new Pi(Li.UNAVAILABLE,`${t}: ${e}`);throw e}class Nd{static emptySet(e){return new Nd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||oa.comparator(t.key,n.key):(e,t)=>oa.comparator(e.key,t.key),this.keyedMap=Ho(),this.sortedSet=new ts(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Nd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class xd{constructor(){this.Z_=new ts(oa.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ri():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Rd{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new Rd(e,t,Nd.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ad{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Dd{constructor(){this.queries=Ld(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Di(e),r=n.queries;n.queries=Ld(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Pi(Li.ABORTED,"Firestore shutting down"))}}function Ld(){return new Vo((e=>Po(e)),Lo)}async function Pd(e,t){const n=Di(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.na()&&t.ra()&&(r=2):(a=new Ad,r=t.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Id(e,`Initialization of query '${Oo(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&Ud(n)}async function Od(e,t){const n=Di(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.ta.indexOf(t);e>=0&&(a.ta.splice(e,1),0===a.ta.length?i=t.ra()?0:1:!a.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jd(e,t){const n=Di(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&Ud(n)}function Md(e,t,n){const r=Di(e),i=r.queries.get(t);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(t)}function Ud(e){e.ia.forEach((e=>{e.next()}))}var Fd,Vd;(Vd=Fd||(Fd={}))._a="default",Vd.Cache="cache";class zd{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Rd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=Rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Fd.Cache}}class Bd{constructor(e){this.key=e}}class $d{constructor(e){this.key=e}}class Hd{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Yo(),this.mutatedKeys=Yo(),this.ya=Uo(e),this.wa=new Nd(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new xd,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=jo(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ya(u,o)>0||l&&this.ya(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:a,Da:n,ls:s,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ri()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const s=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==a.length||l?{snapshot:new Rd(this.query,e.wa,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:s}:{Ma:s}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new xd,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Yo(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new $d(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new Bd(n))})),t}Oa(e){this.fa=e.gs,this.pa=Yo();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Rd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Wd="SyncEngine";class Kd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class qd{constructor(e){this.key=e,this.Ba=!1}}class Gd{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new Vo((e=>Po(e)),Lo),this.qa=new Map,this.Qa=new Set,this.$a=new ts(oa.comparator),this.Ua=new Map,this.Ka=new nu,this.Wa={},this.Ga=new Map,this.za=Bc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Jd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=gh(e);let i;const a=r.ka.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await Yd(r,t,n,!0),i}async function Qd(e,t){const n=gh(e);await Yd(n,t,!0,!1)}async function Yd(e,t,n,r){const i=await Su(e.localStore,xo(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Xd(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Zu(e.remoteStore,i),o}async function Xd(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await Eu(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return uh(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const a=await Eu(e.localStore,t,!0),s=new Hd(t,a.gs),o=s.ba(a.documents),l=ql.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);uh(e,n,c.Ma);const u=new Kd(t,n,s);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function Zd(e,t,n){const r=Di(e),i=r.ka.get(t),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter((e=>!Lo(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _u(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ed(r.remoteStore,i.targetId),lh(r,i.targetId)})).catch(ga)):(lh(r,i.targetId),await _u(r.localStore,i.targetId,!0))}async function eh(e,t){const n=Di(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ed(n.remoteStore,r.targetId))}async function th(e,t){const n=Di(e);try{const e=await function(e,t){const n=Di(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const s=[];t.targetChanges.forEach(((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Hr.removeMatchingKeys(e,a.removedDocuments,o).next((()=>n.Hr.addMatchingKeys(e,a.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ls.EMPTY_BYTE_STRING,ta.min()).withLastLimboFreeSnapshotVersion(ta.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.Hr.updateTargetData(e,c))}));let o=Bo(),l=Yo();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(bu(e,a,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!r.isEqual(ta.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return va.waitFor(s).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(Ai(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?Ai(r.Ba):e.removedDocuments.size>0&&(Ai(r.Ba),r.Ba=!1))})),await fh(n,e,t)}catch(e){await ga(e)}}function nh(e,t,n){const r=Di(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Di(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&Ud(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function rh(e,t,n){const r=Di(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),a=i&&i.key;if(a){let e=new ts(oa.comparator);e=e.insert(a,Gs.newNoDocument(a,ta.min()));const n=Yo().add(a),i=new Kl(ta.min(),new Map,new ts(qi),e,n);await th(r,i),r.$a=r.$a.remove(a),r.Ua.delete(t),hh(r)}else await _u(r.localStore,t,!1).then((()=>lh(r,t,n))).catch(ga)}async function ih(e,t){const n=Di(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Di(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=va.resolve();return a.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);Ai(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Yo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);oh(n,r,null),sh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fh(n,e)}catch(e){await ga(e)}}async function ah(e,t,n){const r=Di(e);try{const e=await function(e,t){const n=Di(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ai(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);oh(r,t,n),sh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await fh(r,e)}catch(n){await ga(n)}}function sh(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function oh(e,t,n){const r=Di(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function lh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||ch(e,t)}))}function ch(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(ed(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),hh(e))}function uh(e,t,n){for(const r of n)r instanceof Bd?(e.Ka.addReference(r.key,t),dh(e,r)):r instanceof $d?(Ti(Wd,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||ch(e,r.key)):Ri()}function dh(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Ti(Wd,"New document in limbo: "+n),e.Qa.add(r),hh(e))}function hh(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new oa(ia.fromString(t)),r=e.za.next();e.Ua.set(r,new qd(n)),e.$a=e.$a.insert(n,r),Zu(e.remoteStore,new Lc(xo(Co(n.path)),r,"TargetPurposeLimboResolution",ba.ae))}}async function fh(e,t,n){const r=Di(e),i=[],a=[],s=[];r.ka.isEmpty()||(r.ka.forEach(((e,o)=>{s.push(r.Ha(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=hu.Yi(o.targetId,e);a.push(t)}})))})),await Promise.all(s),r.La.p_(i),await async function(e,t){const n=Di(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>va.forEach(t,(t=>va.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>va.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!wa(e))throw e;Ti(pu,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,a))}async function mh(e,t){const n=Di(e);if(!n.currentUser.isEqual(t)){Ti(Wd,"User change. New user:",t.toKey());const e=await yu(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Pi(Li.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await fh(n,e.Rs)}}function ph(e,t){const n=Di(e),r=n.Ua.get(t);if(r&&r.Ba)return Yo().add(r.key);{let e=Yo();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function gh(e){const t=Di(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=th.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ph.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rh.bind(null,t),t.La.p_=jd.bind(null,t.eventManager),t.La.Ja=Md.bind(null,t.eventManager),t}function vh(e){const t=Di(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ih.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ah.bind(null,t),t}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vu(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return vu(this.persistence,new mu,e.initialUser,this.serializer)}Xa(e){return new lu(uu.ri,this.serializer)}Za(e){return new Iu}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class wh extends yh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ai(this.persistence.referenceDelegate instanceof du);const n=this.persistence.referenceDelegate.garbageCollector;return new qc(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?zc.withCacheSize(this.cacheSizeBytes):zc.DEFAULT;return new lu((e=>du.ri(e,t)),this.serializer)}}class bh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>nh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=mh.bind(null,this.syncEngine),await _d(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Dd}createDatastore(e){const t=Vu(e.databaseInfo.databaseId),n=function(e){return new Uu(e)}(e.databaseInfo);return function(e,t,n,r){return new qu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Qu(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>nh(this.syncEngine,e,0)),Ru.D()?new Ru:new Nu)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Gd(e,t,n,r,i,a);return s&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Di(e);Ti(Ju,"RemoteStore shutting down."),t.W_.add(5),await Xu(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}bh.provider={build:()=>new bh};class kh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Sh="FirestoreClient";class _h{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Si.UNAUTHENTICATED,this.clientId=Ki.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Ti(Sh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ti(Sh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Id(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Eh(e,t){e.asyncQueue.verifyOperationInProgress(),Ti(Sh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await yu(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ch(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Th(e);Ti(Sh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Sd(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Sd(t.remoteStore,n))),e._onlineComponents=t}async function Th(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ti(Sh,"Using user provided OfflineComponentProvider");try{await Eh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Li.FAILED_PRECONDITION||e.code===Li.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ni("Error using user provided cache. Falling back to memory cache: "+n),await Eh(e,new yh)}}else Ti(Sh,"Using default OfflineComponentProvider"),await Eh(e,new wh(void 0));return e._offlineComponents}async function Ih(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ti(Sh,"Using user provided OnlineComponentProvider"),await Ch(e,e._uninitializedComponentsProvider._online)):(Ti(Sh,"Using default OnlineComponentProvider"),await Ch(e,new bh))),e._onlineComponents}function Nh(e){return Ih(e).then((e=>e.syncEngine))}async function xh(e){const t=await Ih(e),n=t.eventManager;return n.onListen=Jd.bind(null,t.syncEngine),n.onUnlisten=Zd.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Qd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eh.bind(null,t.syncEngine),n}function Rh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Oi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new kh({next:o=>{a.su(),t.enqueueAndForget((()=>Od(e,s)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Pi(Li.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Pi(Li.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new zd(Co(n.path),a,{includeMetadataChanges:!0,Ta:!0});return Pd(e,s)}(await xh(e),e.asyncQueue,t,n,r))),r.promise}function Ah(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Oi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new kh({next:n=>{a.su(),t.enqueueAndForget((()=>Od(e,s))),n.fromCache&&"server"===r.source?i.reject(new Pi(Li.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new zd(n,a,{includeMetadataChanges:!0,Ta:!0});return Pd(e,s)}(await xh(e),e.asyncQueue,t,n,r))),r.promise}function Dh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Lh=new Map;function Ph(e,t,n){if(!n)throw new Pi(Li.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Oh(e){if(!oa.isDocumentKey(e))throw new Pi(Li.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jh(e){if(oa.isDocumentKey(e))throw new Pi(Li.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Mh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ri()}function Uh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Pi(Li.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(e);throw new Pi(Li.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const Fh="firestore.googleapis.com",Vh=!0;class zh{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Pi(Li.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fh,this.ssl=Vh}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Vh;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Vc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Hc)throw new Pi(Li.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Pi(Li.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dh(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Pi(Li.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Pi(Li.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Pi(Li.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pi(Li.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pi(Li.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mi;switch(e.type){case"firstParty":return new zi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Pi(Li.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Lh.get(e);t&&(Ti("ComponentProvider","Removing Datastore"),Lh.delete(e),t.terminate())}(this),Promise.resolve()}}class $h{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new $h(this.firestore,e,this._query)}}class Hh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hh(this.firestore,e,this._key)}}class Wh extends $h{constructor(e,t,n){super(e,t,Co(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hh(this.firestore,null,new oa(e))}withConverter(e){return new Wh(this.firestore,e,this._path)}}function Kh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pt(e),Ph("collection","path",t),e instanceof Bh){const n=ia.fromString(t,...r);return jh(n),new Wh(e,null,n)}{if(!(e instanceof Hh||e instanceof Wh))throw new Pi(Li.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ia.fromString(t,...r));return jh(n),new Wh(e.firestore,null,n)}}function qh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pt(e),1===arguments.length&&(t=Ki.newId()),Ph("doc","path",t),e instanceof Bh){const n=ia.fromString(t,...r);return Oh(n),new Hh(e,null,new oa(n))}{if(!(e instanceof Hh||e instanceof Wh))throw new Pi(Li.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ia.fromString(t,...r));return Oh(n),new Hh(e.firestore,e instanceof Wh?e.converter:null,new oa(n))}}const Gh="AsyncQueue";class Jh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zu(this,"async_queue_retry"),this.Su=()=>{const e=Fu();e&&Ti(Gh,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=Fu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Fu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new Oi;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(iy){if(!wa(iy))throw iy;Ti(Gh,"Operation failed with retryable error: "+iy)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ii("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Td.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Ri()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Qh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Yh extends Bh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Jh,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jh(e),this._firestoreClient=void 0,await e}}}function Xh(e){if(e._terminated)throw new Pi(Li.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Zh(e),e._firestoreClient}function Zh(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new bs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Dh(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new _h(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ef{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ef(ls.fromBase64String(e))}catch(e){throw new Pi(Li.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ef(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Pi(Li.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sa(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nf{constructor(e){this._methodName=e}}class rf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pi(Li.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pi(Li.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qi(this._lat,e._lat)||qi(this._long,e._long)}}class af{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const sf=/^__.*__$/;class of{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Tl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cl(e,this.data,t,this.fieldTransforms)}}class lf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Tl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ri()}}class uf{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new uf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Tf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(cf(this.Lu)&&sf.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class df{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Vu(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uf({Lu:e,methodName:t,zu:n,path:sa.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hf(e){const t=e._freezeSettings(),n=Vu(e._databaseId);return new df(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ff(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ju(a.merge||a.mergeFields?2:0,t,n,i);Sf("Data must be an object, but it was:",s,r);const o=bf(r,s);let l,c;if(a.merge)l=new ss(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=_f(t,r,n);if(!s.contains(i))throw new Pi(Li.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);If(e,i)||e.push(i)}l=new ss(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new of(new Ks(o),l,c)}class mf extends nf{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}class pf extends nf{_toFieldTransform(e){return new pl(e.path,new ol)}isEqual(e){return e instanceof pf}}function gf(e,t,n,r){const i=e.ju(1,t,n);Sf("Data must be an object, but it was:",i,r);const a=[],s=Ks.empty();Za(r,((e,r)=>{const o=Cf(t,e,n);r=Pt(r);const l=i.Uu(o);if(r instanceof mf)a.push(o);else{const e=wf(r,l);null!=e&&(a.push(o),s.set(o,e))}}));const o=new ss(a);return new lf(s,o,i.fieldTransforms)}function vf(e,t,n,r,i,a){const s=e.ju(1,t,n),o=[_f(t,r,n)],l=[i];if(a.length%2!=0)throw new Pi(Li.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(_f(t,a[h])),l.push(a[h+1]);const c=[],u=Ks.empty();for(let h=o.length-1;h>=0;--h)if(!If(c,o[h])){const e=o[h];let t=l[h];t=Pt(t);const n=s.Uu(e);if(t instanceof mf)c.push(e);else{const r=wf(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ss(c);return new lf(u,d,s.fieldTransforms)}function yf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wf(n,e.ju(r?4:3,t))}function wf(e,t){if(kf(e=Pt(e)))return Sf("Unsupported field value:",t,e),bf(e,t);if(e instanceof nf)return function(e,t){if(!cf(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=wf(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Pt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ea.fromDate(e);return{timestampValue:sc(t.serializer,n)}}if(e instanceof ea){const n=new ea(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:sc(t.serializer,n)}}if(e instanceof rf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ef)return{bytesValue:oc(t.serializer,e._byteString)};if(e instanceof Hh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:uc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof af)return function(e,t){return{mapValue:{fields:{[_s]:{stringValue:Ts},[Is]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return el(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${Mh(e)}`)}(e,t)}function bf(e,t){const n={};return es(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Za(e,((e,r)=>{const i=wf(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function kf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ea||e instanceof rf||e instanceof ef||e instanceof Hh||e instanceof nf||e instanceof af)}function Sf(e,t,n){if(!kf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Mh(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function _f(e,t,n){if((t=Pt(t))instanceof tf)return t._internalPath;if("string"==typeof t)return Cf(e,t);throw Tf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ef=new RegExp("[~\\*/\\[\\]]");function Cf(e,t,n){if(t.search(Ef)>=0)throw Tf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new tf(...t.split("."))._internalPath}catch(r){throw Tf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Tf(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Pi(Li.INVALID_ARGUMENT,o+e+l)}function If(e,t){return e.some((e=>e.isEqual(t)))}class Nf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xf extends Nf{data(){return super.data()}}function Rf(e,t){return"string"==typeof t?Cf(e,t):t instanceof tf?t._internalPath:t._delegate._internalPath}function Af(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Pi(Li.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Df{}class Lf extends Df{}function Pf(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Df&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Mf)).length,n=e.filter((e=>e instanceof Of)).length;if(t>1||t>0&&n>0)throw new Pi(Li.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Of extends Lf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Of(e,t,n)}_apply(e){const t=this._parse(e);return Bf(e._query,t),new $h(e.firestore,e.converter,Ao(e._query,t))}_parse(e){const t=hf(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Pi(Li.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){zf(s,a);const t=[];for(const n of s)t.push(Vf(r,e,n));o={arrayValue:{values:t}}}else o=Vf(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||zf(s,a),o=yf(n,t,s,"in"===a||"not-in"===a);return to.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function jf(e,t,n){const r=t,i=Rf("where",e);return Of._create(i,r,n)}class Mf extends Df{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mf(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:no.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Bf(n,i),n=Ao(n,i)}(e._query,t),new $h(e.firestore,e.converter,Ao(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Uf extends Lf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Uf(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Pi(Li.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Pi(Li.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xs(t,n)}(e._query,this._field,this._direction);return new $h(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new _o(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Ff(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Rf("orderBy",e);return Uf._create(n,t)}function Vf(e,t,n){if("string"==typeof(n=Pt(n))){if(""===n)throw new Pi(Li.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Io(t)&&-1!==n.indexOf("/"))throw new Pi(Li.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ia.fromString(n));if(!oa.isDocumentKey(r))throw new Pi(Li.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ms(e,new oa(r))}if(n instanceof Hh)return Ms(e,n._key);throw new Pi(Li.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function zf(e,t){if(!Array.isArray(e)||0===e.length)throw new Pi(Li.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Bf(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Pi(Li.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Pi(Li.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class $f{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ds(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ri()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Za(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Is].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>ds(e.doubleValue)));return new af(i)}convertGeoPoint(e){return new rf(ds(e.latitude),ds(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ys(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ws(e));default:return null}}convertTimestamp(e){const t=us(e);return new ea(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ia.fromString(e);Ai(Dc(n));const r=new Ss(n.get(1),n.get(3)),i=new oa(n.popFirst(5));return r.isEqual(t)||Ii(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Hf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Wf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kf extends Nf{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Rf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class qf extends Kf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Gf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Wf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new qf(this._firestore,this._userDataWriter,n.key,n,new Wf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pi(Li.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new qf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Wf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new qf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Jf(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Jf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ri()}}function Qf(e){e=Uh(e,Hh);const t=Uh(e.firestore,Yh);return Rh(Xh(t),e._key).then((n=>im(t,e,n)))}class Yf extends $f{constructor(e){super(),this.firestore=e}convertBytes(e){return new ef(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hh(this.firestore,null,t)}}function Xf(e){e=Uh(e,$h);const t=Uh(e.firestore,Yh),n=Xh(t),r=new Yf(t);return Af(e._query),Ah(n,e._query).then((n=>new Gf(t,r,e,n)))}function Zf(e,t,n){e=Uh(e,Hh);const r=Uh(e.firestore,Yh),i=Hf(e.converter,t,n);return rm(r,[ff(hf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vl.none())])}function em(e,t,n){e=Uh(e,Hh);const r=Uh(e.firestore,Yh),i=hf(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=Pt(t))||t instanceof tf?vf(i,"updateDoc",e._key,t,n,o):gf(i,"updateDoc",e._key,t),rm(r,[a.toMutation(e._key,vl.exists(!0))])}function tm(e){return rm(Uh(e.firestore,Yh),[new Rl(e._key,vl.none())])}function nm(e,t){const n=Uh(e.firestore,Yh),r=qh(e),i=Hf(e.converter,t);return rm(n,[ff(hf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vl.exists(!1))]).then((()=>r))}function rm(e,t){return function(e,t){const n=new Oi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=vh(e);try{const e=await function(e,t){const n=Di(e),r=ea.now(),i=t.reduce(((e,t)=>e.add(t.key)),Yo());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Bo(),l=Yo();return n.ds.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{a=i;const s=[];for(const e of t){const t=_l(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Tl(e.key,t,qs(t.value.mapValue),vl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Wo(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new ts(qi)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await fh(r,e.changes),await fd(r.remoteStore)}catch(e){const t=Id(e,"Failed to persist write");n.reject(t)}}(await Nh(e),t,n))),n.promise}(Xh(e),t)}function im(e,t,n){const r=n.docs.get(t._key),i=new Yf(e);return new Kf(e,i,t._key,r,new Wf(n.hasPendingWrites,n.fromCache),t.converter)}function am(){return new pf("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_i=e}(Qn),Wn(new Ot("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new Yh(new Fi(e.getProvider("auth-internal")),new $i(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Pi(Li.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ss(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Zn(bi,ki,e),Zn(bi,ki,"esm2017")}();function sm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function om(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lm=om,cm=new Ct("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),um=new Wt("@firebase/auth");function dm(e){if(um.logLevel<=Vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];um.error(`Auth (${Qn}): ${e}`,...n)}}function hm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vm(e,...n)}function fm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vm(e,...n)}function mm(e,t,n){const r=Object.assign(Object.assign({},lm()),{[t]:n});return new Ct("auth","Firebase",r).create(t,{appName:e.name})}function pm(e){return mm(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gm(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&hm(e,"argument-error"),mm(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return cm.create(e,...n)}function ym(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vm(t,...r)}}function wm(e){const t="INTERNAL ASSERTION FAILED: "+e;throw dm(t),new Error(t)}function bm(e,t){e||wm(t)}function km(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Sm(){return"http:"===_m()||"https:"===_m()}function _m(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Em(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Sm()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Cm{constructor(e,t){this.shortDelay=e,this.longDelay=t,bm(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Em()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tm(e,t){bm(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Im{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void wm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void wm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void wm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xm=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rm=new Cm(3e4,6e4);function Am(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Dm(e,t,n,r){return Lm(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=xt(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Im.fetch()(await Om(e,e.config.apiHost,n,s),l)}))}async function Lm(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Nm),t);try{const t=new Mm(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Um(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Um(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Um(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Um(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw mm(e,o,s);hm(e,o)}}catch(iy){if(iy instanceof Et)throw iy;hm(e,"network-request-failed",{message:String(iy)})}}async function Pm(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Dm(e,t,n,r,i);return"mfaPendingCredential"in a&&hm(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Om(e,t,n,r){const i=`${t}${n}?${r}`,a=e,s=a.config.emulator?Tm(e.config,i):`${e.config.apiScheme}://${i}`;if(xm.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(s).toString()}return s}function jm(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mm{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(fm(this.auth,"network-request-failed"))),Rm.get())}))}}function Um(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fm(e,t,r);return i.customData._tokenResponse=n,i}function Fm(e){return void 0!==e&&void 0!==e.enterprise}class Vm{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jm(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zm(e,t){return Dm(e,"GET","/v2/recaptchaConfig",Am(e,t))}async function Bm(e,t){return Dm(e,"POST","/v1/accounts:lookup",t)}function $m(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(iy){}}function Hm(e){return 1e3*Number(e)}function Wm(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return dm("JWT malformed, contained fewer than 3 sections"),null;try{const e=ht(n);return e?JSON.parse(e):(dm("Failed to decode base64 JWT payload"),null)}catch(iy){return dm("Caught error parsing JWT payload as JSON",null===iy||void 0===iy?void 0:iy.toString()),null}}function Km(e){const t=Wm(e);return ym(t,"internal-error"),ym("undefined"!==typeof t.exp,"internal-error"),ym("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function qm(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(iy){throw iy instanceof Et&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(iy)&&e.auth.currentUser===e&&await e.auth.signOut(),iy}}class Gm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(iy){return void("auth/network-request-failed"===(null===iy||void 0===iy?void 0:iy.code)&&this.schedule(!0))}this.schedule()}}class Jm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$m(this.lastLoginAt),this.creationTime=$m(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qm(e){var t;const n=e.auth,r=await e.getIdToken(),i=await qm(e,Bm(n,{idToken:r}));ym(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?Ym(a.providerUserInfo):[],o=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Jm(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Ym(e){return e.map((e=>{var{providerId:t}=e,n=sm(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Xm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ym(e.idToken,"internal-error"),ym("undefined"!==typeof e.idToken,"internal-error"),ym("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Km(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ym(0!==e.length,"internal-error");const t=Km(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ym(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Lm(e,{},(async()=>{const n=xt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Om(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Im.fetch()(a,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Xm;return n&&(ym("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(ym("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(ym("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xm,this.toJSON())}_performRefresh(){return wm("not implemented")}}function Zm(e,t){ym("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ep{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Jm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await qm(this,this.stsTokenManager.getToken(this.auth,e));return ym(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Pt(e),r=await n.getIdToken(t),i=Wm(r);ym(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:$m(Hm(i.auth_time)),issuedAtTime:$m(Hm(i.iat)),expirationTime:$m(Hm(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Pt(e);await Qm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ym(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ep(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ym(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Qm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(pm(this.auth));const e=await this.getIdToken();return await qm(this,async function(e,t){return Dm(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:k,stsTokenManager:S}=t;ym(y&&S,e,"internal-error");const _=Xm.fromJSON(this.name,S);ym("string"===typeof y,e,"internal-error"),Zm(u,e.name),Zm(d,e.name),ym("boolean"===typeof w,e,"internal-error"),ym("boolean"===typeof b,e,"internal-error"),Zm(h,e.name),Zm(f,e.name),Zm(m,e.name),Zm(p,e.name),Zm(g,e.name),Zm(v,e.name);const E=new ep({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:m,stsTokenManager:_,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(E.providerData=k.map((e=>Object.assign({},e)))),p&&(E._redirectEventId=p),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Xm;r.updateFromServerResponse(t);const i=new ep({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Qm(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ym(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Ym(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new Xm;s.updateFromIdToken(n);const o=new ep({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Jm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const tp=new Map;function np(e){bm(e instanceof Function,"Expected a class definition");let t=tp.get(e);return t?(bm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tp.set(e,t),t)}class rp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rp.type="NONE";const ip=rp;function ap(e,t,n){return`firebase:${e}:${t}:${n}`}class sp{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ap(this.userKey,r.apiKey,i),this.fullPersistenceKey=ap("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Bm(this.auth,{idToken:e}).catch((()=>{}));return t?ep._fromGetAccountInfoResponse(this.auth,t,e):null}return ep._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new sp(np(ip),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||np(ip);const a=ap(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await Bm(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await ep._fromGetAccountInfoResponse(e,r,t)}else n=ep._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(l){}}))),new sp(i,e,n)):new sp(i,e,n)}}function op(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dp(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fp(t))return"Blackberry";if(mp(t))return"Webos";if(cp(t))return"Safari";if((t.includes("chrome/")||up(t))&&!t.includes("edge/"))return"Chrome";if(hp(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function lp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt();return/firefox\//i.test(e)}function cp(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function up(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt();return/crios\//i.test(e)}function dp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt();return/iemobile/i.test(e)}function hp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt();return/android/i.test(e)}function fp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt();return/blackberry/i.test(e)}function mp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt();return/webos/i.test(e)}function pp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gp(){return function(){const e=kt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function vp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt();return pp(e)||hp(e)||mp(e)||fp(e)||/windows phone/i.test(e)||dp(e)}function yp(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=op(kt());break;case"Worker":t=`${op(kt())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qn}/${r}`}class wp{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(iy){r(iy)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(iy){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===iy||void 0===iy?void 0:iy.message})}}}class bp{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class kp{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _p(this),this.idTokenSubscription=new _p(this),this.beforeStateQueue=new wp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=np(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await sp.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(iy){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Bm(this,{idToken:e}),n=await ep._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(qn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==a||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(iy){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(iy)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ym(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(iy){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qm(e)}catch(iy){if("auth/network-request-failed"!==(null===iy||void 0===iy?void 0:iy.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(pm(this));const t=e?Pt(e):null;return t&&ym(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ym(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return qn(this.app)?Promise.reject(pm(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(pm(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(np(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Dm(e,"GET","/v2/passwordPolicy",Am(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new bp(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ct("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Dm(e,"POST","/v2/accounts:revokeToken",Am(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&np(e)||this._popupRedirectResolver;ym(t,this,"argument-error"),this.redirectPersistenceManager=await sp.create(this,[np(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ym(s,this,"internal-error"),s.then((()=>{a||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ym(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(um.logLevel<=Vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];um.warn(`Auth (${Qn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Sp(e){return Pt(e)}class _p{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Dt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return ym(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cp(e){return Ep.loadJS(e)}function Tp(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ip{constructor(){this.enterprise=new Np}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Np{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xp="NO_RECAPTCHA";class Rp{constructor(e){this.type="recaptcha-enterprise",this.auth=Sp(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Fm(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(xp)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ip).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{zm(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Vm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Fm(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ep.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Cp(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ap(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Rp(e);let s;if(i)s=xp;else try{s=await a.verify(n)}catch(l){s=await a.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Dp(e,t,n,r,i){var a,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ap(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ap(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await Ap(e,t,n);return r(e,i).catch((async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Ap(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Ap(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Lp(e){const t=Sp(e),n=await zm(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Vm(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Rp(t).verify()}}function Pp(e,t,n){const r=Sp(e);ym(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Op(t),{host:s,port:o}=function(e){const t=Op(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:jp(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:jp(t)}}}(t),l={url:`${a}//${s}${null===o?"":`:${o}`}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return ym(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void ym(It(l,r.config.emulator)&&It(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Op(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function jp(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Mp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wm("not implemented")}_getIdTokenResponse(e){return wm("not implemented")}_linkToIdToken(e,t){return wm("not implemented")}_getReauthenticationResolver(e){return wm("not implemented")}}async function Up(e,t){return Dm(e,"POST","/v1/accounts:signUp",t)}async function Fp(e,t){return Pm(e,"POST","/v1/accounts:signInWithPassword",Am(e,t))}class Vp extends Mp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Vp(e,t,"password")}static _fromEmailAndCode(e,t){return new Vp(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Dp(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Pm(e,"POST","/v1/accounts:signInWithEmailLink",Am(e,t))}(e,{email:this._email,oobCode:this._password});default:hm(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Dp(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Up,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Pm(e,"POST","/v1/accounts:signInWithEmailLink",Am(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:hm(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zp(e,t){return Pm(e,"POST","/v1/accounts:signInWithIdp",Am(e,t))}class Bp extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hm("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=sm(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Bp(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return zp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xt(t)}return e}}async function $p(e,t){return Dm(e,"POST","/v1/accounts:sendVerificationCode",Am(e,t))}const Hp={USER_NOT_FOUND:"user-not-found"};class Wp extends Mp{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Wp({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Wp({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Pm(e,"POST","/v1/accounts:signInWithPhoneNumber",Am(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Pm(e,"POST","/v1/accounts:signInWithPhoneNumber",Am(e,t));if(n.temporaryProof)throw Um(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Pm(e,"POST","/v1/accounts:signInWithPhoneNumber",Am(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Hp)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Wp({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Kp{constructor(e){var t,n,r,i,a,s;const o=Rt(At(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);ym(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Rt(At(e)).link,n=t?Rt(At(t)).deep_link_id:null,r=Rt(At(e)).deep_link_id;return(r?Rt(At(r)).link:null)||r||n||t||e}(e);try{return new Kp(t)}catch(n){return null}}}class qp{constructor(){this.providerId=qp.PROVIDER_ID}static credential(e,t){return Vp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Kp.parseLink(t);return ym(n,"argument-error"),Vp._fromEmailAndCode(e,n.code,n.tenantId)}}qp.PROVIDER_ID="password",qp.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Gp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Jp extends Gp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qp extends Jp{constructor(){super("facebook.com")}static credential(e){return Bp._fromParams({providerId:Qp.PROVIDER_ID,signInMethod:Qp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qp.credentialFromTaggedObject(e)}static credentialFromError(e){return Qp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qp.credential(t.oauthAccessToken)}catch(n){return null}}}Qp.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qp.PROVIDER_ID="facebook.com";class Yp extends Jp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bp._fromParams({providerId:Yp.PROVIDER_ID,signInMethod:Yp.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yp.credentialFromTaggedObject(e)}static credentialFromError(e){return Yp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Yp.credential(n,r)}catch(i){return null}}}Yp.GOOGLE_SIGN_IN_METHOD="google.com",Yp.PROVIDER_ID="google.com";class Xp extends Jp{constructor(){super("github.com")}static credential(e){return Bp._fromParams({providerId:Xp.PROVIDER_ID,signInMethod:Xp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xp.credentialFromTaggedObject(e)}static credentialFromError(e){return Xp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xp.credential(t.oauthAccessToken)}catch(n){return null}}}Xp.GITHUB_SIGN_IN_METHOD="github.com",Xp.PROVIDER_ID="github.com";class Zp extends Jp{constructor(){super("twitter.com")}static credential(e,t){return Bp._fromParams({providerId:Zp.PROVIDER_ID,signInMethod:Zp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zp.credentialFromTaggedObject(e)}static credentialFromError(e){return Zp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Zp.credential(n,r)}catch(i){return null}}}Zp.TWITTER_SIGN_IN_METHOD="twitter.com",Zp.PROVIDER_ID="twitter.com";class eg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ep._fromIdTokenResponse(e,n,r),a=tg(n);return new eg({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=tg(n);return new eg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function tg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ng extends Et{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ng.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ng(e,t,n,r)}}function rg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw ng._fromErrorAndOperation(e,n,t,r);throw n}))}async function ig(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await qm(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return eg._forOperation(e,"link",r)}async function ag(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(qn(r.app))return Promise.reject(pm(r));const i="reauthenticate";try{const a=await qm(e,rg(r,i,t,e),n);ym(a.idToken,r,"internal-error");const s=Wm(a.idToken);ym(s,r,"internal-error");const{sub:o}=s;return ym(e.uid===o,r,"user-mismatch"),eg._forOperation(e,i,a)}catch(iy){throw"auth/user-not-found"===(null===iy||void 0===iy?void 0:iy.code)&&hm(r,"user-mismatch"),iy}}async function sg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(qn(e.app))return Promise.reject(pm(e));const r="signIn",i=await rg(e,r,t),a=await eg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function og(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Pt(e),a={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await qm(i,async function(e,t){return Dm(e,"POST","/v1/accounts:update",t)}(i.auth,a));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function lg(e,t){return Dm(e,"POST","/v2/accounts/mfaEnrollment:start",Am(e,t))}new WeakMap;const cg="__sak";class ug{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cg,"1"),this.storage.removeItem(cg),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class dg extends ug{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vp(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);gp()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dg.type="LOCAL";const hg=dg;function fg(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function mg(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class pg{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=mg(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return fg(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=mg(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=mg(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=fg(n);const i=setInterval((()=>{const e=fg(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}pg.type="COOKIE";class gg extends ug{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gg.type="SESSION";const vg=gg;class yg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new yg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function wg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}yg.receivers=[];class bg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((s,o)=>{const l=wg("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function kg(){return window}function Sg(){return"undefined"!==typeof kg().WorkerGlobalScope&&"function"===typeof kg().importScripts}const _g="firebaseLocalStorageDb",Eg="firebaseLocalStorage",Cg="fbase_key";class Tg{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ig(e,t){return e.transaction([Eg],t?"readwrite":"readonly").objectStore(Eg)}function Ng(){const e=indexedDB.open(_g,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Eg,{keyPath:Cg})}catch(iy){n(iy)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Eg)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(_g);return new Tg(e).toPromise()}(),t(await Ng()))}))}))}async function xg(e,t,n){const r=Ig(e,!0).put({[Cg]:t,value:n});return new Tg(r).toPromise()}function Rg(e,t){const n=Ig(e,!0).delete(t);return new Tg(n).toPromise()}class Ag{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ng()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(iy){if(t++>3)throw iy;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yg._getInstance(Sg()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new bg(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await xg(e,cg,"1"),await Rg(e,cg),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>xg(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ig(e,!1).get(t),r=await new Tg(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Rg(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ig(e,!1).getAll();return new Tg(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ag.type="LOCAL";const Dg=Ag;function Lg(e,t){return Dm(e,"POST","/v2/accounts/mfaSignIn:start",Am(e,t))}Tp("rcb"),new Cm(3e4,6e4);const Pg="recaptcha";async function Og(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Lp(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){ym("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Dp(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===xp){ym((null===n||void 0===n?void 0:n.type)===Pg,e,"argument-error");return lg(e,await jg(e,t,n))}return lg(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{ym("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;ym(a,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Dp(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===xp){ym((null===n||void 0===n?void 0:n.type)===Pg,e,"argument-error");return Lg(e,await jg(e,t,n))}return Lg(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Dp(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===xp){ym((null===n||void 0===n?void 0:n.type)===Pg,e,"argument-error");return $p(e,await jg(e,t,n))}return $p(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function jg(e,t,n){ym(n.type===Pg,e,"argument-error");const r=await n.verify();ym("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Mg{constructor(e){this.providerId=Mg.PROVIDER_ID,this.auth=Sp(e)}verifyPhoneNumber(e,t){return Og(this.auth,e,Pt(t))}static credential(e,t){return Wp._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Mg.credentialFromTaggedObject(t)}static credentialFromError(e){return Mg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Wp._fromTokenResponse(n,r):null}}function Ug(e,t){return t?np(t):(ym(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Mg.PROVIDER_ID="phone",Mg.PHONE_SIGN_IN_METHOD="phone";class Fg extends Mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vg(e){return sg(e.auth,new Fg(e),e.bypassAuthState)}function zg(e){const{auth:t,user:n}=e;return ym(n,t,"internal-error"),ag(n,new Fg(e),e.bypassAuthState)}async function Bg(e){const{auth:t,user:n}=e;return ym(n,t,"internal-error"),ig(n,new Fg(e),e.bypassAuthState)}class $g{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(iy){this.reject(iy)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(iy){this.reject(iy)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vg;case"linkViaPopup":case"linkViaRedirect":return Bg;case"reauthViaPopup":case"reauthViaRedirect":return zg;default:hm(this.auth,"internal-error")}}resolve(e){bm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hg=new Cm(2e3,1e4);class Wg extends $g{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Wg.currentPopupAction&&Wg.currentPopupAction.cancel(),Wg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ym(e,this.auth,"internal-error"),e}async onExecution(){bm(1===this.filter.length,"Popup operations only handle one event");const e=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(fm(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(fm(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(fm(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Hg.get())};e()}}Wg.currentPopupAction=null;const Kg=new Map;class qg extends $g{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Kg.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Qg(t),r=Jg(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(iy){e=()=>Promise.reject(iy)}Kg.set(this.auth._key(),e)}return this.bypassAuthState||Kg.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Gg(e,t){Kg.set(e._key(),t)}function Jg(e){return np(e._redirectPersistence)}function Qg(e){return ap("pendingRedirect",e.config.apiKey,e.name)}async function Yg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(qn(e.app))return Promise.reject(pm(e));const r=Sp(e),i=Ug(r,t),a=new qg(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Xg{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ev(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ev(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(fm(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zg(e))}saveEventToCache(e){this.cachedEventUids.add(Zg(e)),this.lastProcessedEventTime=Date.now()}}function Zg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ev(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const tv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nv=/^https?/;async function rv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Dm(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(iv(r))return}catch(n){}hm(e,"unauthorized-domain")}function iv(e){const t=km(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!nv.test(n))return!1;if(tv.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const av=new Cm(3e4,6e4);function sv(){const e=kg().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ov(e){return new Promise(((t,n)=>{var r,i,a;function s(){sv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sv(),n(fm(e,"network-request-failed"))},timeout:av.get()})}if(null===(i=null===(r=kg().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=kg().gapi)||void 0===a?void 0:a.load)){const t=Tp("iframefcb");return kg()[t]=()=>{gapi.load?s():n(fm(e,"network-request-failed"))},Cp(`${Ep.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw lv=null,e}))}let lv=null;const cv=new Cm(5e3,15e3),uv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hv(e){const t=e.config;ym(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Tm(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Qn},i=dv.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${xt(r).slice(1)}`}async function fv(e){const t=await function(e){return lv=lv||ov(e),lv}(e),n=kg().gapi;return ym(n,e,"internal-error"),t.open({where:document.body,url:hv(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uv,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=fm(e,"network-request-failed"),a=kg().setTimeout((()=>{r(i)}),cv.get());function s(){kg().clearTimeout(a),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const mv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(iy){}}}function gv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},mv),{width:r.toString(),height:i.toString(),top:a,left:s}),c=kt().toLowerCase();n&&(o=up(c)?"_blank":n),lp(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return pp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new pv(null);const d=window.open(t||"",o,u);ym(d,e,"popup-blocked");try{d.focus()}catch(iy){}return new pv(d)}const vv="__/auth/handler",yv="emulator/auth/handler",wv=encodeURIComponent("fac");async function bv(e,t,n,r,i,a){ym(e.config.authDomain,e,"auth-domain-config-required"),ym(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qn,eventId:i};if(t instanceof Gp){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof Jp){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${wv}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${vv}`;return Tm(t,yv)}(e)}?${xt(o).slice(1)}${c}`}const kv="webStorageSupport";const Sv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vg,this._completeRedirectFn=Yg,this._overrideRedirectResult=Gg}async _openPopup(e,t,n,r){var i;bm(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return gv(e,await bv(e,t,n,km(),r),wg())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){kg().location.href=e}(await bv(e,t,n,km(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(bm(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await fv(e),n=new Xg(e);return t.register("authEvent",(t=>{ym(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kv,{type:kv},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[kv];void 0!==i&&t(!!i),hm(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vp()||cp()||pp()}};var _v="@firebase/auth",Ev="1.10.0";class Cv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ym(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Tv=yt("authIdTokenMaxAge")||300;let Iv=null;var Nv;Ep={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=fm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Nv="Browser",Wn(new Ot("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ym(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:Nv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yp(Nv)},c=new kp(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(np);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Wn(new Ot("auth-internal",(e=>(e=>new Cv(e))(Sp(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(_v,Ev,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Nv)),Zn(_v,Ev,"esm2017");const xv=Yn({apiKey:"AIzaSyBBgnuqzrprlrjoXOdtQUVQxqmjIn41fSw",authDomain:"survivorranks-ee419.firebaseapp.com",projectId:"survivorranks-ee419",storageBucket:"survivorranks-ee419.firebasestorage.app",messagingSenderId:"287417667596",appId:"1:287417667596:web:d32b706f03baf878795e29",measurementId:"G-XTHMW1YS7Z"}),Rv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn(),t=arguments.length>1?arguments[1]:void 0;e=Pt(e);const n=Kn(e,ni).getImmediate({identifier:t}),r=gt("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:bt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(xv),Av=function(e,t){const n="object"==typeof e?e:Xn(),r="string"==typeof e?e:t||ks,i=Kn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=gt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=Uh(e,Bh))._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;a.host!==Fh&&a.host!==o&&Ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},a),{host:o,ssl:!1,emulatorOptions:r});if(!It(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Si.MOCK_USER;else{t=bt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Pi(Li.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Si(a)}e._authCredentials=new Ui(new ji(t,n))}}(i,...e)}return i}(xv),Dv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn();const t=Kn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Kn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(It(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;hm(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Sv,persistence:[Dg,hg,vg]}),r=yt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Tv)return;const r=null===t||void 0===t?void 0:t.token;Iv!==r&&(Iv=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Pt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Pt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const a=pt("auth");return a&&Pp(n,`http://${a}`),n}(xv),Lv=async(e,t)=>{try{const n=t.startsWith("s")?t.substring(1):t,r={"B.B. Andersen":"bb","J'Tia Taylor":"jtia","R.C. Saint-Amour":"rc","J.P. Hilsabeck":"jp","J.P. Calderon":"jp","Susan Hawk":"sue"};let i;i=r[e.name]?r[e.name]:e.name.toLowerCase().split(" ")[0];const a=`Headshots/Season ${n}/${i}.png`;console.log("Attempting to load image:",a);const s=ii(Rv,a),o=await ri(s);return console.log("Generated URL:",o),o}catch(n){console.error("Error getting image URL:",n);const r=t.startsWith("s")?t.substring(1):t,i={"B.B. Andersen":"bb","J'Tia Taylor":"jtia","R.C. Saint-Amour":"rc","J.P. Hilsabeck":"jp","J.P. Calderon":"jp","Susan Hawk":"sue","Elizabeth Filarski":"elisabeth","Kim Johnson":"kimmi","Jessica Johnston":"jessie","Kim Powers":"kimp","T-Bird Cooper":"teresa","Kim Johnson":"kimj","Rob Mariano":"robm","Shii-Ann Huang":"shiiann","Jenna Morasca":"joanna","Jonny Fairplay":"jon","Lill Morris":"lil","Ryan Opray":"ryano","Ryan Shoulders":"ryans","Stephanie Lagrossa":"stephenie","Ibrahim Hassan":"ibrehem","Ruth Marie Milliman":"ruthmarie","Stephanie Favor":"stephannie","Nate Gonzalez":"nathan","Cao Boi Bui":"caoboi","Yau-Man Chan":"yauman","Peih-Gee Law":"peihgee","Jamie Dugan":"jaime","Jean-Robert Bellande":"jeanrobert","Mikey Bortone":"michael","Jacquie Berg":"jacque","Kenny Hoang":"ken","Coach Wade":"ben","Debbie Beebe":"debra","Jimmy Johnson":"jimmyj","Jud 'Fabio' Birza":"fabio","Ben 'Benry' Henry":"benry","Matthew 'Sash' Lenahan":"mathew","Jimmy Tarantino":"jimmyt","Benjamin 'Coach' Wade":"coach","John Cochran":"cochran","Greg 'Tarzan' Smith":"tarzan","Jonathan Penner":"penner","Abi-Maria Gomes":"abi","Michael Skupin":"skupin","Sarah Dawson":"dawson","Laura Morett":"lauram","Laura Boneham":"laurab","So Kim":"sokim","Joe Del Campo":"joseph","Liz Markham":"elisabeth","Justin 'Jay' Starrett":"jay","Stephanie Gonzalez":"stephanieg","Stephanie Johnson":"stephaniej","Wardog DaSilva":"dan","Noura Salman":"naura","JD Robinson":"jairus","Shan Smith":"shantel","Elisabeth 'Elie' Scott":"elie","Mike Gabler":"gabler","Yam Yam Arocho":"yamyam","Jamie Lynn Ruiz":"jaime","Nicholas 'Sifu' Alsup":"sifu","Janani Krishnan-Jha":"jmaya","David Jelinksy":"jelinsky","Jemila Hussain-Adams":"jem","Solomon Yi":"sol","Terran Foster":"tk","Jerome Cooney":"rome","G.C. Brown":"danny"};let a;a=i[e.name]?i[e.name]:e.name.toLowerCase().split(" ")[0];const s=`https://firebasestorage.googleapis.com/v0/b/survivorranks-ee419.firebasestorage.app/o/${encodeURIComponent(`Headshots/Season ${r}/${a}.png`)}?alt=media`;return console.log("Trying direct URL:",s),s}},Pv=async e=>{try{const t=`Survivor Seasons/Season ${e.startsWith("s")?e.substring(1):e}.png`;console.log("Attempting to load season logo:",t);const n=ii(Rv,t),r=await ri(n);return console.log("Generated logo URL:",r),r}catch(t){console.error("Error getting season logo URL:",t);const n=e.startsWith("s")?e.substring(1):e,r=`https://firebasestorage.googleapis.com/v0/b/survivorranks-ee419.firebasestorage.app/o/${encodeURIComponent(`Survivor Seasons/Season ${n}.png`)}?alt=media`;return console.log("Trying direct logo URL:",r),r}},Ov=async(e,t,n)=>{try{const r=qh(Av,"rankings","current");return await Zf(r,{maddysList:e,andrewsList:t,kendallsList:n,lastUpdated:(new Date).toISOString()}),console.log("Rankings saved successfully"),!0}catch(r){return console.error("Error saving rankings:",r),!1}},jv=e=>function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s;e=Pt(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Qh(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Qh(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof Hh)d=Uh(e.firestore,Yh),h=Co(e._key.path),u={next:t=>{n[l]&&n[l](im(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Uh(e,$h);d=Uh(t.firestore,Yh),h=t._query;const r=new Yf(d);u={next:e=>{n[l]&&n[l](new Gf(d,r,t,e))},error:n[l+1],complete:n[l+2]},Af(e._query)}return function(e,t,n,r){const i=new kh(r),a=new zd(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Pd(await xh(e),a))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>Od(await xh(e),a)))}}(Xh(d),h,c,u)}(qh(Av,"rankings","current"),(t=>{t.exists()?e(t.data()):e({maddysList:[],andrewsList:[],kendallsList:[]})}),(e=>{console.error("Error listening to rankings updates:",e)})),Mv=async()=>{try{const e=new Yp,t=await async function(e,t,n){if(qn(e.app))return Promise.reject(fm(e,"operation-not-supported-in-this-environment"));const r=Sp(e);gm(e,t,Gp);const i=Ug(r,n);return new Wg(r,"signInViaPopup",t,i).executeNotNull()}(Dv,e);return t.user}catch(e){throw console.error("Error signing in with Google:",e),e}},Uv=async()=>{try{return await function(e){return Pt(e).signOut()}(Dv),console.log("User signed out successfully"),!0}catch(e){throw console.error("Error signing out:",e),e}},Fv=e=>function(e,t,n,r){return Pt(e).onAuthStateChanged(t,n,r)}(Dv,e),Vv=[{id:"s1",name:"Survivor: Borneo",contestants:[{id:"dirk-heen",name:"Dirk Heen"},{id:"gretchen-cordy",name:"Gretchen Cordy"},{id:"jenna-lewis",name:"Jenna Lewis"},{id:"b-b-andersen",name:"B.B. Andersen"},{id:"rudy-boehlke",name:"Rudy Boehlke"},{id:"sonja-christopher",name:"Sonja Christopher"},{id:"richard-hatch",name:"Richard Hatch"},{id:"joel-klug",name:"Joel Klug"},{id:"gervase-peterson",name:"Gervase Peterson"},{id:"kelly-wiglesworth",name:"Kelly Wiglesworth"},{id:"greg-buis",name:"Greg Buis"},{id:"susan-hawk",name:"Susan Hawk"},{id:"sean-kenniff",name:"Sean Kenniff"},{id:"colleen-haskell",name:"Colleen Haskell"},{id:"ramona-gray",name:"Ramona Gray"},{id:"stacey-stillman",name:"Stacey Stillman"}]},{id:"s2",name:"Survivor: The Australian Outback",contestants:[{id:"kel-gleason",name:"Kel Gleason"},{id:"amber-brkich",name:"Amber Brkich"},{id:"tina-wesson",name:"Tina Wesson"},{id:"michael-skupin",name:"Michael Skupin"},{id:"elizabeth-filarski",name:"Elizabeth Filarski"},{id:"keith-famie",name:"Keith Famie"},{id:"colby-donaldson",name:"Colby Donaldson"},{id:"rodger-bingham",name:"Rodger Bingham"},{id:"nick-brown",name:"Nick Brown"},{id:"alicia-calaway",name:"Alicia Calaway"},{id:"debb-eaton",name:"Debb Eaton"},{id:"jerri-manthey",name:"Jerri Manthey"},{id:"jeff-varner",name:"Jeff Varner"},{id:"maralyn-mad-dog-hershey",name:"Maralyn 'Mad Dog' Hershey"},{id:"kimmi-kappenberg",name:"Kimmi Kappenberg"},{id:"mitchell-olsen",name:"Mitchell Olsen"}]},{id:"s3",name:"Survivor: Africa",contestants:[{id:"linda-spencer",name:"Linda Spencer"},{id:"ethan-zohn",name:"Ethan Zohn"},{id:"frank-garrison",name:"Frank Garrison"},{id:"diane-ogden",name:"Diane Ogden"},{id:"lex-van-phedke",name:"Lex van Phedke"},{id:"jessica-johnston",name:"Jessica Johnston"},{id:"kim-powers",name:"Kim Powers"},{id:"tom-buchanan",name:"Tom Buchanan"},{id:"t-bird-cooper",name:"T-Bird Cooper"},{id:"brandon-quinton",name:"Brandon Quinton"},{id:"kelly-goldsmith",name:"Kelly Goldsmith"},{id:"kim-johnson",name:"Kim Johnson"},{id:"clarence-black",name:"Clarence Black"},{id:"silas-gaither",name:"Silas Gaither"},{id:"carl-bilancione",name:"Carl Bilancione"},{id:"lindsey-richter",name:"Lindsey Richter"}]},{id:"s4",name:"Survivor: Marquesas",contestants:[{id:"hunter-ellis",name:"Hunter Ellis"},{id:"vecepia-towery",name:"Vecepia Towery"},{id:"gina-crews",name:"Gina Crews"},{id:"sean-rector",name:"Sean Rector"},{id:"paschal-english",name:"Paschal English"},{id:"neleh-dennis",name:"Neleh Dennis"},{id:"kathy-vavrick-obrien",name:"Kathy Vavrick-O'Brien"},{id:"robert-decanio",name:"Robert DeCanio"},{id:"tammy-leitner",name:"Tammy Leitner"},{id:"john-carroll",name:"John Carroll"},{id:"rob-mariano",name:"Rob Mariano"},{id:"gabriel-cade",name:"Gabriel Cade"},{id:"peter-harkey",name:"Peter Harkey"},{id:"patricia-jackson",name:"Patricia Jackson"},{id:"sarah-jones",name:"Sarah Jones"},{id:"zoe-zanidakis",name:"Zoe Zanidakis"}]},{id:"s5",name:"Survivor: Thailand",contestants:[{id:"john-raymond",name:"John Raymond"},{id:"brian-heidik",name:"Brian Heidik"},{id:"clay-jordan",name:"Clay Jordan"},{id:"jan-gorny",name:"Jan Gorny"},{id:"helen-glover",name:"Helen Glover"},{id:"ted-rogers",name:"Ted Rogers"},{id:"shii-ann-huang",name:"Shii-Ann Huang"},{id:"penny-ramsey",name:"Penny Ramsey"},{id:"jake-billingsley",name:"Jake Billingsley"},{id:"ken-stoja",name:"Ken Stoja"},{id:"erin-collins",name:"Erin Collins"},{id:"stephanie-dill",name:"Stephanie Dill"},{id:"robb-zbacnik",name:"Robb Zbacnik"},{id:"jed-hildebrand",name:"Jed Hildebrand"},{id:"ghandia-johnson",name:"Ghandia Johnson"},{id:"tanya-vance",name:"Tanya Vance"}]},{id:"s6",name:"Survivor: The Amazon",contestants:[{id:"daniel-lue",name:"Daniel Lue"},{id:"jeanne-herbert",name:"Jeanne Herbert"},{id:"matthew-von-ertfelda",name:"Matthew von Ertfelda"},{id:"rob-cesternino",name:"Rob Cesternino"},{id:"christy-smith",name:"Christy Smith"},{id:"deena-bennett",name:"Deena Bennett"},{id:"dave-johnson",name:"Dave Johnson"},{id:"alex-bell",name:"Alex Bell"},{id:"heidi-strobel",name:"Heidi Strobel"},{id:"butch-lally",name:"Butch Lally"},{id:"joanna-ward",name:"Joanna Ward"},{id:"shawna-mitchell",name:"Shawna Mitchell"},{id:"roger-sexton",name:"Roger Sexton"},{id:"jenna-morasca",name:"Jenna Morasca"},{id:"ryan-akien",name:"Ryan Aken"},{id:"janet-koth",name:"Janet Koth"}]},{id:"s7",name:"Survivor: Pearl Islands",contestants:[{id:"nicole-delma",name:"Nicole Delma"},{id:"sandra-diaz-twine",name:"Sandra Diaz-Twine"},{id:"jonny-fairplay",name:"Jonny Fairplay"},{id:"lill-morris",name:"Lill Morris"},{id:"darrah-johnson",name:"Darrah Johnson"},{id:"burton-roberts",name:"Burton Roberts"},{id:"tijuana-bradley",name:"Tijuana Bradley"},{id:"christa-hastie",name:"Christa Hastie"},{id:"rupert-boneham",name:"Rupert Boneham"},{id:"trish-duncan",name:"Trish Duncan"},{id:"ryan-opray",name:"Ryan Opray"},{id:"andrew-savage",name:"Andrew Savage"},{id:"osten-taylor",name:"Osten Taylor"},{id:"shawn-cohen",name:"Shawn Cohen"},{id:"michelle-tesauro",name:"Michelle Tesauro"},{id:"ryan-shoulders",name:"Ryan Shoulders"}]},{id:"s8",name:"Survivor: All-Stars",contestants:[{id:"susan-hawk",name:"Susan Hawk"},{id:"amber-brkich",name:"Amber Brkich"},{id:"rob-mariano",name:"Rob Mariano"},{id:"jenna-lewis",name:"Jenna Lewis"},{id:"rupert-boneham",name:"Rupert Boneham"},{id:"tom-buchanan",name:"Tom Buchanan"},{id:"shii-ann-huang",name:"Shii-Ann Huang"},{id:"alicia-calaway",name:"Alicia Calaway"},{id:"kathy-vavrick-obrien",name:"Kathy Vavrick-O'Brien"},{id:"lex-van-phedke",name:"Lex van Phedke"},{id:"jerri-manthey",name:"Jerri Manthey"},{id:"ethan-zohn",name:"Ethan Zohn"},{id:"colby-donaldson",name:"Colby Donaldson"},{id:"richard-hatch",name:"Richard Hatch"},{id:"rudy-boehlke",name:"Rudy Boehlke"},{id:"tina-wesson",name:"Tina Wesson"},{id:"rob-cesternino",name:"Rob Cesternino"}]},{id:"s9",name:"Survivor: Vanuatu",contestants:[{id:"mia-bradtke",name:"Mia Bradtke"},{id:"chris-daugherty",name:"Chris Daugherty"},{id:"twila-tanner",name:"Twila Tanner"},{id:"scout-cloud-lee",name:"Scout Cloud Lee"},{id:"ami-cusack",name:"Ami Cusack"},{id:"eliza-orlins",name:"Eliza Orlins"},{id:"julie-berry",name:"Julie Berry"},{id:"lea-master-siska",name:"Lea 'Sarge' Masters-Siska"},{id:"chad-crittenden",name:"Chad Crittenden"},{id:"leann-slaby",name:"Leann Slaby"},{id:"dolly-neely",name:"Dolly Neely"},{id:"john-palmer",name:"John Palmer"},{id:"john-kenney",name:"John Kenney"},{id:"brady-finta",name:"Brady Finta"},{id:"brook-geraghty",name:"Brook Geraghty"},{id:"john-billingsley",name:"John Billingsley"},{id:"travis-sampson",name:"Travis Sampson"}]},{id:"s10",name:"Survivor: Palau",contestants:[{id:"coby-archa",name:"Coby Archa"},{id:"tom-westman",name:"Tom Westman"},{id:"ian-rosenberger",name:"Ian Rosenberger"},{id:"katie-gallagher",name:"Katie Gallagher"},{id:"stephanie-lagrossa",name:"Stephanie Lagrossa"},{id:"gregg-carey",name:"Gregg Carey"},{id:"jennifer-lyon",name:"Jennifer Lyon"},{id:"caryn-groedel",name:"Caryn Groedel"},{id:"janu-tornell",name:"Janu Tornell"},{id:"bobby-jon-drinkard",name:"Bobby Jon Drinkard"},{id:"angie-jakusz",name:"Angie Jakusz"},{id:"james-miller",name:"James Miller"},{id:"ibrahim-hassan",name:"Ibrahim Hassan"},{id:"kim-mullen",name:"Kim Mullen"},{id:"willard-smith",name:"Willard Smith"},{id:"ashlee-ashby",name:"Ashlee Ashby"},{id:"jolanda-jones",name:"Jolanda Jones"},{id:"wanda-shirk",name:"Wanda Shirk"},{id:"jeff-wilson",name:"Jeff Wilson"},{id:"jonathan-libby",name:"Jonathan Libby"}]},{id:"s11",name:"Survivor: Guatemala",contestants:[{id:"margaret-bobonich",name:"Margaret Bobonich"},{id:"danni-boatwright",name:"Danni Boatwright"},{id:"stephanie-lagrossa",name:"Stephanie Lagrossa"},{id:"rafe-judkins",name:"Rafe Judkins"},{id:"lydia-morales",name:"Lydia Morales"},{id:"cindy-hall",name:"Cindy Hall"},{id:"judd-sergeant",name:"Judd Sergeant"},{id:"jamie-newton",name:"Jamie Newton"},{id:"bobby-jon-drinkard",name:"Bobby Jon Drinkard"},{id:"gary-hogeboom",name:"Gary Hogeboom"},{id:"amy-o'hara",name:"Amy O'Hara"},{id:"brandon-bellinger",name:"Brandon Bellinger"},{id:"brianna-varel",name:"Brianna Varel"},{id:"brooke-struck",name:"Brooke Struck"},{id:"blake-towsley",name:"Blake Towsley"},{id:"brian-corum",name:"Brian Corum"},{id:"jim-lynch",name:"Jim Lynch"},{id:"morgan-mcdaniel",name:"Morgan McDaniel"}]},{id:"s12",name:"Survivor: Panama",contestants:[{id:"dan-barry",name:"Dan Barry"},{id:"aras-baskauskas",name:"Aras Baskauskas"},{id:"danielle-dilorenzo",name:"Danielle DiLorenzo"},{id:"terry-deitz",name:"Terry Deitz"},{id:"cirie-fields",name:"Cirie Fields"},{id:"shane-powers",name:"Shane Powers"},{id:"courtney-marit",name:"Courtney Marit"},{id:"sally-schumann",name:"Sally Schumann"},{id:"austin-carty",name:"Austin Carty"},{id:"bruce-kanegai",name:"Bruce Kanegai"},{id:"bobby-mason",name:"Bobby Mason"},{id:"nick-stanbury",name:"Nick Stanbury"},{id:"tina-scheer",name:"Tina Scheer"},{id:"melinda-hyder",name:"Melinda Hyder"},{id:"misty-giles",name:"Misty Giles"},{id:"ruth-marie-milliman",name:"Ruth Marie Milliman"}]},{id:"s13",name:"Survivor: Cook Islands",contestants:[{id:"stephanie-favor",name:"Stephanie Favor"},{id:"yul-kwon",name:"Yul Kwon"},{id:"ozzy-lusth",name:"Ozzy Lusth"},{id:"becky-lee",name:"Becky Lee"},{id:"sundra-oakley",name:"Sundra Oakley"},{id:"adam-gentry",name:"Adam Gentry"},{id:"parvati-shallow",name:"Parvati Shallow"},{id:"candice-woodcock",name:"Candice Woodcock"},{id:"jonathan-penner",name:"Jonathan Penner"},{id:"nate-gonzalez",name:"Nate Gonzalez"},{id:"cecilia-mansilla",name:"Cecilia Mansilla"},{id:"rebecca-borman",name:"Rebecca Borman"},{id:"jenny-guzon-bae",name:"Jenny Guzon-Bae"},{id:"cristina-mire",name:"Cristina Mire"},{id:"brad-virata",name:"Brad Virata"},{id:"sekou-bunch",name:"Sekou Bunch"},{id:"billy-garcia",name:"Billy Garcia"},{id:"cao-boi-bui",name:"Cao Boi Bui"},{id:"jp-calderon",name:"JP Calderon"},{id:"jessica-smith",name:"Jessica Smith"}]},{id:"s14",name:"Survivor: Fiji",contestants:[{id:"anthony-robinson",name:"Anthony Robinson"},{id:"earl-cole",name:"Earl Cole"},{id:"yau-man-chan",name:"Yau-Man Chan"},{id:"dreamz-herd",name:"Dreamz Herd"},{id:"cassandra-franklin",name:"Cassandra Franklin"},{id:"boo-bernis",name:"Boo Bernis"},{id:"stacy-kimball",name:"Stacy Kimball"},{id:"alex-angarita",name:"Alex Angarita"},{id:"mookie-lee",name:"Mookie Lee"},{id:"edgardo-rivera",name:"Edgardo Rivera"},{id:"lisi-linares",name:"Lisi Linares"},{id:"james-reid",name:"James Reid"},{id:"michelle-yi",name:"Michelle Yi"},{id:"sylvia-kwan",name:"Sylvia Kwan"},{id:"liliana-gomes",name:"Liliana Gomes"},{id:"gary-stritesky",name:"Gary Stritesky"},{id:"jessica-deben",name:"Jessica Deben"},{id:"erica-durrse",name:"Erica Durrse"},{id:"rita-verreos",name:"Rita Verreos"}]},{id:"s15",name:"Survivor: China",contestants:[{id:"leslie-nease",name:"Leslie Nease"},{id:"todd-herzog",name:"Todd Herzog"},{id:"courtney-yates",name:"Courtney Yates"},{id:"amanda-kimmel",name:"Amanda Kimmel"},{id:"denise-martin",name:"Denise Martin"},{id:"peih-gee-law",name:"Peih-Gee Law"},{id:"erik-huffman",name:"Erik Huffman"},{id:"jamie-dugan",name:"Jamie Dugan"},{id:"frosti-zernow",name:"Frosti Zernow"},{id:"jean-robert-bellande",name:"Jean-Robert Bellande"},{id:"james-clement",name:"James Clement"},{id:"aaron-reisberger",name:"Aaron Reisberger"},{id:"dave-cruser",name:"Dave Cruser"},{id:"sherea-lloyd",name:"Sherea Lloyd"},{id:"chicken-morris",name:"Chicken Morris"},{id:"ashley-masser",name:"Ashley Masser"}]},{id:"s16",name:"Survivor: Micronesia",contestants:[{id:"mary-sartain",name:"Mary Sartain"},{id:"parvati-shallow",name:"Parvati Shallow"},{id:"amanda-kimmel",name:"Amanda Kimmel"},{id:"cirie-fields",name:"Cirie Fields"},{id:"natalie-bolton",name:"Natalie Bolton"},{id:"erik-reichenbach",name:"Erik Reichenbach"},{id:"alexis-jones",name:"Alexis Jones"},{id:"james-clement",name:"James Clement"},{id:"ozzy-lusth",name:"Ozzy Lusth"},{id:"jason-siska",name:"Jason Siska"},{id:"eliza-orlins",name:"Eliza Orlins"},{id:"jonathan-penner",name:"Jonathan Penner"},{id:"yau-man-chan",name:"Yau-Man Chan"},{id:"ami-cusack",name:"Ami Cusack"},{id:"tracy-hughes-wolf",name:"Tracy Hughes-Wolf"},{id:"kathy-sleckman",name:"Kathy Sleckman"},{id:"chet-welch",name:"Chet Welch"},{id:"joel-anderson",name:"Joel Anderson"},{id:"mikey-bortone",name:"Mikey Bortone"},{id:"jonny-fairplay",name:"Jonny Fairplay"}]},{id:"s17",name:"Survivor: Gabon",contestants:[{id:"paloma-soto-castillo",name:"Paloma Soto-Castillo"},{id:"bob-crowley",name:"Bob Crowley"},{id:"sugar-kiper",name:"Sugar Kiper"},{id:"matty-whitmore",name:"Matty Whitmore"},{id:"susie-smith",name:"Susie Smith"},{id:"kenny-hoang",name:"Kenny Hoang"},{id:"crystal-cox",name:"Crystal Cox"},{id:"marcus-lehman",name:"Marcus Lehman"},{id:"corinne-kaplan",name:"Corinne Kaplan"},{id:"charlie-hershkowitz",name:"Charlie Hershkowitz"},{id:"randy-bailey",name:"Randy Bailey"},{id:"dan-kay",name:"Dan Kay"},{id:"kelly-czarnecki",name:"Kelly Czarnecki"},{id:"ace-gordon",name:"Ace Gordon"},{id:"jacquie-berg",name:"Jacquie Berg"},{id:"g-c-brown",name:"G.C. Brown"},{id:"gillian-larson",name:"Gillian Larson"},{id:"michelle-chase",name:"Michelle Chase"}]},{id:"s18",name:"Survivor: Tocantins",contestants:[{id:"jerry-sims",name:"Jerry Sims"},{id:"james-thomas",name:"James Thomas"},{id:"stephen-fischbach",name:"Stephen Fischbach"},{id:"taj-johnson",name:"Taj Johnson"},{id:"erinn-lobdell",name:"Erinn Lobdell"},{id:"sierra-reed",name:"Sierra Reed"},{id:"coach-wade",name:"Coach Wade"},{id:"debbie-beebe",name:"Debbie Beebe"},{id:"tyson-apostol",name:"Tyson Apostol"},{id:"brendan-synott",name:"Brendan Synott"},{id:"sydney-wheeler",name:"Sydney Wheeler"},{id:"joe-dowdle",name:"Joe Dowdle"},{id:"sandy-burgin",name:"Sandy Burgin"},{id:"spencer-duhm",name:"Spencer Duhm"},{id:"carolina-eastwood",name:"Carolina Eastwood"},{id:"candace-smith",name:"Candace Smith"}]},{id:"s19",name:"Survivor: Samoa",contestants:[{id:"elizabeth-hasselbeck",name:"Elizabeth Hasselbeck"},{id:"natalie-white",name:"Natalie White"},{id:"mick-trimming",name:"Mick Trimming"},{id:"russell-hantz",name:"Russell Hantz"},{id:"brett-clouser",name:"Brett Clouser"},{id:"jaison-robinson",name:"Jaison Robinson"},{id:"monica-padilla",name:"Monica Padilla"},{id:"shambo-waters",name:"Shambo Waters"},{id:"dave-ball",name:"Dave Ball"},{id:"john-fincher",name:"John Fincher"},{id:"laura-morett",name:"Laura Morett"},{id:"kelly-sharbaugh",name:"Kelly Sharbaugh"},{id:"erik-cardona",name:"Erik Cardona"},{id:"ashley-trainer",name:"Ashley Trainer"},{id:"ben-browning",name:"Ben Browning"},{id:"marisa-calihan",name:"Marisa Calihan"},{id:"mike-borassi",name:"Mike Borassi"},{id:"yasmin-giles",name:"Yasmin Giles"}]},{id:"s20",name:"Survivor: Heroes vs. Villains",contestants:[{id:"tom-westman",name:"Tom Westman"},{id:"sandra-diaz-twine",name:"Sandra Diaz-Twine"},{id:"parvati-shallow",name:"Parvati Shallow"},{id:"russell-hantz",name:"Russell Hantz"},{id:"jerri-manthey",name:"Jerri Manthey"},{id:"colby-donaldson",name:"Colby Donaldson"},{id:"rupert-boneham",name:"Rupert Boneham"},{id:"cirie-fields",name:"Cirie Fields"},{id:"james-clement",name:"James Clement"},{id:"amanda-kimmel",name:"Amanda Kimmel"},{id:"candice-woodcock",name:"Candice Woodcock"},{id:"danielle-dilorenzo",name:"Danielle DiLorenzo"},{id:"coach-wade",name:"Coach Wade"},{id:"courtney-yates",name:"Courtney Yates"},{id:"jt",name:"JT"},{id:"stephanie-lagrossa",name:"Stephanie Lagrossa"},{id:"tyson-apostol",name:"Tyson Apostol"},{id:"randy-bailey",name:"Randy Bailey"},{id:"sugar-kiper",name:"Sugar Kiper"},{id:"rob-mariano",name:"Rob Mariano"}]},{id:"s21",name:"Survivor: Nicaragua",contestants:[{id:"brenda-lowe",name:"Brenda Lowe"},{id:"kelly-bruno",name:"Kelly Bruno"},{id:"jimmy-johnson",name:"Jimmy Johnson"},{id:"dan-lembo",name:"Dan Lembo"},{id:"jane-bright",name:"Jane Bright"},{id:"marty-piombo",name:"Marty Piombo"},{id:"jud-birza",name:"Jud 'Fabio' Birza"},{id:"holly-hoffman",name:"Holly Hoffman"},{id:"ben-henry",name:"Ben 'Benry' Henry"},{id:"chase-rice",name:"Chase Rice"},{id:"matthew-lenahan",name:"Matthew 'Sash' Lenahan"},{id:"alina-wilson",name:"Alina Wilson"},{id:"kelly-shinn",name:"Kelly Shinn"},{id:"naonka-mixon",name:"NaOnka Mixon"},{id:"yve-rojas",name:"Yve Rojas"},{id:"tyrone-davis",name:"Tyrone Davis"},{id:"jimmy-tarantino",name:"Jimmy Tarantino"},{id:"shannon-elkins",name:"Shannon Elkins"},{id:"wendy-jo-desmidt-kohlhoff",name:"Wendy Jo Desmidt-Kohlhoff"},{id:"jill-behm",name:"Jill Behm"}]},{id:"s22",name:"Survivor: Redemption Island",contestants:[{id:"andrea-boehlke",name:"Andrea Boehlke"},{id:"phillip-sheppard",name:"Phillip Sheppard"},{id:"steve-wright",name:"Steve Wright"},{id:"julie-wolfe",name:"Julie Wolfe"},{id:"ralph-kiser",name:"Ralph Kiser"},{id:"david-murphy",name:"David Murphy"},{id:"mike-chiesl",name:"Mike Chiesl"},{id:"matt-elrod",name:"Matt Elrod"},{id:"russell-hantz",name:"Russell Hantz"},{id:"stephanie-valencia",name:"Stephanie Valencia"},{id:"krista-klumpp",name:"Krista Klumpp"},{id:"sarita-white",name:"Sarita White"},{id:"francesca-hogi",name:"Francesca Hogi"},{id:"kristina-kell",name:"Kristina Kell"},{id:"grant-mattos",name:"Grant Mattos"},{id:"rob-mariano",name:"Rob Mariano"},{id:"ashley-underwood",name:"Ashley Underwood"},{id:"natalie-tenerelli",name:"Natalie Tenerelli"}]},{id:"s23",name:"Survivor: South Pacific",contestants:[{id:"brandon-hantz",name:"Brandon Hantz"},{id:"dawn-meehan",name:"Dawn Meehan"},{id:"albert-destrade",name:"Albert Destrade"},{id:"rick-nelson",name:"Rick Nelson"},{id:"sophie-clarke",name:"Sophie Clarke"},{id:"benjamin-wade",name:"Benjamin 'Coach' Wade"},{id:"ozzy-lusth",name:"Ozzy Lusth"},{id:"john-cochran",name:"John Cochran"},{id:"keith-tollefson",name:"Keith Tollefson"},{id:"jim-rice",name:"Jim Rice"},{id:"whitney-duncan",name:"Whitney Duncan"},{id:"edna-ma",name:"Edna Ma"},{id:"christine-shields-markoski",name:"Christine Shields-Markoski"},{id:"stacey-powell",name:"Stacey Powell"},{id:"mikayla-wingle",name:"Mikayla Wingle"},{id:"elyse-umemoto",name:"Elyse Umemoto"},{id:"papa-bear-caruso",name:"Mark 'Papa Bear' Caruso"},{id:"semhar-tadesse",name:"Semhar Tadesse"}]},{id:"s24",name:"Survivor: One World",contestants:[{id:"troyzan-robertson",name:"Troyzan Robertson"},{id:"christina-cha",name:"Christina Cha"},{id:"greg-smith",name:"Greg 'Tarzan' Smith"},{id:"kat-edorsson",name:"Kat Edorsson"},{id:"alicia-rosa",name:"Alicia Rosa"},{id:"kim-spradlin",name:"Kim Spradlin"},{id:"chelsea-meissner",name:"Chelsea Meissner"},{id:"sabrina-thompson",name:"Sabrina Thompson"},{id:"leif-manson",name:"Leif Manson"},{id:"michael-jefferson",name:"Michael Jefferson"},{id:"jonas-otsuji",name:"Jonas Otsuji"},{id:"monica-culpepper",name:"Monica Culpepper"},{id:"colton-cumbie",name:"Colton Cumbie"},{id:"bill-posley",name:"Bill Posley"},{id:"nina-acosta",name:"Nina Acosta"},{id:"matt-quinlan",name:"Matt Quinlan"},{id:"kourtney-moon",name:"Kourtney Moon"},{id:"jay-byars",name:"Jay Byars"}]},{id:"s25",name:"Survivor: Philippines",contestants:[{id:"malcolm-freberg",name:"Malcolm Freberg"},{id:"jonathan-penner",name:"Jonathan Penner"},{id:"russell-swan",name:"Russell Swan"},{id:"pete-yurkowski",name:"Pete Yurkowski"},{id:"rc-saint-amour",name:"RC Saint-Amour"},{id:"abi-maria-gomes",name:"Abi-Maria Gomes"},{id:"lisa-whelchel",name:"Lisa Whelchel"},{id:"michael-skupin",name:"Michael Skupin"},{id:"denise-stapley",name:"Denise Stapley"},{id:"carter-williams",name:"Carter Williams"},{id:"artis-silvester",name:"Artis Silvester"},{id:"jeff-kent",name:"Jeff Kent"},{id:"katie-hanson",name:"Katie Hanson"},{id:"dawson",name:"Sarah Dawson"},{id:"dana-lambert",name:"Dana Lambert"},{id:"angie-layton",name:"Angie Layton"},{id:"roxy-morris",name:"Roxanne 'Roxy' Morris"},{id:"zane-knight",name:"Zane Knight"}]},{id:"s26",name:"Survivor: Caramoan",contestants:[]},{id:"s27",name:"Survivor: Blood vs. Water",contestants:[{id:"brad-culpepper",name:"Brad Culpepper"},{id:"tyson-apostol",name:"Tyson Apostol"},{id:"laura-morett",name:"Laura Morett"},{id:"katie-collins",name:"Katie Collins"},{id:"rachel-foulger",name:"Rachel Foulger"},{id:"gervase-peterson",name:"Gervase Peterson"},{id:"kat-edorsson",name:"Kat Edorsson"},{id:"hayden-moss",name:"Hayden Moss"},{id:"caleb-bankston",name:"Caleb Bankston"},{id:"ciera-eastin",name:"Ciera Eastin"},{id:"colton-cumbie",name:"Colton Cumbie"},{id:"monica-culpepper",name:"Monica Culpepper"},{id:"marissa-peterson",name:"Marissa Peterson"},{id:"aras-baskauskas",name:"Aras Baskauskas"},{id:"vytas-baskauskas",name:"Vytas Baskauskas"},{id:"tina-wesson",name:"Tina Wesson"},{id:"laura-boneham",name:"Laura Boneham"},{id:"rupert-boneham",name:"Rupert Boneham"},{id:"john-cody",name:"John Cody"},{id:"candice-cody",name:"Candice Cody"}]},{id:"s28",name:"Survivor: Cagayan",contestants:[{id:"morgan-mcleod",name:"Morgan McLeod"},{id:"spencer-bledsoe",name:"Spencer Bledsoe"},{id:"david-samson",name:"David Samson"},{id:"garrett-adelstein",name:"Garrett Adelstein"},{id:"j'tia-taylor",name:"J'Tia Taylor"},{id:"jeremiah-wood",name:"Jeremiah Wood"},{id:"cliff-robinson",name:"Cliff Robinson"},{id:"lindsey-ogle",name:"Lindsey Ogle"},{id:"tony-vlachos",name:"Tony Vlachos"},{id:"sarah-lacina",name:"Sarah Lacina"},{id:"woo-hwang",name:"Woo Hwang"},{id:"kass-mcquillen",name:"Kass McQuillen"},{id:"jefra-bland",name:"Jefra Bland"},{id:"lj-mckanas",name:"LJ McKanas"},{id:"alexis-maxwell",name:"Alexis Maxwell"},{id:"brice-johnston",name:"Brice Johnston"},{id:"trish-hegarty",name:"Trish Hegarty"},{id:"tasha-fox",name:"Tasha Fox"}]},{id:"s29",name:"Survivor: San Juan del Sur",contestants:[{id:"julie-mcgee",name:"Julie McGee"},{id:"reed-kelly",name:"Reed Kelly"},{id:"nadiya-anderson",name:"Nadiya Anderson"},{id:"val-collins",name:"Val Collins"},{id:"jeremy-collins",name:"Jeremy Collins"},{id:"drew-christy",name:"Drew Christy"},{id:"alec-christy",name:"Alec Christy"},{id:"wes-nale",name:"Wes Nale"},{id:"keith-nale",name:"Keith Nale"},{id:"natalie-anderson",name:"Natalie Anderson"},{id:"missy-payne",name:"Missy Payne"},{id:"baylor-wilson",name:"Baylor Wilson"},{id:"jon-misch",name:"Jon Misch"},{id:"jaclyn-schultz",name:"Jaclyn Schultz"},{id:"josh-canfield",name:"Josh Canfield"},{id:"john-rocker",name:"John Rocker"},{id:"kelley-wentworth",name:"Kelley Wentworth"},{id:"dale-wentworth",name:"Dale Wentworth"}]},{id:"s30",name:"Survivor: Worlds Apart",contestants:[{id:"carolyn-rivera",name:"Carolyn Rivera"},{id:"nina-poersch",name:"Nina Poersch"},{id:"max-dawson",name:"Max Dawson"},{id:"will-sims",name:"Will Sims II"},{id:"dan-foley",name:"Dan Foley"},{id:"vince-sly",name:"Vince Sly"},{id:"joe-anglim",name:"Joe Anglim"},{id:"hali-ford",name:"Hali Ford"},{id:"kelly-remington",name:"Kelly Remington"},{id:"sierra-dawn-thomas",name:"Sierra Dawn Thomas"},{id:"rodney-lavoie",name:"Rodney Lavoie Jr."},{id:"mike-holloway",name:"Mike Holloway"},{id:"so-kim",name:"So Kim"},{id:"lindsey-cascaddan",name:"Lindsey Cascaddan"},{id:"joaquin-souberbielle",name:"Joaquin Souberbielle"},{id:"jennifer-brown",name:"Jennifer Brown"},{id:"shirin-oskooi",name:"Shirin Oskooi"},{id:"tyler-fredrickson",name:"Tyler Fredrickson"}]},{id:"s31",name:"Survivor: Cambodia",contestants:[]},{id:"s32",name:"Survivor: Ka\xf4h R\u014dng",contestants:[{id:"julia-sokolowski",name:"Julia Sokolowski"},{id:"jennifer-lanzetti",name:"Jennifer Lanzetti"},{id:"kyle-jason",name:"Kyle Jason"},{id:"liz-markham",name:"Liz Markham"},{id:"neal-gottlieb",name:"Neal Gottlieb"},{id:"aubry-bracco",name:"Aubry Bracco"},{id:"joe-del-campo",name:"Joe Del Campo"},{id:"peter-baggenstos",name:"Peter Baggenstos"},{id:"darnell-hamilton",name:"Darnell Hamilton"},{id:"scot-pollard",name:"Scot Pollard"},{id:"tai-trang",name:"Tai Trang"},{id:"michele-fitzgerald",name:"Michele Fitzgerald"},{id:"debbie-wanner",name:"Debbie Wanner"},{id:"caleb-reynolds",name:"Caleb Reynolds"},{id:"alecia-holden",name:"Alecia Holden"},{id:"nick-maiorano",name:"Nick Maiorano"},{id:"anna-khait",name:"Anna Khait"},{id:"cydney-gillon",name:"Cydney Gillon"}]},{id:"s33",name:"Survivor: Millennials vs. Gen X",contestants:[{id:"mari-takahashi",name:"Mari Takahashi"},{id:"david-wright",name:"David Wright"},{id:"hannah-shapiro",name:"Hannah Shapiro"},{id:"jessica-lewis",name:"Jessica Lewis"},{id:"ken-mcnickle",name:"Ken McNickle"},{id:"will-wahl",name:"Will Wahl"},{id:"sunday-burquest",name:"Sunday Burquest"},{id:"taylor-stocker",name:"Taylor Stocker"},{id:"adam-klein",name:"Adam Klein"},{id:"ciandre-taylor",name:"CeCe Taylor"},{id:"chris-hammons",name:"Chris Hammons"},{id:"figgy-figueroa",name:"Figgy Figueroa"},{id:"lucy-huang",name:"Lucy Huang"},{id:"michaela-bradshaw",name:"Michaela Bradshaw"},{id:"michelle-schubert",name:"Michelle Schubert"},{id:"paul-wachter",name:"Paul Wachter"},{id:"rachel-ako",name:"Rachel Ako"},{id:"zeke-smith",name:"Zeke Smith"},{id:"justin-starrett",name:"Justin 'Jay' Starrett"},{id:"bret-labelle",name:"Bret LaBelle"}]},{id:"s35",name:"Survivor: Heroes vs. Healers vs. Hustlers",contestants:[{id:"chrissy-hofbeck",name:"Chrissy Hofbeck"},{id:"devon-pinto",name:"Devon Pinto"},{id:"ryan-ulrich",name:"Ryan Ulrich"},{id:"ben-driebergen",name:"Ben Driebergen"},{id:"jessica-johnston",name:"Jessica Johnston"},{id:"desi-williams",name:"Desi Williams"},{id:"cole-medders",name:"Cole Medders"},{id:"jp-hilsabeck",name:"JP Hilsabeck"},{id:"joe-mena",name:"Joe Mena"},{id:"lauren-rimmer",name:"Lauren Rimmer"},{id:"ashley-nolan",name:"Ashley Nolan"},{id:"mike-zahalsky",name:"Mike Zahalsky"},{id:"katrina-radke",name:"Katrina Radke"},{id:"simone-nguyen",name:"Simone Nguyen"},{id:"patrick-bolton",name:"Patrick Bolton"},{id:"alan-ball",name:"Alan Ball"},{id:"ali-elliott",name:"Ali Elliott"},{id:"roark-luskin",name:"Roark Luskin"}]},{id:"s36",name:"Survivor: Ghost Island",contestants:[{id:"morgan-ricke",name:"Morgan Ricke"},{id:"jacob-derwin",name:"Jacob Derwin"},{id:"stephanie-gonzalez",name:"Stephanie Gonzalez"},{id:"brendan-shapiro",name:"Brendan Shapiro"},{id:"james-lim",name:"James Lim"},{id:"stephanie-johnson",name:"Stephanie Johnson"},{id:"bradley-kleihege",name:"Bradley Kleihege"},{id:"chris-noble",name:"Chris Noble"},{id:"libby-vincek",name:"Libby Vincek"},{id:"desiree-afuye",name:"Desiree Afuye"},{id:"chelsea-townsend",name:"Chelsea Townsend"},{id:"jenna-bowman",name:"Jenna Bowman"},{id:"michael-yerger",name:"Michael Yerger"},{id:"kellyn-bechtold",name:"Kellyn Bechtold"},{id:"sebastian-noel",name:"Sebastian Noel"},{id:"donathan-hurley",name:"Donathan Hurley"},{id:"angela-perkins",name:"Angela Perkins"},{id:"laurel-johnson",name:"Laurel Johnson"},{id:"dominic-abate",name:"Domenick Abbate"},{id:"wendell-holland",name:"Wendell Holland"}]},{id:"s37",name:"Survivor: David vs. Goliath",contestants:[{id:"natalie-cole",name:"Natalie Cole"},{id:"pat-cusack",name:"Pat Cusack"},{id:"bi-nguyen",name:"Bi Nguyen"},{id:"jeremy-crawford",name:"Jeremy Crawford"},{id:"jessica-peet",name:"Jessica Peet"},{id:"natalia-azoqa",name:"Natalia Azoqa"},{id:"lursa-torres",name:"Lyrsa Torres"},{id:"elizabeth-olson",name:"Elizabeth Olson"},{id:"john-hennigan",name:"John Hennigan"},{id:"dan-rengering",name:"Dan Rengering"},{id:"alec-merlino",name:"Alec Merlino"},{id:"carl-boudreaux",name:"Carl Boudreaux"},{id:"gabby-pascuzzi",name:"Gabby Pascuzzi"},{id:"christian-hubicki",name:"Christian Hubicki"},{id:"davie-rickenbacker",name:"Davie Rickenbacker"},{id:"alison-raybould",name:"Alison Raybould"},{id:"kara-kay",name:"Kara Kay"},{id:"angelina-keeley",name:"Angelina Keeley"},{id:"mike-white",name:"Mike White"},{id:"nick-wilson",name:"Nick Wilson"}]},{id:"s38",name:"Survivor: Edge of Extinction",contestants:[{id:"victoria-baamonde",name:"Victoria Baamonde"},{id:"lauren-o'connell",name:"Lauren O'Connell"},{id:"aurora-mccreary",name:"Aurora McCreary"},{id:"keith-sowell",name:"Keith Sowell"},{id:"reem-daley",name:"Reem Daly"},{id:"aubry-bracco",name:"Aubry Bracco"},{id:"joe-anglim",name:"Joe Anglim"},{id:"eric-hafemann",name:"Eric Hafemann"},{id:"julie-rosenberg",name:"Julie Rosenberg"},{id:"rick-devens",name:"Rick Devens"},{id:"wardog-da-silva",name:"Wardog DaSilva"},{id:"ron-clark",name:"Ron Clark"},{id:"kelley-wentworth",name:"Kelley Wentworth"},{id:"victoria-baamonde",name:"Victoria Baamonde"},{id:"lauren-o'connell",name:"Lauren O'Connell"},{id:"wendy-diaz",name:"Wendy Diaz"},{id:"gavin-whitson",name:"Gavin Whitson"},{id:"chris-underwood",name:"Chris Underwood"}]},{id:"s39",name:"Survivor: Island of the Idols",contestants:[{id:"tom-labrecque",name:"Tom Laidlaw"},{id:"vince-moua",name:"Vince Moua"},{id:"ronnie-bardah",name:"Ronnie Bardah"},{id:"molly-byman",name:"Molly Byman"},{id:"jason-lynden",name:"Jason Lynden"},{id:"chelsea-walker",name:"Chelsea Walker"},{id:"jack-nichting",name:"Jack Nichting"},{id:"jamal-shipman",name:"Jamal Shipman"},{id:"kellee-kim",name:"Kellee Kim"},{id:"elizabeth-beisel",name:"Elizabeth Beisel"},{id:"missy-byrd",name:"Missy Byrd"},{id:"aaron-meredith",name:"Aaron Meredith"},{id:"karishma-patel",name:"Karishma Patel"},{id:"elaine-stott",name:"Elaine Stott"},{id:"dan-spilo",name:"Dan Spilo"},{id:"janet-carbin",name:"Janet Carbin"},{id:"lauren-beck",name:"Lauren Beck"},{id:"noura-salman",name:"Noura Salman"},{id:"dean-kowalski",name:"Dean Kowalski"},{id:"tommy-sheehan",name:"Tommy Sheehan"}]},{id:"s40",name:"Survivor: Winners at War",contestants:[]},{id:"s41",name:"Survivor 41",contestants:[{id:"eric-abraham",name:"Eric Abraham"},{id:"sara-wilson",name:"Sara Wilson"},{id:"voce",name:"David Voce"},{id:"brad-reese",name:"Brad Reese"},{id:"jd-robinson",name:"JD Robinson"},{id:"genie-chen",name:"Genie Chen"},{id:"sydney-segal",name:"Sydney Segal"},{id:"tiffany-seely",name:"Tiffany Seely"},{id:"naseer-muttalif",name:"Naseer Muttalif"},{id:"evvie-jagoda",name:"Evvie Jagoda"},{id:"danny-mccray",name:"Danny McCray"},{id:"shan-smith",name:"Shan Smith"},{id:"liana-wallace",name:"Liana Wallace"},{id:"heather-aldret",name:"Heather Aldret"},{id:"xander-hastings",name:"Xander Hastings"},{id:"deshawn-radden",name:"DeShawn Radden"},{id:"erika-casupanan",name:"Erika Casupanan"},{id:"ricard-foye",name:"Ricard Foy\xe9"}]},{id:"s42",name:"Survivor 42",contestants:[{id:"jackson-fox",name:"Jackson Fox"},{id:"marya-sherron",name:"Marya Sherron"},{id:"zach-wurtenberger",name:"Zach Wurtenberger"},{id:"jenny-kim",name:"Jenny Kim"},{id:"swati-goel",name:"Swati Goel"},{id:"daniel-strunk",name:"Daniel Strunk"},{id:"lydia-meredith",name:"Lydia Meredith"},{id:"rocksroy-bailey",name:"Rocksroy Bailey"},{id:"chanelle-howell",name:"Chanelle Howell"},{id:"tori-meehan",name:"Tori Meehan"},{id:"hai-giang",name:"Hai Giang"},{id:"drea-wheeler",name:"Drea Wheeler"},{id:"jonathan-young",name:"Jonathan Young"},{id:"lindsay-dolashewich",name:"Lindsay Dolashewich"},{id:"omar-zaheer",name:"Omar Zaheer"},{id:"romeo-escobar",name:"Romeo Escobar"},{id:"maryanne-oketch",name:"Maryanne Oketch"},{id:"mike-turner",name:"Mike Turner"}]},{id:"s43",name:"Survivor 43",contestants:[{id:"justine-brennan",name:"Justine Brennan"},{id:"morriah-young",name:"Morriah Young"},{id:"lindsay-carmine",name:"Lindsay Carmine"},{id:"nneka-ejere",name:"Nneka Ejere"},{id:"geo-bustamante",name:"Geo Bustamante"},{id:"dwight-moore",name:"Dwight Moore"},{id:"elisabeth-scott",name:"Elisabeth 'Elie' Scott"},{id:"jeanine-zheng",name:"Jeanine Zheng"},{id:"ryan-medrano",name:"Ryan Medrano"},{id:"james-jones",name:"James Jones"},{id:"noelle-lambert",name:"Noelle Lambert"},{id:"sami-layadi",name:"Sami Layadi"},{id:"cody-assenmacher",name:"Cody Assenmacher"},{id:"karla-cruz-godoy",name:"Karla Cruz Godoy"},{id:"owen-knight",name:"Owen Knight"},{id:"jesse-lopez",name:"Jesse Lopez"},{id:"gabler",name:"Mike Gabler"},{id:"cassidy-clark",name:"Cassidy Clark"}]},{id:"s44",name:"Survivor 44",contestants:[{id:"helen-li",name:"Helen Li"},{id:"maddy-pomilla",name:"Maddy Pomilla"},{id:"claire-rafson",name:"Claire Rafson"},{id:"josh-wilder",name:"Josh Wilder"},{id:"sarah-wade",name:"Sarah Wade"},{id:"matthew-grinstead-mayle",name:"Matthew Grinstead-Mayle"},{id:"brandon-cottom",name:"Brandon Cottom"},{id:"lauren-harpe",name:"Lauren Harpe"},{id:"kane-fritzler",name:"Kane Fritzler"},{id:"danny-massa",name:"Danny Massa"},{id:"frannie-marin",name:"Frannie Marin"},{id:"carson-garrett",name:"Carson Garrett"},{id:"yam-yam-arocho",name:"Yam Yam Arocho"},{id:"carolyn-wiger",name:"Carolyn Wiger"},{id:"jamie-lynn-ruiz",name:"Jamie Lynn Ruiz"},{id:"heidi-lagares-greenblatt",name:"Heidi Lagares-Greenblatt"},{id:"lauren-schmetterling",name:"Lauren Schmetterling"},{id:"matt-blankinship",name:"Matt Blankinship"}]},{id:"s45",name:"Survivor 45",contestants:[{id:"hannah-rose",name:"Hannah Rose"},{id:"brandon-donlon",name:"Brandon Donlon"},{id:"brando-meyer",name:"Brando Meyer"},{id:"sabiyah-broderick",name:"Sabiyah Broderick"},{id:"bruce-perreault",name:"Bruce Perreault"},{id:"emily-flippen",name:"Emily Flippen"},{id:"sean-edwards",name:"Sean Edwards"},{id:"kaleb-gebrewold",name:"Kaleb Gebrewold"},{id:"kendra-mcquarrie",name:"Kendra McQuarrie"},{id:"kellie-nalbandian",name:"Kellie Nalbandian"},{id:"drew-basile",name:"Drew Basile"},{id:"austin-li",name:"Austin Li"},{id:"julie-alley",name:"Julie Alley"},{id:"katurah-topps",name:"Katurah Topps"},{id:"jake-omalley",name:"Jake O'Malley"},{id:"dee-valladares",name:"Dee Valladares"},{id:"nicholas-alsup",name:"Nicholas 'Sifu' Alsup"},{id:"janani-krishnan-jha",name:"Janani Krishnan-Jha"}]},{id:"s46",name:"Survivor 46",contestants:[{id:"charlie-davis",name:"Charlie Davis"},{id:"moriah-gaynor",name:"Moriah Gaynor"},{id:"tiffany-ervin",name:"Tiffany Ervin"},{id:"david-jelinsky",name:"David Jelinsky"},{id:"venus-vafa",name:"Venus Vafa"},{id:"tim-spicer",name:"Tim Spicer"},{id:"jess-chong",name:"Jess Chong"},{id:"hunter-mcknight",name:"Hunter McKnight"},{id:"randen-montalvo",name:"Randen Montalvo"},{id:"kenzie-petty",name:"Kenzie Petty"},{id:"bhanu-gopal",name:"Bhanu Gopal"},{id:"ben-katzman",name:"Ben Katzman"},{id:"liz-wilcox",name:"Liz Wilcox"},{id:"soda-thompson",name:"Soda Thompson"},{id:"maria-shrime-gonzalez",name:"Maria 'Shrime' Gonzalez"},{id:"tevin-davis",name:"Tevin Davis"},{id:"qing-villasana",name:"Q Villasana"},{id:"jemila-hussain-adams",name:"Jemila Hussain-Adams"}]},{id:"s47",name:"Survivor 47",contestants:[{id:"andy-rueda",name:"Andy Rueda"},{id:"anika-dhar",name:"Anika Dhar"},{id:"aysha-welch",name:"Aysha Welch"},{id:"caroline-vidmar",name:"Caroline Vidmar"},{id:"gabe-ortis",name:"Gabe Ortis"},{id:"genevieve-mushaluk",name:"Genevieve Mushaluk"},{id:"jerome-cooney",name:"Jerome Cooney"},{id:"jon-lovett",name:"Jon Lovett"},{id:"kishan-patel",name:"Kishan Patel"},{id:"kyle-ostwald",name:"Kyle Ostwald"},{id:"rachel-lamont",name:"Rachel LaMont"},{id:"sam-phalen",name:"Sam Phalen"},{id:"sierra-wright",name:"Sierra Wright"},{id:"solomon-yi",name:"Solomon Yi"},{id:"sue-smey",name:"Sue Smey"},{id:"teeny-chirichillo",name:"Teeny Chirichillo"},{id:"terran-foster",name:"Terran Foster"},{id:"tiyana-hallums",name:"Tiyana Hallums"}]}];var zv=n(579);const Bv=e=>{var t,n;let{maddysList:i,andrewsList:a,kendallsList:s,setMaddysList:o,setAndrewsList:l,setKendallsList:c,user:u,createMode:d}=e;const[h,f]=(0,r.useState)(null),[m,p]=(0,r.useState)({}),[g,v]=(0,r.useState)({}),[y,w]=(0,r.useState)(!1),[b,k]=(0,r.useState)(""),[S,_]=(0,r.useState)(!1),E=(0,r.useRef)(null),C=(0,r.useRef)(null),T=!!u,I=()=>{var e;_(!S);const t=null===(e=C.current)||void 0===e?void 0:e.closest(".seasons-section");t&&(S?t.classList.remove("collapsed"):t.classList.add("collapsed"))};(0,r.useEffect)((()=>{(async()=>{const e={...g};for(const n of Vv)if(!e[n.id])try{const t=await Pv(n.id);e[n.id]=t}catch(t){console.error(`Error loading logo for season ${n.id}:`,t),e[n.id]="/placeholder.jpg"}v(e)})()}),[]),(0,r.useEffect)((()=>()=>{document.body.classList.remove("tribal-mode")}),[]),(0,r.useEffect)((()=>{(async()=>{if(!h)return;const e={...m},t=Vv.find((e=>e.id===h));if(t){for(const r of t.contestants)if(!e[r.id])try{const n=t.id.startsWith("s")?t.id.substring(1):t.id,i=await Lv(r,n);e[r.id]=i}catch(n){console.error(`Error loading image for ${r.name}:`,n),e[r.id]="/placeholder.jpg"}p(e)}})()}),[h]),(0,r.useEffect)((()=>{(async()=>{if(!b.trim())return;const e=R();if(0===e.length)return;const t={...m};for(const r of e)if(!t[r.id])try{const e=r.seasonId.startsWith("s")?r.seasonId.substring(1):r.seasonId,n=await Lv(r,e);t[r.id]=n}catch(n){console.error(`Error loading image for ${r.name}:`,n),t[r.id]="/placeholder.jpg"}p(t)})()}),[b,m]);const N=(e,t)=>{try{const n=t.seasonId?{...t,seasonId:void 0,seasonName:void 0}:t,r=JSON.stringify(n);if(console.log("Starting drag with data:",r),e.dataTransfer.setData("application/json",r),e.dataTransfer.setData("text/plain",r),e.dataTransfer.setData("source","season-list"),e.target.querySelector("img")){const t=e.target.querySelector("img");e.dataTransfer.setDragImage(t,25,25)}e.target.classList.add("dragging"),console.log("Drag started with contestant:",n.name,n.id)}catch(n){console.error("Error in handleDragStart:",n)}},x=e=>{e.target.classList.remove("dragging")},R=()=>{if(!b.trim())return[];const e=b.toLowerCase().trim(),t=[],n=new Set,r=[...Vv].sort(((e,t)=>(void 0!==e.seasonNumber?e.seasonNumber:999)-(void 0!==t.seasonNumber?t.seasonNumber:999)));return r.forEach((r=>{r.contestants&&r.contestants.forEach((i=>{const a=i.name.toLowerCase().trim();a.includes(e)&&!n.has(a)&&(t.push({...i,seasonId:r.id,seasonName:r.name}),n.add(a))}))})),t};return(0,zv.jsxs)("div",{ref:C,children:[y&&(0,zv.jsx)("div",{className:"idol-notification",children:"You found a Hidden Immunity Idol! \ud83c\udfc6"}),h?(0,zv.jsxs)("div",{className:"contestants-container",children:[(0,zv.jsxs)("h2",{className:"section-title",children:[(0,zv.jsx)("div",{className:"collapse-toggle "+(S?"collapsed":""),onClick:I,title:S?"Expand seasons menu":"Collapse seasons menu"}),(0,zv.jsx)("span",{children:null===(t=Vv.find((e=>e.id===h)))||void 0===t?void 0:t.name}),(0,zv.jsxs)("span",{className:"section-subtitle",children:["Season ",h.replace("s","")]})]}),(0,zv.jsx)("button",{className:"back-button",onClick:()=>{f(null)},children:"Back to Seasons"}),d&&(0,zv.jsx)("div",{className:"create-instructions",children:"Click and drag contestants to add them to your ranking list"}),!T&&(0,zv.jsx)("div",{className:"login-notice",children:"Sign in to drag contestants to your ranking lists"}),(0,zv.jsx)("div",{className:"contestants-grid",children:null===(n=Vv.find((e=>e.id===h)))||void 0===n?void 0:n.contestants.map((e=>(0,zv.jsxs)("div",{className:"contestant-item",draggable:T&&d,onDragStart:T&&d?t=>N(t,e):void 0,onDragEnd:T&&d?x:void 0,children:[(0,zv.jsx)("img",{src:m[e.id]||"/placeholder.jpg",alt:e.name,className:"contestant-image",draggable:"false"}),(0,zv.jsx)("div",{className:"contestant-name",children:e.name})]},e.id)))})]}):(0,zv.jsxs)(zv.Fragment,{children:[(0,zv.jsxs)("h2",{className:"section-title",children:[(0,zv.jsx)("div",{className:"collapse-toggle "+(S?"collapsed":""),onClick:I,title:S?"Expand seasons menu":"Collapse seasons menu"}),(0,zv.jsx)("span",{children:"Survivor Seasons"})]}),(0,zv.jsxs)("div",{className:"search-bar-container",children:[(0,zv.jsx)("input",{ref:E,type:"text",className:"contestant-search-bar",placeholder:"Search seasons or contestants...",value:b,onChange:e=>{k(e.target.value)}}),b&&(0,zv.jsx)("button",{className:"clear-search-button",onClick:()=>{k(""),E.current&&E.current.focus()},children:"\xd7"})]}),b.trim()?(0,zv.jsxs)("div",{className:"search-results-container",children:[(0,zv.jsx)("h3",{className:"search-results-title",children:"Search Results"}),(0,zv.jsx)("div",{className:"search-results",children:R().map((e=>(0,zv.jsxs)("div",{className:"contestant-item",onClick:()=>{return t=e.seasonId,void f(t);var t},draggable:T&&d,onDragStart:T&&d?t=>N(t,e):void 0,onDragEnd:T&&d?x:void 0,children:[(0,zv.jsx)("img",{src:m[e.id]||"/placeholder.jpg",alt:e.name,className:"contestant-image",draggable:"false"}),(0,zv.jsx)("div",{className:"contestant-name",children:e.name}),(0,zv.jsx)("div",{className:"contestant-season-name",children:e.seasonName.replace("Survivor: ","").replace("Survivor ","")})]},`${e.id}-${e.seasonId}`)))})]}):(0,zv.jsx)("div",{className:"seasons-grid",children:(()=>{if(!b.trim())return Vv;const e=b.toLowerCase().trim();return Vv.filter((t=>t.name.toLowerCase().includes(e)||void 0!==t.seasonNumber&&t.seasonNumber.toString().includes(e)))})().map((e=>(0,zv.jsxs)("div",{className:"season-card",onClick:()=>{return t=e.id,f(t),void(Math.random()<.05&&(w(!0),setTimeout((()=>w(!1)),3e3)));var t},draggable:T&&d,onDragStart:T&&d?t=>((e,t)=>{try{const n={...t,imageUrl:g[t.id]||"https://via.placeholder.com/150?text=Loading...",isSeason:!0},r=JSON.stringify(n);if(console.log("Starting drag with season data:",r),e.dataTransfer.setData("application/json",r),e.dataTransfer.setData("text/plain",r),e.dataTransfer.setData("source","season-grid"),e.target.querySelector("img")){const t=e.target.querySelector("img");e.dataTransfer.setDragImage(t,25,25)}e.target.classList.add("dragging"),console.log("Drag started with season:",t.name,t.id)}catch(n){console.error("Error in handleSeasonDragStart:",n)}})(t,e):void 0,onDragEnd:T&&d?x:void 0,children:[g[e.id]?(0,zv.jsx)("img",{src:g[e.id],alt:`Season ${e.id.replace("s","")} Logo`,className:"season-logo",draggable:"false"}):(0,zv.jsx)("div",{className:"season-logo-placeholder",children:(0,zv.jsxs)("h3",{children:["S",e.id.replace("s","")]})}),(0,zv.jsx)("p",{children:e.name.replace("Survivor: ","").replace("Survivor ","")})]},e.id)))})]})]})},$v=()=>(0,zv.jsx)("div",{className:"login-container",children:(0,zv.jsxs)("div",{className:"login-box",children:[(0,zv.jsx)("h2",{children:"Sign In Required"}),(0,zv.jsx)("p",{children:"To view and interact with Survivor contestant rankings, please sign in with your Google account."}),(0,zv.jsx)("p",{children:"Once logged in, you'll be able to see all ranking lists and drag contestants to create your own!"}),(0,zv.jsxs)("button",{className:"google-sign-in-button",onClick:async()=>{try{await Mv()}catch(e){console.error("Login failed:",e)}},children:[(0,zv.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"Google logo"}),"Sign in with Google"]})]})}),Hv=n.p+"static/media/survivor-background.59581a1053fda5fdcbca.jpg",Wv=(0,r.createContext)(null),Kv=e=>{let{children:t,user:n}=e;return(0,zv.jsx)(Wv.Provider,{value:{user:n},children:t})},qv=e=>{let{onViewUserLists:t}=e;const[n,i]=(0,r.useState)({}),[a,s]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null),[f,m]=(0,r.useState)(null),{user:p}=(0,r.useContext)(Wv),[g,v]=(ee(),(0,r.useState)([])),[y,w]=(0,r.useState)(""),[b,k]=(0,r.useState)(!1),[S,_]=(0,r.useState)(null),[E,C]=(0,r.useState)(""),[T,I]=(0,r.useState)(null),[N,x]=(0,r.useState)(""),[R,A]=(0,r.useState)([]),[D,L]=(0,r.useState)([]),[P,O]=(0,r.useState)(!1);(0,r.useEffect)((()=>{j()}),[]),(0,r.useEffect)((()=>{(a.length>0||o.length>0||f)&&(async()=>{const e={...n},t=[...a.flatMap((e=>e.contestants.slice(0,3))),...o.flatMap((e=>e.contestants.slice(0,3)))];f&&t.push(...f.contestants||[]);const r={};Vv&&Vv.forEach((e=>{e.contestants&&e.contestants.forEach((t=>{r[t.id]=e.id}))}));for(const n of t)if(n&&!e[n.id])if(n.isSeason)try{const t=await Pv(n.id);e[n.id]=t}catch(d){console.error(`Error loading season logo for ${n.id}:`,d),e[n.id]="/images/placeholder.jpg"}else try{let t=n.seasonId||r[n.id];if(!t&&Vv)for(const e of Vv)if(e.contestants&&e.contestants.some((e=>e.id===n.id))){t=e.id;break}if(t)try{const r=t.startsWith("s")?t.substring(1):t,i=await Lv(n,r);e[n.id]=i}catch(s){console.error(`Error loading image for ${n.name}:`,s),e[n.id]="/images/placeholder.jpg"}else console.warn(`Unable to find season for contestant: ${n.name}`),e[n.id]="/images/placeholder.jpg"}catch(d){console.error(`Error processing contestant ${n.name}:`,d),e[n.id]="/images/placeholder.jpg"}i(e)})()}),[a,o,f]),(0,r.useEffect)((()=>{p?M():(A([]),L([]))}),[p]),(0,r.useEffect)((()=>{R.length>0?U():L([])}),[R]);const j=async()=>{u(!0),h(null);try{const e=Kh(Av,"userLists"),t=await Xf(e);let n=[];t.forEach((e=>{const t=e.data();t.lists&&Array.isArray(t.lists)&&t.lists.forEach((t=>{n.push({...t,userId:e.id,upvoteCount:t.upvotes?t.upvotes.length:0})}))}));const r=new Date;r.setDate(r.getDate()-7);const i=n.filter((e=>new Date(e.createdAt)>=r)),a=i.sort(((e,t)=>t.upvoteCount-e.upvoteCount)).slice(0,3),o=[...n].sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))).slice(0,3);s(a),l(o)}catch(e){console.error("Error fetching lists:",e),h("Failed to load lists. Please try again later.")}finally{u(!1)}},M=async()=>{if(p)try{const e=qh(Av,"users",p.uid),t=await Qf(e);t.exists()&&t.data().favorites?A(t.data().favorites):(await Zf(e,{favorites:[]},{merge:!0}),A([]))}catch(d){console.error("Error fetching favorites:",d)}},U=async()=>{if(0!==R.length){O(!0);try{const e=[],t=[...new Set(R.map((e=>e.userId)))];for(const n of t){const t=qh(Av,"userLists",n),r=await Qf(t);if(r.exists()){const t=r.data();if(t.lists&&Array.isArray(t.lists)){const r=R.filter((e=>e.userId===n));for(const i of r){const r=t.lists.find((e=>e.id===i.listId));r&&e.push({...r,userId:n,userName:r.userName||t.displayName||"Unknown User",upvoteCount:r.upvotes?r.upvotes.length:0})}}}}L(e)}catch(d){console.error("Error fetching favorite lists:",d)}finally{O(!1)}}},F=async(e,t,n)=>{if(n&&n.stopPropagation(),p)try{const n=qh(Av,"userLists",e),r=await Qf(n);if(!r.exists())return void console.error("User document not found");const i=r.data().lists||[],c=i.findIndex((e=>e.id===t));if(-1===c)return void console.error("List not found");const u=i[c].upvotes||[],d=u.indexOf(p.uid),h=[...i];h[c].upvotes=d>=0?u.filter((e=>e!==p.uid)):[...u,p.uid],await em(n,{lists:h});const f=n=>n.map((n=>{if(n.userId===e&&n.id===t){const e=d>=0?u.filter((e=>e!==p.uid)):[...u,p.uid];return{...n,upvotes:e,upvoteCount:e.length}}return n}));s(f(a)),l(f(o))}catch(d){console.error("Error upvoting list:",d),alert("Failed to upvote list. Please try again.")}else alert("You must be logged in to upvote lists.")},V=e=>p&&e.upvotes&&e.upvotes.includes(p.uid),z=()=>{m(null),I(null),x(""),window.scrollTo(0,0)},B=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),$=async(e,t)=>{if(e&&t){k(!0);try{const r=Kh(Av,"comments");try{const n=Pf(r,jf("listUserId","==",e),jf("listId","==",t),Ff("createdAt","desc")),i=await Xf(n),a=[];i.forEach((e=>{a.push({id:e.id,...e.data(),upvotes:e.data().upvotes||[],downvotes:e.data().downvotes||[]})})),v(a)}catch(n){console.error("Index error, trying without sorting:",n);const i=Pf(r,jf("listUserId","==",e),jf("listId","==",t)),a=await Xf(i);let s=[];a.forEach((e=>{s.push({id:e.id,...e.data(),upvotes:e.data().upvotes||[],downvotes:e.data().downvotes||[]})})),s=s.sort(((e,t)=>{const n=e.createdAt instanceof ea?e.createdAt.toDate():new Date(e.createdAt||0);return(t.createdAt instanceof ea?t.createdAt.toDate():new Date(t.createdAt||0))-n})),v(s),console.warn("This is a first-time setup issue. The admin should create an index for comments collection with fields: listUserId, listId, and createdAt. Follow the Firestore error link if you're an admin.")}}catch(d){console.error("Error fetching comments:",d),v([])}finally{k(!1)}}},H=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!p)return void alert("You must be logged in to add comments.");const t=e?E.trim():y.trim();if(t)try{const n={listUserId:f.userId,listId:f.id,userId:p.uid,userName:p.displayName||"Anonymous",text:t,createdAt:am(),upvotes:[],downvotes:[],parentId:e||null,isReply:!!e},r=await nm(Kh(Av,"comments"),n);v([{id:r.id,...n,createdAt:new Date},...g]),e?(C(""),_(null)):w("")}catch(d){console.error("Error adding comment:",d),alert("Failed to add comment. Please try again.")}else alert("Comment cannot be empty.")},W=async(e,t)=>{if(p)try{const n=qh(Av,"comments",e),r=await Qf(n);if(!r.exists())return void console.error("Comment not found");const i=r.data(),a=i.upvotes||[],s=i.downvotes||[],o=a.includes(p.uid),l=s.includes(p.uid);let c=[...a],u=[...s];"upvote"===t?o?c=c.filter((e=>e!==p.uid)):(c.push(p.uid),u=u.filter((e=>e!==p.uid))):"downvote"===t&&(l?u=u.filter((e=>e!==p.uid)):(u.push(p.uid),c=c.filter((e=>e!==p.uid)))),await em(n,{upvotes:c,downvotes:u}),v(g.map((t=>t.id===e?{...t,upvotes:c,downvotes:u}:t)))}catch(d){console.error("Error voting on comment:",d),alert("Failed to process your vote. Please try again.")}else alert("You must be logged in to vote on comments.")},K=async e=>{if(p){if(window.confirm("Are you sure you want to delete this comment?"))try{const t=qh(Av,"comments",e),n=await Qf(t);if(!n.exists())return void console.error("Comment not found");if(n.data().userId!==p.uid)return void alert("You can only delete your own comments.");await tm(t),v(g.filter((t=>t.id!==e)))}catch(d){console.error("Error deleting comment:",d),alert("Failed to delete comment. Please try again.")}}else alert("You must be logged in to delete comments.")},q=()=>{_(null),C("")},G=e=>p&&e.userId===p.uid,J=e=>{if(!e)return"";const t=e instanceof ea?e.toDate():new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Q=e=>{var t,n;return((null===(t=e.upvotes)||void 0===t?void 0:t.length)||0)-((null===(n=e.downvotes)||void 0===n?void 0:n.length)||0)},Y=e=>p&&e.upvotes&&e.upvotes.includes(p.uid),X=e=>p&&e.downvotes&&e.downvotes.includes(p.uid),Z=(e,n,r)=>{r&&(r.preventDefault(),r.stopPropagation()),t(e,n)},te=(e,t)=>R.some((n=>n.userId===e&&n.listId===t)),ne=async(e,t,n,r)=>{if(r&&r.stopPropagation(),p)try{const r=qh(Av,"users",p.uid);if(te(e,t)){const n=R.filter((n=>!(n.userId===e&&n.listId===t)));await em(r,{favorites:n}),A(n)}else{const i={userId:e,listId:t,name:n,favoritedAt:(new Date).toISOString()},a=[...R,i];await em(r,{favorites:a}),A(a)}}catch(d){console.error("Error updating favorites:",d),alert("Failed to update favorites. Please try again.")}else alert("You must be logged in to favorite lists.")},re=e=>{if(!e||!e.contestants)return null;const t=e.contestants.slice(0,3);return(0,zv.jsxs)("div",{className:"ranking-list-container",onClick:()=>(e=>{m(e),window.scrollTo(0,0),$(e.userId,e.id)})(e),children:[(0,zv.jsx)("div",{className:"top-left-favorite",onClick:e=>e.stopPropagation(),children:(0,zv.jsx)("button",{className:"favorite-button "+(te(e.userId,e.id)?"favorited":""),onClick:t=>ne(e.userId,e.id,e.name,t),disabled:!p,title:p?te(e.userId,e.id)?"Remove from favorites":"Add to favorites":"Sign in to favorite",children:(0,zv.jsx)("span",{className:"favorite-icon",children:"\u2605"})})}),(0,zv.jsx)("div",{className:"top-right-upvote",onClick:e=>e.stopPropagation(),children:(0,zv.jsxs)("button",{className:"upvote-button "+(V(e)?"upvoted":""),onClick:t=>F(e.userId,e.id,t),disabled:!p,title:p?"Upvote this list":"Sign in to upvote",children:[(0,zv.jsx)("span",{className:"upvote-icon",children:"\u25b2"}),(0,zv.jsx)("span",{className:"upvote-count",children:e.upvoteCount||0})]})}),(0,zv.jsx)("h2",{className:"list-title",children:e.name}),(0,zv.jsxs)("p",{className:"list-creator",onClick:t=>Z(e.userId,e.userName,t),title:"View all rankings by this user",style:{cursor:"pointer"},children:["By ",e.userName||"Unknown User"]}),(0,zv.jsx)("div",{className:"ranking-list clickable",children:0===t.length?(0,zv.jsx)("div",{className:"empty-list-message",children:"This list is empty"}):t.map(((e,t)=>(0,zv.jsxs)("div",{className:"ranking-item",children:[(0,zv.jsx)("div",{className:"ranking-number",children:t+1}),(0,zv.jsx)("img",{src:n[e.id]||e.imageUrl||"/images/placeholder.jpg",alt:e.name,className:"contestant-image "+(e.isSeason?"season-logo":""),draggable:"false"}),(0,zv.jsx)("div",{className:e.isSeason?"season-name":"contestant-name",children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name})]},`${e.id}-${t}`)))})]})};return(0,zv.jsx)("div",{className:"ranking-lists",children:f?f?(0,zv.jsxs)("div",{className:"full-list-view",children:[(0,zv.jsxs)("div",{className:"full-list-header",children:[(0,zv.jsx)("button",{className:"back-to-lists-button",onClick:z,children:"\u2190 Back to Lists"}),(0,zv.jsx)("div",{className:"top-left-favorite",children:(0,zv.jsx)("button",{className:"favorite-button "+(te(f.userId,f.id)?"favorited":""),onClick:e=>ne(f.userId,f.id,f.name,e),disabled:!p,title:p?te(f.userId,f.id)?"Remove from favorites":"Add to favorites":"Sign in to favorite",children:(0,zv.jsx)("span",{className:"favorite-icon",children:"\u2605"})})}),(0,zv.jsxs)("div",{className:"title-container",children:[(0,zv.jsx)("h2",{className:"centered-title",children:f.name}),(0,zv.jsxs)("span",{className:"created-by",onClick:e=>Z(f.userId,f.userName,e),title:"View all rankings by this user",style:{cursor:"pointer"},children:["Created by: ",f.userName||"Unknown User"]})]}),(0,zv.jsx)("div",{className:"top-right-upvote",children:(0,zv.jsxs)("button",{className:"upvote-button "+(V(f)?"upvoted":""),onClick:e=>F(f.userId,f.id,e),disabled:!p,title:p?"Upvote this list":"Sign in to upvote",children:[(0,zv.jsx)("span",{className:"upvote-icon",children:"\u25b2"}),(0,zv.jsx)("span",{className:"upvote-count",children:f.upvoteCount||0})]})}),(0,zv.jsx)("div",{className:"list-meta",children:(0,zv.jsx)("span",{className:"created-date",children:f.updatedAt?`Updated: ${B(f.updatedAt)}`:`Created: ${B(f.createdAt)}`})}),f.description&&(0,zv.jsx)("p",{className:"list-description",children:f.description}),(0,zv.jsx)("div",{className:"full-list-tags",children:f.tags&&f.tags.filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e)).map((e=>(0,zv.jsx)("span",{className:"list-tag",children:e.charAt(0).toUpperCase()+e.slice(1)},e)))})]}),(0,zv.jsx)("div",{className:"ranking-list-container full-list",children:(0,zv.jsx)("div",{className:"ranking-list",children:f.contestants&&f.contestants.length>0?f.contestants.map(((e,t)=>(0,zv.jsxs)("div",{className:"ranking-item",children:[(0,zv.jsx)("div",{className:"ranking-number",children:t+1}),(0,zv.jsx)("img",{src:n[e.id]||e.imageUrl||"/images/placeholder.jpg",alt:e.name,className:"contestant-image "+(e.isSeason?"season-logo":""),draggable:"false"}),(0,zv.jsx)("div",{className:e.isSeason?"season-name":"contestant-name",children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name})]},`${e.id}-${t}`))):(0,zv.jsx)("div",{className:"empty-list-message",children:"This list is empty"})})}),(0,zv.jsxs)("div",{className:"comments-section",children:[(0,zv.jsx)("h3",{className:"comments-title",children:"Comments"}),p?(0,zv.jsxs)("div",{className:"add-comment-form",children:[(0,zv.jsx)("textarea",{placeholder:"Add your comment...",value:y,onChange:e=>w(e.target.value),rows:3,maxLength:500}),(0,zv.jsx)("div",{className:"comment-actions",children:(0,zv.jsx)("button",{className:"add-comment-button",onClick:()=>H(),disabled:!y.trim(),children:"Post Comment"})})]}):(0,zv.jsx)("div",{className:"login-to-comment",children:"Please log in to add comments."}),b?(0,zv.jsx)("div",{className:"loading-comments",children:"Loading comments..."}):0===g.length?(0,zv.jsx)("div",{className:"no-comments",children:"No comments yet. Be the first to comment!"}):(0,zv.jsx)("div",{className:"comments-list",children:g.filter((e=>!e.parentId)).map((e=>{const t=g.filter((t=>t.parentId===e.id));return(0,zv.jsxs)("div",{className:"comment-item",children:[(0,zv.jsxs)("div",{className:"comment-header",children:[(0,zv.jsx)("span",{className:"comment-author",onClick:t=>Z(e.userId,e.userName,t),title:"View all rankings by this user",style:{cursor:"pointer"},children:e.userName}),(0,zv.jsx)("span",{className:"comment-date",children:J(e.createdAt)})]}),(0,zv.jsx)("div",{className:"comment-content",children:e.text}),(0,zv.jsxs)("div",{className:"comment-footer",children:[(0,zv.jsxs)("div",{className:"comment-actions-group",children:[(0,zv.jsxs)("div",{className:"comment-votes",children:[(0,zv.jsx)("button",{className:"comment-vote upvote "+(Y(e)?"voted":""),onClick:()=>W(e.id,"upvote"),disabled:!p,title:p?"Upvote":"Please log in to vote",children:"\u25b2"}),(0,zv.jsx)("span",{className:"vote-count",children:Q(e)}),(0,zv.jsx)("button",{className:"comment-vote downvote "+(X(e)?"voted":""),onClick:()=>W(e.id,"downvote"),disabled:!p,title:p?"Downvote":"Please log in to vote",children:"\u25bc"})]}),p&&(0,zv.jsx)("button",{className:"reply-button",onClick:()=>{return t=e.id,_(S===t?null:t),void C("");var t},title:"Reply to this comment",children:S===e.id?"Cancel":"Reply"})]}),G(e)&&(0,zv.jsx)("button",{className:"delete-comment-button",onClick:()=>K(e.id),title:"Delete your comment",children:"Delete"})]}),S===e.id&&p&&(0,zv.jsxs)("div",{className:"reply-form",children:[(0,zv.jsx)("textarea",{placeholder:"Write your reply...",value:E,onChange:e=>C(e.target.value),rows:2,maxLength:500}),(0,zv.jsxs)("div",{className:"reply-actions",children:[(0,zv.jsx)("button",{className:"cancel-reply-button",onClick:q,children:"Cancel"}),(0,zv.jsx)("button",{className:"post-reply-button",onClick:()=>H(e.id),disabled:!E.trim(),children:"Post Reply"})]})]}),t.length>0&&(0,zv.jsx)("div",{className:"comment-replies",children:t.map((e=>(0,zv.jsxs)("div",{className:"reply-item",children:[(0,zv.jsxs)("div",{className:"reply-header",children:[(0,zv.jsx)("span",{className:"reply-author",onClick:t=>Z(e.userId,e.userName,t),title:"View all rankings by this user",style:{cursor:"pointer"},children:e.userName}),(0,zv.jsx)("span",{className:"reply-date",children:J(e.createdAt)})]}),(0,zv.jsx)("div",{className:"reply-content",children:e.text}),(0,zv.jsxs)("div",{className:"reply-footer",children:[(0,zv.jsxs)("div",{className:"reply-votes",children:[(0,zv.jsx)("button",{className:"reply-vote upvote "+(Y(e)?"voted":""),onClick:()=>W(e.id,"upvote"),disabled:!p,title:p?"Upvote":"Please log in to vote",children:"\u25b2"}),(0,zv.jsx)("span",{className:"vote-count",children:Q(e)}),(0,zv.jsx)("button",{className:"reply-vote downvote "+(X(e)?"voted":""),onClick:()=>W(e.id,"downvote"),disabled:!p,title:p?"Downvote":"Please log in to vote",children:"\u25bc"})]}),G(e)&&(0,zv.jsx)("button",{className:"delete-reply-button",onClick:()=>K(e.id),title:"Delete your reply",children:"Delete"})]})]},e.id)))})]},e.id)}))})]})]}):null:(0,zv.jsxs)(zv.Fragment,{children:[(0,zv.jsx)("h2",{className:"section-title",children:"Top Voted Lists This Week"}),(0,zv.jsx)("div",{className:"lists-container",children:a.length>0?a.map((e=>re(e))):(0,zv.jsx)("div",{className:"empty-section-message",children:"No voted lists found this week"})}),(0,zv.jsx)("h2",{className:"section-title",children:"Recently Created Lists"}),(0,zv.jsx)("div",{className:"lists-container",children:o.length>0?o.map((e=>re(e))):(0,zv.jsx)("div",{className:"empty-section-message",children:"No recent lists found"})}),p&&(0,zv.jsxs)(zv.Fragment,{children:[(0,zv.jsx)("h2",{className:"section-title",children:"Your Favorite Lists"}),P?(0,zv.jsx)("div",{className:"empty-section-message",children:"Loading favorites..."}):D.length>0?(0,zv.jsx)(zv.Fragment,{children:Array.from({length:Math.ceil(D.length/3)}).map(((e,t)=>(0,zv.jsx)("div",{className:"lists-container",children:D.slice(3*t,3*t+3).map((e=>re(e)))},`favorite-row-${t}`)))}):(0,zv.jsx)("div",{className:"empty-section-message",children:"You haven't favorited any lists yet. Click the star icon on lists you like to add them here!"})]})]})})},Gv=e=>{let{onViewUserLists:t}=e;return(0,zv.jsx)(qv,{onViewUserLists:t})},Jv=e=>{let{user:t,onSelectList:n,onCreateNew:i}=e;const[a,s]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(null),[f,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[w,b]=(0,r.useState)("");(0,r.useEffect)((()=>{t&&t.displayName&&g(t.displayName)}),[t]),(0,r.useEffect)((()=>{(async()=>{l(!0),u("");try{if(!t)return;const e=qh(Av,"userLists",t.uid),n=await Qf(e);if(n.exists()&&n.data().lists){const e=n.data().lists;e.sort(((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt))),s(e)}else s([])}catch(c){console.error("Error loading user lists:",c),u("Failed to load your lists. Please try again.")}finally{l(!1)}})()}),[t]);const k=e=>{if(!e)return"";return new Date(e).toLocaleDateString()};return o?(0,zv.jsxs)("div",{className:"user-list-manager",children:[(0,zv.jsx)("h2",{className:"section-title",children:"My Survivor Rankings"}),(0,zv.jsx)("div",{className:"loading-lists",children:"Loading your lists..."})]}):(0,zv.jsxs)("div",{className:"user-list-manager",children:[(0,zv.jsx)("h2",{className:"section-title",children:"My Survivor Rankings"}),(0,zv.jsx)("div",{className:"user-profile-section",children:f?(0,zv.jsxs)("div",{className:"username-editor",children:[(0,zv.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"Enter new username",className:"username-input",maxLength:30}),(0,zv.jsxs)("div",{className:"username-actions",children:[(0,zv.jsx)("button",{onClick:async()=>{if(p&&""!==p.trim())try{await og(Dv.currentUser,{displayName:p});const e=qh(Av,"userLists",t.uid),n=await Qf(e);if(n.exists()&&n.data().lists){const t=n.data().lists.map((e=>({...e,userName:p})));await em(e,{lists:t}),s(t)}m(!1),y(!0),b(""),setTimeout((()=>{y(!1)}),3e3)}catch(c){console.error("Error updating username:",c),b("Failed to update username. Please try again.")}else b("Username cannot be empty")},className:"save-username-button",children:"Save"}),(0,zv.jsx)("button",{onClick:()=>{m(!1),g(t.displayName),b("")},className:"cancel-username-button",children:"Cancel"})]}),w&&(0,zv.jsx)("div",{className:"username-error",children:w})]}):(0,zv.jsxs)("div",{className:"username-display",children:[(0,zv.jsxs)("div",{className:"current-username",children:[(0,zv.jsx)("span",{className:"username-label",children:"Your Username:"}),(0,zv.jsx)("span",{className:"username-value",children:t.displayName})]}),(0,zv.jsx)("button",{onClick:()=>m(!0),className:"edit-username-button",children:"Change Username"}),v&&(0,zv.jsx)("div",{className:"username-success",children:"Username updated successfully!"})]})}),c&&(0,zv.jsx)("div",{className:"list-error",children:c}),(0,zv.jsx)("div",{className:"list-actions-top",children:(0,zv.jsx)("button",{className:"create-new-button",onClick:i,children:"+ Create New Ranking"})}),0===a.length?(0,zv.jsx)("div",{className:"no-lists-message",children:"You haven't created any rankings yet. Create your first list now!"}):(0,zv.jsx)("div",{className:"user-lists",children:a.map((e=>{var r;return(0,zv.jsxs)("div",{className:"list-card",children:[(0,zv.jsxs)("div",{className:"list-card-content",onClick:()=>n(e),style:{color:"black"},children:[(0,zv.jsx)("h3",{className:"list-title",style:{color:"black"},children:e.name}),(0,zv.jsxs)("div",{className:"list-meta",style:{color:"black"},children:[(0,zv.jsxs)("div",{className:"list-updated",children:["Updated: ",k(e.updatedAt)]}),(0,zv.jsxs)("div",{className:"list-count",children:[(null===(r=e.contestants)||void 0===r?void 0:r.length)||0," contestants"]})]}),e.contestants&&e.contestants.length>0&&(0,zv.jsxs)("div",{className:"list-preview",style:{color:"black"},children:[(0,zv.jsx)("p",{style:{color:"black"},children:"Top 3:"}),(0,zv.jsx)("ol",{className:"preview-contestants",style:{color:"black"},children:e.contestants.slice(0,3).map(((e,t)=>(0,zv.jsx)("li",{style:{color:"black"},children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name},t)))})]})]}),(0,zv.jsx)("button",{className:"delete-list-button "+(d===e.id?"confirm":""),onClick:()=>(async e=>{if(d===e)try{const n=qh(Av,"userLists",t.uid),r=await Qf(n);if(r.exists()&&r.data().lists){const t=r.data().lists.filter((t=>t.id!==e));await em(n,{lists:t}),s(t),h(null)}}catch(c){console.error("Error deleting list:",c),u("Failed to delete list. Please try again.")}else h(e),setTimeout((()=>{h((t=>t===e?null:t))}),5e3)})(e.id),title:d===e.id?"Click again to confirm":"Delete list",children:d===e.id?"Confirm":"\xd7"})]},e.id)}))})]})},Qv=e=>{let{user:t,onSelectList:n,onCreateNew:r}=e;return(0,zv.jsx)(Jv,{user:t,onSelectList:n,onCreateNew:r})},Yv=e=>{let{initialUserId:t,initialUserName:n,source:i="other"}=e;const[a,s]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(""),[f,m]=(0,r.useState)([]),[p,g]=(0,r.useState)("all"),[v,y]=(0,r.useState)("mostVotes"),[w,b]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[_,E]=(0,r.useState)(t||null),[C,T]=(0,r.useState)(n||""),[I,N]=(0,r.useState)({}),[x,R]=(0,r.useState)([]),[A,D]=(0,r.useState)(""),[L,P]=(0,r.useState)(!1),[O,j]=(0,r.useState)(null),[M,U]=(0,r.useState)(""),{user:F}=(0,r.useContext)(Wv),[V,z]=(0,r.useState)([]),B=ee();(0,r.useEffect)((()=>{(async()=>{l(!0),u(null);try{const e=Kh(Av,"userLists"),t=await Xf(e);let n=[];t.forEach((e=>{const t=e.data();t.lists&&Array.isArray(t.lists)&&t.lists.forEach((t=>{n.push({...t,userId:e.id,upvoteCount:t.upvotes?t.upvotes.length:0})}))})),s(n)}catch(e){console.error("Error fetching public lists:",e),u("Failed to load public lists. Please try again later.")}finally{l(!1)}})()}),[]),(0,r.useEffect)((()=>{t&&(E(t),T(n||"Unknown User"))}),[t,n]),(0,r.useEffect)((()=>{F?$():z([])}),[F]);const $=async()=>{if(F)try{const e=qh(Av,"users",F.uid),t=await Qf(e);t.exists()&&t.data().favorites?z(t.data().favorites):(await Zf(e,{favorites:[]},{merge:!0}),z([]))}catch(c){console.error("Error fetching favorites:",c)}},H=(e,t)=>V.some((n=>n.userId===e&&n.listId===t)),W=async(e,t,n,r)=>{if(r&&r.stopPropagation(),F)try{const r=qh(Av,"users",F.uid);if(H(e,t)){const n=V.filter((n=>!(n.userId===e&&n.listId===t)));await em(r,{favorites:n}),z(n)}else{const i={userId:e,listId:t,name:n,favoritedAt:(new Date).toISOString()},a=[...V,i];await em(r,{favorites:a}),z(a)}}catch(c){console.error("Error updating favorites:",c),alert("Failed to update favorites. Please try again.")}else alert("You must be logged in to favorite lists.")},K=e=>{y(e)},q=e=>{g(e)},G=e=>{switch(v){case"mostVotes":return[...e].sort(((e,t)=>(t.upvoteCount||0)-(e.upvoteCount||0)));case"newest":return[...e].sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));case"oldest":return[...e].sort(((e,t)=>new Date(e.createdAt)-new Date(t.createdAt)));default:return e}},J=async(e,t)=>{if(F)try{const n=qh(Av,"userLists",e),r=await Qf(n);if(!r.exists())return void console.error("User document not found");const i=r.data().lists||[],a=i.findIndex((e=>e.id===t));if(-1===a)return void console.error("List not found");const o=i[a].upvotes||[],l=o.indexOf(F.uid),c=[...i];c[a].upvotes=l>=0?o.filter((e=>e!==F.uid)):[...o,F.uid],await em(n,{lists:c}),s((n=>n.map((n=>{if(n.userId===e&&n.id===t){const e=l>=0?o.filter((e=>e!==F.uid)):[...o,F.uid];return{...n,upvotes:e,upvoteCount:e.length}}return n}))))}catch(c){console.error("Error upvoting list:",c),alert("Failed to upvote list. Please try again.")}else alert("You must be logged in to upvote lists.")},Q=(new Set(a.flatMap((e=>{var t;return(null===(t=e.tags)||void 0===t?void 0:t.filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e)))||[]}))),a.filter((e=>{var t;const n=null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()),r=0===f.length||f.every((t=>e.tags&&e.tags.includes(t)));let i=!0;return"season"===p?i=e.tags&&e.tags.includes("season-ranking"):"survivor"===p&&(i=e.tags&&e.tags.includes("survivor-ranking")),n&&r&&i}))),Y=G(Q),X=e=>new Date(e).toLocaleDateString(),Z=e=>F&&e.upvotes&&e.upvotes.includes(F.uid),te=async e=>{S(e),E(null),T(""),await ie(e.userId,e.id)},ne=()=>{"home"===i&&_?B("/"):(S(null),E(null),T(""),B("home"===i?"/":"/rankings"))},re=(e,t,n)=>{n&&(n.preventDefault(),n.stopPropagation()),S(null),E(e),T(t||"Unknown"),B(`/rankings/user/${e}`,{state:{userName:t}}),window.scrollTo(0,0)};(0,r.useEffect)((()=>{(async()=>{if(!k||!k.contestants||0===k.contestants.length)return;const e={...I};for(const t of k.contestants)if(!I[t.id])if(t.isSeason)try{const n=await Pv(t.id);e[t.id]=n}catch(c){console.error(`Error loading logo for season ${t.id}:`,c),e[t.id]="/placeholder.jpg"}else{let n=null;for(const e of Vv)if(e.contestants.some((e=>e.id===t.id))){n=e.id;break}if(n)try{const r=n.startsWith("s")?n.substring(1):n,i=await Lv(t,r);e[t.id]=i}catch(c){console.error(`Error loading image for ${t.name}:`,c),e[t.id]="/placeholder.jpg"}}N(e)})()}),[k]);const ie=async(e,t)=>{if(e&&t){P(!0);try{const r=Kh(Av,"comments");try{const n=Pf(r,jf("listUserId","==",e),jf("listId","==",t),Ff("createdAt","desc")),i=await Xf(n),a=[];i.forEach((e=>{a.push({id:e.id,...e.data(),upvotes:e.data().upvotes||[],downvotes:e.data().downvotes||[]})})),R(a)}catch(n){console.error("Index error, trying without sorting:",n);const i=Pf(r,jf("listUserId","==",e),jf("listId","==",t)),a=await Xf(i);let s=[];a.forEach((e=>{s.push({id:e.id,...e.data(),upvotes:e.data().upvotes||[],downvotes:e.data().downvotes||[]})})),s=s.sort(((e,t)=>{const n=e.createdAt instanceof ea?e.createdAt.toDate():new Date(e.createdAt||0);return(t.createdAt instanceof ea?t.createdAt.toDate():new Date(t.createdAt||0))-n})),R(s),console.warn("This is a first-time setup issue. The admin should create an index for comments collection with fields: listUserId, listId, and createdAt. Follow the Firestore error link if you're an admin.")}}catch(c){console.error("Error fetching comments:",c),R([])}finally{P(!1)}}},ae=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!F)return void alert("You must be logged in to add comments.");const t=e?M.trim():A.trim();if(t)try{const n={listUserId:k.userId,listId:k.id,userId:F.uid,userName:F.displayName||"Anonymous",text:t,createdAt:am(),upvotes:[],downvotes:[],parentId:e||null,isReply:!!e},r=await nm(Kh(Av,"comments"),n);R([{id:r.id,...n,createdAt:new Date},...x]),e?(U(""),j(null)):D("")}catch(c){console.error("Error adding comment:",c),alert("Failed to add comment. Please try again.")}else alert("Comment cannot be empty.")},se=()=>{j(null),U("")},oe=async(e,t)=>{if(F)try{const n=qh(Av,"comments",e),r=await Qf(n);if(!r.exists())return void console.error("Comment not found");const i=r.data(),a=i.upvotes||[],s=i.downvotes||[],o=a.includes(F.uid),l=s.includes(F.uid);let c=[...a],u=[...s];"upvote"===t?o?c=c.filter((e=>e!==F.uid)):(c.push(F.uid),u=u.filter((e=>e!==F.uid))):"downvote"===t&&(l?u=u.filter((e=>e!==F.uid)):(u.push(F.uid),c=c.filter((e=>e!==F.uid)))),await em(n,{upvotes:c,downvotes:u}),R(x.map((t=>t.id===e?{...t,upvotes:c,downvotes:u}:t)))}catch(c){console.error("Error voting on comment:",c),alert("Failed to process your vote. Please try again.")}else alert("You must be logged in to vote on comments.")},le=async e=>{if(F){if(window.confirm("Are you sure you want to delete this comment?"))try{const t=qh(Av,"comments",e),n=await Qf(t);if(!n.exists())return void console.error("Comment not found");if(n.data().userId!==F.uid)return void alert("You can only delete your own comments.");await tm(t),R(x.filter((t=>t.id!==e)))}catch(c){console.error("Error deleting comment:",c),alert("Failed to delete comment. Please try again.")}}else alert("You must be logged in to delete comments.")},ce=e=>F&&e.userId===F.uid,ue=e=>{if(!e)return"";const t=e instanceof ea?e.toDate():new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},de=e=>{var t,n;return((null===(t=e.upvotes)||void 0===t?void 0:t.length)||0)-((null===(n=e.downvotes)||void 0===n?void 0:n.length)||0)},he=e=>F&&e.upvotes&&e.upvotes.includes(F.uid),fe=e=>F&&e.downvotes&&e.downvotes.includes(F.uid);if(o)return(0,zv.jsx)("div",{className:"other-lists loading",children:"Loading rankings..."});if(c)return(0,zv.jsx)("div",{className:"other-lists error",children:c});const me=_?a.filter((e=>e.userId===_)):[],pe=G(me);return _?(0,zv.jsxs)("div",{className:"other-lists user-lists-view",children:[(0,zv.jsx)("div",{className:"back-button-container",children:(0,zv.jsx)("button",{className:"back-to-lists-button",onClick:ne,children:"home"===i?"\u2190 Back to Home":"\u2190 Back to Rankings"})}),(0,zv.jsx)("div",{className:"user-lists-header",children:(0,zv.jsxs)("h2",{children:["Rankings by ",C]})}),0===pe.length?(0,zv.jsx)("div",{className:"no-lists-message",children:"No rankings found for this user."}):(0,zv.jsx)("div",{className:"public-lists-grid",children:pe.map((e=>(0,zv.jsxs)("div",{className:"public-list-card",onClick:()=>te(e),children:[(0,zv.jsxs)("div",{className:"list-header",children:[(0,zv.jsx)("div",{className:"top-left-favorite",onClick:e=>e.stopPropagation(),children:(0,zv.jsx)("button",{className:"favorite-button "+(H(e.userId,e.id)?"favorited":""),onClick:t=>W(e.userId,e.id,e.name,t),disabled:!F,title:F?H(e.userId,e.id)?"Remove from favorites":"Add to favorites":"Sign in to favorite",children:(0,zv.jsx)("span",{className:"favorite-icon",children:"\u2605"})})}),(0,zv.jsxs)("div",{className:"header-content",children:[(0,zv.jsx)("h3",{title:e.name,children:e.name}),(0,zv.jsxs)("div",{className:"list-meta",children:[(0,zv.jsxs)("span",{className:"created-by clickable",onClick:t=>{t.stopPropagation(),re(e.userId,e.userName,t)},title:"View all rankings by this user",children:["By: ",e.userName||"Unknown"]}),(0,zv.jsxs)("span",{className:"created-date",children:["Created: ",X(e.createdAt)]})]})]}),(0,zv.jsx)("div",{className:"header-actions",onClick:e=>e.stopPropagation(),children:(0,zv.jsxs)("button",{className:"upvote-button "+(Z(e)?"upvoted":""),onClick:t=>{t.stopPropagation(),J(e.userId,e.id)},disabled:!F,title:F?"Upvote this list":"Sign in to upvote",style:{fontSize:"0.7rem",padding:"2px 4px",marginRight:"5px",height:"20px",display:"flex",alignItems:"center",gap:"2px",overflow:"hidden",maxWidth:"60px",position:"relative",right:"18px"},children:[(0,zv.jsx)("span",{className:"upvote-icon",style:{fontSize:"0.7rem"},children:"\u25b2"}),(0,zv.jsx)("span",{className:"upvote-count",style:{fontSize:"0.7rem"},children:e.upvoteCount||0})]})})]}),(0,zv.jsx)("div",{className:"list-preview",children:e.contestants&&e.contestants.length>0?(0,zv.jsxs)(zv.Fragment,{children:[(0,zv.jsx)("p",{children:"Top 3 contestants:"}),(0,zv.jsx)("ol",{className:"preview-contestants "+(e.tags&&e.tags.includes("spoiler")?"spoiler-blur":""),children:e.contestants.slice(0,3).map(((e,t)=>(0,zv.jsx)("li",{children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name},t)))}),e.description&&(0,zv.jsx)("div",{className:"list-preview-description",children:(0,zv.jsx)("p",{children:e.description.length>60?`${e.description.substring(0,60)}...`:e.description})})]}):(0,zv.jsx)("p",{children:"This list is empty"})}),(0,zv.jsxs)("div",{className:"list-tags",children:[e.tags&&e.tags.filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e)).map((e=>(0,zv.jsx)("span",{className:"list-tag "+("spoiler"===e?"spoiler-tag":""),children:e},e))),e.tags&&e.tags.includes("season-ranking")&&(0,zv.jsx)("span",{className:"list-type-indicator season",children:"Season Ranking"}),e.tags&&e.tags.includes("survivor-ranking")&&(0,zv.jsx)("span",{className:"list-type-indicator survivor",children:"Survivor Ranking"})]})]},e.id)))})]}):k?(0,zv.jsxs)("div",{className:"other-lists full-list-view",children:[(0,zv.jsx)("div",{className:"back-button-container",children:(0,zv.jsx)("button",{className:"back-to-lists-button",onClick:ne,children:"home"!==i||_?"\u2190 Back to Rankings":"\u2190 Back to Home"})}),(0,zv.jsxs)("div",{className:"full-list-header",children:[(0,zv.jsx)("h2",{children:k.name}),(0,zv.jsxs)("div",{className:"list-meta",children:[(0,zv.jsxs)("span",{className:"created-by clickable",onClick:e=>{e.stopPropagation(),re(k.userId,k.userName,e)},title:"View all rankings by this user",children:["Created by: ",k.userName||"Unknown"]}),(0,zv.jsxs)("span",{className:"created-date",children:["Date: ",X(k.createdAt)]}),(0,zv.jsx)("div",{className:"list-upvotes",children:(0,zv.jsxs)("button",{className:"upvote-button "+(Z(k)?"upvoted":""),onClick:()=>J(k.userId,k.id),disabled:!F,style:{fontSize:"0.8rem",padding:"3px 6px",display:"flex",alignItems:"center",gap:"3px"},children:[(0,zv.jsx)("span",{className:"upvote-icon",style:{fontSize:"0.8rem"},children:"\u25b2"}),(0,zv.jsx)("span",{className:"upvote-count",style:{fontSize:"0.8rem"},children:k.upvoteCount||0})]})})]}),(0,zv.jsx)("div",{className:"top-left-favorite",children:(0,zv.jsx)("button",{className:"favorite-button "+(H(k.userId,k.id)?"favorited":""),onClick:e=>W(k.userId,k.id,k.name,e),disabled:!F,title:F?H(k.userId,k.id)?"Remove from favorites":"Add to favorites":"Sign in to favorite",children:(0,zv.jsx)("span",{className:"favorite-icon",children:"\u2605"})})}),(0,zv.jsxs)("div",{className:"full-list-tags",children:[k.tags&&k.tags.includes("season-ranking")&&(0,zv.jsx)("span",{className:"list-type-indicator season",children:"Season Ranking"}),k.tags&&k.tags.includes("survivor-ranking")&&(0,zv.jsx)("span",{className:"list-type-indicator survivor",children:"Survivor Ranking"}),k.tags&&k.tags.filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e)).map((e=>(0,zv.jsx)("span",{className:"list-tag "+("spoiler"===e?"spoiler-tag":""),children:e},e)))]}),k.description&&(0,zv.jsx)("div",{className:"list-description",children:(0,zv.jsx)("p",{children:k.description})})]}),(0,zv.jsx)("div",{className:"ranking-list-container",children:(0,zv.jsx)("div",{className:"ranking-list "+(k.tags&&k.tags.includes("spoiler")?"spoiler-blur":""),children:k.contestants&&k.contestants.length>0?k.contestants.map(((e,t)=>(0,zv.jsxs)("div",{className:"ranking-item",children:[(0,zv.jsx)("div",{className:"ranking-number",children:t+1}),(0,zv.jsx)("img",{src:I[e.id]||e.imageUrl||"/placeholder.jpg",alt:e.name,className:"contestant-image "+(e.isSeason?"season-logo":""),draggable:"false"}),(0,zv.jsx)("div",{className:e.isSeason?"season-name":"contestant-name",style:{color:"#000000"},children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name})]},t))):(0,zv.jsx)("div",{className:"empty-list-message",children:"This list is empty."})})}),(0,zv.jsxs)("div",{className:"comments-section",children:[(0,zv.jsx)("h3",{className:"comments-title",children:"Comments"}),F?(0,zv.jsxs)("div",{className:"add-comment-form",children:[(0,zv.jsx)("textarea",{placeholder:"Add your comment...",value:A,onChange:e=>D(e.target.value),rows:3,maxLength:500}),(0,zv.jsx)("div",{className:"comment-actions",children:(0,zv.jsx)("button",{className:"add-comment-button",onClick:()=>ae(),disabled:!A.trim(),children:"Post Comment"})})]}):(0,zv.jsx)("div",{className:"login-to-comment",children:"Please log in to add comments."}),L?(0,zv.jsx)("div",{className:"loading-comments",children:"Loading comments..."}):0===x.length?(0,zv.jsx)("div",{className:"no-comments",children:"No comments yet. Be the first to comment!"}):(0,zv.jsx)("div",{className:"comments-list",children:x.filter((e=>!e.parentId)).map((e=>{const t=x.filter((t=>t.parentId===e.id));return(0,zv.jsxs)("div",{className:"comment-item",children:[(0,zv.jsxs)("div",{className:"comment-header",children:[(0,zv.jsx)("span",{className:"comment-author",onClick:t=>re(e.userId,e.userName,t),title:"View all rankings by this user",children:e.userName}),(0,zv.jsx)("span",{className:"comment-date",children:ue(e.createdAt)})]}),(0,zv.jsx)("div",{className:"comment-content",children:e.text}),(0,zv.jsxs)("div",{className:"comment-footer",children:[(0,zv.jsxs)("div",{className:"comment-actions-group",children:[(0,zv.jsxs)("div",{className:"comment-votes",children:[(0,zv.jsx)("button",{className:"comment-vote upvote "+(he(e)?"voted":""),onClick:()=>oe(e.id,"upvote"),disabled:!F,title:F?"Upvote":"Please log in to vote",children:"\u25b2"}),(0,zv.jsx)("span",{className:"vote-count",children:de(e)}),(0,zv.jsx)("button",{className:"comment-vote downvote "+(fe(e)?"voted":""),onClick:()=>oe(e.id,"downvote"),disabled:!F,title:F?"Downvote":"Please log in to vote",children:"\u25bc"})]}),F&&(0,zv.jsx)("button",{className:"reply-button",onClick:()=>{return t=e.id,j(O===t?null:t),void U("");var t},title:"Reply to this comment",children:O===e.id?"Cancel":"Reply"})]}),ce(e)&&(0,zv.jsx)("button",{className:"delete-comment-button",onClick:()=>le(e.id),title:"Delete your comment",children:"Delete"})]}),O===e.id&&F&&(0,zv.jsxs)("div",{className:"reply-form",children:[(0,zv.jsx)("textarea",{placeholder:"Write your reply...",value:M,onChange:e=>U(e.target.value),rows:2,maxLength:500}),(0,zv.jsxs)("div",{className:"reply-actions",children:[(0,zv.jsx)("button",{className:"cancel-reply-button",onClick:se,children:"Cancel"}),(0,zv.jsx)("button",{className:"post-reply-button",onClick:()=>ae(e.id),disabled:!M.trim(),children:"Post Reply"})]})]}),t.length>0&&(0,zv.jsx)("div",{className:"comment-replies",children:t.map((e=>(0,zv.jsxs)("div",{className:"reply-item",children:[(0,zv.jsxs)("div",{className:"reply-header",children:[(0,zv.jsx)("span",{className:"reply-author",onClick:t=>re(e.userId,e.userName,t),title:"View all rankings by this user",children:e.userName}),(0,zv.jsx)("span",{className:"reply-date",children:ue(e.createdAt)})]}),(0,zv.jsx)("div",{className:"reply-content",children:e.text}),(0,zv.jsxs)("div",{className:"reply-footer",children:[(0,zv.jsxs)("div",{className:"reply-votes",children:[(0,zv.jsx)("button",{className:"reply-vote upvote "+(he(e)?"voted":""),onClick:()=>oe(e.id,"upvote"),disabled:!F,title:F?"Upvote":"Please log in to vote",children:"\u25b2"}),(0,zv.jsx)("span",{className:"vote-count",children:de(e)}),(0,zv.jsx)("button",{className:"reply-vote downvote "+(fe(e)?"voted":""),onClick:()=>oe(e.id,"downvote"),disabled:!F,title:F?"Downvote":"Please log in to vote",children:"\u25bc"})]}),ce(e)&&(0,zv.jsx)("button",{className:"delete-reply-button",onClick:()=>le(e.id),title:"Delete your reply",children:"Delete"})]})]},e.id)))})]},e.id)}))})]})]}):(0,zv.jsxs)("div",{className:"other-lists",children:[(0,zv.jsx)("h2",{children:"Other Rankings"}),(0,zv.jsxs)("div",{className:"search-filter-bar",children:[(0,zv.jsx)("input",{type:"text",className:"search-input",placeholder:"Search rankings...",value:d,onChange:e=>h(e.target.value)}),(0,zv.jsxs)("div",{className:"filter-container",children:[(0,zv.jsxs)("div",{className:"type-filters",children:[(0,zv.jsx)("span",{children:"Ranking Type:"}),(0,zv.jsx)("button",{className:"all"===p?"active":"",onClick:()=>q("all"),children:"All Rankings"}),(0,zv.jsx)("button",{className:"season"===p?"active":"",onClick:()=>q("season"),children:"Season Rankings"}),(0,zv.jsx)("button",{className:"survivor"===p?"active":"",onClick:()=>q("survivor"),children:"Survivor Rankings"})]}),(0,zv.jsxs)("div",{className:"sort-options",children:[(0,zv.jsx)("span",{children:"Sort by:"}),(0,zv.jsx)("button",{className:"mostVotes"===v?"active":"",onClick:()=>K("mostVotes"),children:"Most Votes"}),(0,zv.jsx)("button",{className:"newest"===v?"active":"",onClick:()=>K("newest"),children:"Newest"}),(0,zv.jsx)("button",{className:"oldest"===v?"active":"",onClick:()=>K("oldest"),children:"Oldest"})]}),(0,zv.jsxs)("div",{className:"tag-filters",children:[(0,zv.jsx)("span",{children:"Filter by tag:"}),(0,zv.jsx)("div",{className:"tags",children:[{id:"favorites",label:"Favorites"},{id:"social",label:"Social"},{id:"strategic",label:"Strategic"},{id:"challenge",label:"Challenge Beasts"},{id:"spoiler",label:"Spoiler"}].map((e=>(0,zv.jsx)("button",{className:f.includes(e.id)?"tag-button selected":"tag-button",onClick:()=>(e=>{f.includes(e)?m(f.filter((t=>t!==e))):m([...f,e])})(e.id),children:e.label},e.id)))})]})]})]}),0===Y.length?(0,zv.jsx)("div",{className:"no-lists-message",children:"No rankings found. Be the first to create a ranking!"}):(0,zv.jsx)("div",{className:"public-lists-grid",children:Y.map((e=>(0,zv.jsxs)("div",{className:"public-list-card",onClick:()=>te(e),children:[(0,zv.jsxs)("div",{className:"list-header",children:[(0,zv.jsx)("div",{className:"top-left-favorite",onClick:e=>e.stopPropagation(),children:(0,zv.jsx)("button",{className:"favorite-button "+(H(e.userId,e.id)?"favorited":""),onClick:t=>W(e.userId,e.id,e.name,t),disabled:!F,title:F?H(e.userId,e.id)?"Remove from favorites":"Add to favorites":"Sign in to favorite",children:(0,zv.jsx)("span",{className:"favorite-icon",children:"\u2605"})})}),(0,zv.jsxs)("div",{className:"header-content",children:[(0,zv.jsx)("h3",{title:e.name,children:e.name}),(0,zv.jsxs)("div",{className:"list-meta",children:[(0,zv.jsxs)("span",{className:"created-by clickable",onClick:t=>{t.stopPropagation(),re(e.userId,e.userName,t)},title:"View all rankings by this user",children:["By: ",e.userName||"Unknown"]}),(0,zv.jsxs)("span",{className:"created-date",children:["Created: ",X(e.createdAt)]})]})]}),(0,zv.jsx)("div",{className:"header-actions",onClick:e=>e.stopPropagation(),children:(0,zv.jsxs)("button",{className:"upvote-button "+(Z(e)?"upvoted":""),onClick:t=>{t.stopPropagation(),J(e.userId,e.id)},disabled:!F,title:F?"Upvote this list":"Sign in to upvote",style:{fontSize:"0.7rem",padding:"2px 4px",marginRight:"5px",height:"20px",display:"flex",alignItems:"center",gap:"2px",overflow:"hidden",maxWidth:"60px",position:"relative",right:"18px"},children:[(0,zv.jsx)("span",{className:"upvote-icon",style:{fontSize:"0.7rem"},children:"\u25b2"}),(0,zv.jsx)("span",{className:"upvote-count",style:{fontSize:"0.7rem"},children:e.upvoteCount||0})]})})]}),(0,zv.jsx)("div",{className:"list-preview",children:e.contestants&&e.contestants.length>0?(0,zv.jsxs)(zv.Fragment,{children:[(0,zv.jsx)("p",{children:"Top 3 contestants:"}),(0,zv.jsx)("ol",{className:"preview-contestants "+(e.tags&&e.tags.includes("spoiler")?"spoiler-blur":""),children:e.contestants.slice(0,3).map(((e,t)=>(0,zv.jsx)("li",{children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name},t)))}),e.description&&(0,zv.jsx)("div",{className:"list-preview-description",children:(0,zv.jsx)("p",{children:e.description.length>60?`${e.description.substring(0,60)}...`:e.description})})]}):(0,zv.jsx)("p",{children:"This list is empty"})}),(0,zv.jsxs)("div",{className:"list-tags",children:[e.tags&&e.tags.filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e)).map((e=>(0,zv.jsx)("span",{className:"list-tag "+("spoiler"===e?"spoiler-tag":""),children:e},e))),e.tags&&e.tags.includes("season-ranking")&&(0,zv.jsx)("span",{className:"list-type-indicator season",children:"Season Ranking"}),e.tags&&e.tags.includes("survivor-ranking")&&(0,zv.jsx)("span",{className:"list-type-indicator survivor",children:"Survivor Ranking"})]})]},e.id)))})]})},Xv=()=>{var e;const{userId:t}=function(){let{matches:e}=r.useContext(G),t=e[e.length-1];return t?t.params:{}}(),n=(null===(e=Y().state)||void 0===e?void 0:e.userName)||"",i=t?"home":"other";return(0,zv.jsx)(Yv,{initialUserId:t||null,initialUserName:n,source:i})},Zv=e=>{let{userList:t,setUserList:n,listName:i,setListName:a,listDescription:s,setListDescription:o,listTags:l,setListTags:c,user:u,editingListId:d,onCancel:h}=e;const[f,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(""),[w,b]=(0,r.useState)(!1),k=(0,r.useRef)(null),[S,_]=(0,r.useState)({}),[E,C]=(0,r.useState)(d||null),T=ee();(0,r.useEffect)((()=>{(async()=>{if(u&&!i&&!d&&0===t.length)try{const e=qh(Av,"userLists",u.uid),t=await Qf(e);if(t.exists()&&t.data().draft){const e=t.data().draft;a(e.name||""),o(e.description||""),c(e.tags||[]),n(e.contestants||[])}}catch(v){console.error("Error loading draft:",v)}})()}),[u,a,o,c,n,i,d,t.length]),(0,r.useEffect)((()=>{if(d)return;const e=setTimeout((async()=>{if(u&&(t.length>0||i||s||l.length>0))try{const e=t.some((e=>e.isSeason))?"season-ranking":"survivor-ranking";let n=[...l];n=n.filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e)),t.length>0&&n.push(e);const r=qh(Av,"userLists",u.uid);await Zf(r,{draft:{name:i,description:s,tags:n,contestants:t,updatedAt:(new Date).toISOString()}},{merge:!0})}catch(v){console.error("Error autosaving draft:",v)}}),2e3);return()=>clearTimeout(e)}),[t,i,s,l,u,d]),(0,r.useEffect)((()=>{(async()=>{if(0===t.length)return;const e={...S};for(const n of t)if(S[n.id]||n.isSeason){if(!S[n.id]&&n.isSeason)try{const t=await Pv(n.id);e[n.id]=t}catch(v){console.error(`Error loading logo for season ${n.id}:`,v),e[n.id]="/images/placeholder.jpg"}}else{let t=null;for(const e of Vv)if(e.contestants.some((e=>e.id===n.id))){t=e.id;break}if(t)try{const r=t.startsWith("s")?t.substring(1):t,i=await Lv(n,r);e[n.id]=i}catch(v){console.error(`Error loading image for ${n.name}:`,v),e[n.id]="/images/placeholder.jpg"}}_(e)})()}),[t]);const I=()=>{if(n([]),a(""),o(""),c([]),y(""),_({}),C(null),u)try{Zf(qh(Av,"userLists",u.uid),{draft:null},{merge:!0}),console.log("Cleared list and draft")}catch(v){console.error("Error clearing draft:",v)}},N=e=>{e.target.classList.remove("dragging-item")};return(0,zv.jsxs)("div",{className:"user-list-creator",children:[(0,zv.jsx)("h2",{className:"section-title",children:d?"Edit Ranking":"Create New Ranking"}),(0,zv.jsxs)("div",{className:"list-details",children:[(0,zv.jsxs)("div",{className:"list-name-input",children:[(0,zv.jsx)("label",{htmlFor:"list-name",children:"List Name"}),(0,zv.jsx)("input",{id:"list-name",type:"text",value:i,onChange:e=>a(e.target.value),placeholder:"My Survivor Ranking",maxLength:50})]}),(0,zv.jsxs)("div",{className:"list-description-input",children:[(0,zv.jsx)("label",{htmlFor:"list-description",children:"List Description"}),(0,zv.jsx)("textarea",{id:"list-description",value:s,onChange:e=>o(e.target.value),placeholder:"Enter a description for your list",maxLength:200})]}),(0,zv.jsxs)("div",{className:"spoiler-tip",children:[(0,zv.jsx)("span",{className:"tip-icon",children:"\ud83d\udca1"}),(0,zv.jsx)("span",{className:"tip-text",children:'Tip: Add the "Spoiler" tag if your list contains potential spoilers for viewers who haven\'t watched all seasons.'})]}),(0,zv.jsxs)("div",{className:"list-tags",children:[(0,zv.jsx)("label",{children:"Tags (Optional)"}),(0,zv.jsx)("div",{className:"tags-container",children:[{id:"favorites",label:"Favorites"},{id:"social",label:"Social"},{id:"strategic",label:"Strategic"},{id:"challenge",label:"Challenge Beasts"},{id:"spoiler",label:"Spoiler"}].map((e=>(0,zv.jsx)("button",{className:"tag-button "+(l.includes(e.id)?"active":""),onClick:()=>{return t=e.id,void(l.includes(t)?c(l.filter((e=>e!==t))):c([...l,t]));var t},children:e.label},e.id)))})]})]}),(0,zv.jsxs)("div",{className:"user-ranking-container",children:[(0,zv.jsx)("h3",{children:"Your Ranking"}),(0,zv.jsx)("p",{className:"instructions",children:"Drag contestants from the seasons list on the right to build your ranking below"}),(0,zv.jsx)("div",{ref:k,className:"user-ranking-list "+(w?"drag-over":""),style:{minHeight:t.length?"auto":"200px"},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),b(!0),console.log("Drag over user list")},onDragLeave:()=>{b(!1),console.log("Drag left user list")},onDrop:e=>{e.preventDefault(),e.stopPropagation(),b(!1),console.log("Drop event on user list");try{const i=e.dataTransfer.getData("application/reorder");if(i&&""!==i){const r=parseInt(i,10);let a;if(k.current){const i=k.current.getBoundingClientRect(),s=e.clientY-i.top,o=i.height/(t.length||1);a=Math.floor(s/o),a=Math.max(0,Math.min(a,t.length-1)),console.log("Reordering from",r,"to",a);const l=[...t],[c]=l.splice(r,1);l.splice(a,0,c),n(l)}return}let a;const s=e.dataTransfer.getData("application/json"),o=e.dataTransfer.getData("text/plain"),l=e.dataTransfer.getData("source");if(s)a=JSON.parse(s);else if(o)try{a=JSON.parse(o)}catch(r){console.error("Failed to parse text data:",r)}if(!a)return void console.error("No valid data found in the drop");const c=a.isSeason||"season-grid"===l;console.log("Dropped item data:",a),console.log("Is a season:",c);const u=t.some((e=>e.isSeason)),d=t.some((e=>!e.isSeason));let h=t.length;if(k.current&&t.length>0){k.current.getBoundingClientRect();const t=Array.from(k.current.querySelectorAll(".ranking-item")),n=e.clientY;for(let e=0;e<t.length;e++){const r=t[e].getBoundingClientRect();if(n<r.top+r.height/2){h=e;break}}}if(0===t.length)return n([a]),void console.log("Added item to empty list:",a);if(u&&!c)return y("This ranking contains seasons. You cannot mix seasons and contestants in the same list."),void setTimeout((()=>y("")),3e3);if(d&&c)return y("This ranking contains contestants. You cannot mix contestants and seasons in the same list."),void setTimeout((()=>y("")),3e3);if(t.some((e=>e.id===a.id)))return void console.log("Item already in list, not adding duplicate");const f=[...t];f.splice(h,0,a),n(f),console.log("Added item to list at position",h,". New list:",f)}catch(v){console.error("Error handling drop:",v)}},children:0===t.length?(0,zv.jsx)("div",{className:"empty-list-message",children:"Your list is empty. Start adding contestants!"}):t.map(((e,r)=>(0,zv.jsxs)("div",{className:"ranking-item",draggable:!0,onDragStart:e=>((e,t)=>{console.log("Starting to drag item at index:",t),e.dataTransfer.setData("application/reorder",t.toString()),e.target.classList.add("dragging-item")})(e,r),onDragEnd:N,children:[(0,zv.jsx)("div",{className:"ranking-number",children:r+1}),(0,zv.jsx)("img",{src:S[e.id]||e.imageUrl||"/images/placeholder.jpg",alt:e.name,className:"contestant-image "+(e.isSeason?"season-logo":""),draggable:!1}),(0,zv.jsx)("div",{className:e.isSeason?"season-name":"contestant-name",children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name}),(0,zv.jsx)("button",{className:"remove-contestant-button",onClick:()=>(e=>{const r=[...t],i=r.splice(e,1)[0];if(n(r),r.length>0){const e=i.isSeason,t=r.some((e=>e.isSeason)),n=r.some((e=>!e.isSeason));if(e&&!t){const e=l.filter((e=>"season-ranking"!==e));e.includes("survivor-ranking")||e.push("survivor-ranking"),c(e)}else if(!e&&!n){const e=l.filter((e=>"survivor-ranking"!==e));e.includes("season-ranking")||e.push("season-ranking"),c(e)}}console.log("Removed contestant at index",e)})(r),title:"Remove from list",children:"\xd7"})]},`${e.id}-${r}`)))})]}),(0,zv.jsxs)("div",{className:"list-actions",children:[v&&(0,zv.jsx)("div",{className:"error-message",children:v}),p&&(0,zv.jsx)("div",{className:"success-message",children:"List saved successfully!"}),(0,zv.jsxs)("div",{className:"action-buttons",children:[(0,zv.jsx)("button",{className:"save-list-button",onClick:async()=>{if(i.trim()){m(!0),y("");try{const e=qh(Av,"userLists",u.uid),n=await Qf(e),r=t.some((e=>e.isSeason))?"season-ranking":"survivor-ranking",a=[...l].filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e));if(a.push(r),E){const r=n.exists()&&n.data().lists||[],o=r.findIndex((e=>e.id===E));if(o>=0){const n={...r[o],name:i,description:s,tags:a,contestants:t,updatedAt:(new Date).toISOString(),userName:u.displayName||"Unknown User",isPublic:!0};r[o]=n,await em(e,{lists:r}),g(!0),setTimeout((()=>g(!1)),3e3)}else y("List not found. It may have been deleted.")}else{const r=n.exists()&&n.data().lists||[],o=`list_${Date.now()}`,l={id:o,name:i,description:s,tags:a,contestants:t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),upvotes:[],userName:u.displayName||"Unknown User",isPublic:!0};await Zf(e,{lists:[...r,l],draft:null},{merge:!0}),C(o),g(!0),setTimeout((()=>{g(!1)}),3e3)}}catch(v){console.error("Error saving list:",v),y("Failed to save your list. Please try again.")}finally{m(!1)}}else y("Please enter a name for your list")},disabled:f||0===t.length,children:f?"Saving...":d?"Update List":"Save List"}),(0,zv.jsx)("button",{className:"clear-button",onClick:()=>{t.length>0||i||s?window.confirm("Are you sure you want to clear this list? This action cannot be undone.")&&I():I()},title:"Clear the entire list and its details",children:"Clear"}),(0,zv.jsx)("button",{className:"cancel-button",onClick:()=>{I(),C(null),T("/mylists")},children:"Cancel"})]})]})]})},ey=e=>{let{userList:t,setUserList:n,listName:r,setListName:i,listDescription:a,setListDescription:s,listTags:o,setListTags:l,user:c,editingListId:u,onCancel:d}=e;return(0,zv.jsx)(Zv,{userList:t,setUserList:n,listName:r,setListName:i,listDescription:a,setListDescription:s,listTags:o,setListTags:l,user:c,editingListId:u,onCancel:d})},ty=()=>(0,zv.jsx)($v,{});const ny=function(){const e=ee(),t=Y(),[n,i]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null),[f,m]=(0,r.useState)(null),[p,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(""),[w,b]=(0,r.useState)(""),[k,S]=(0,r.useState)([]),[_,E]=(0,r.useState)(null),C=t.pathname,T="/create"===C,I="/mylists"===C,N=C.includes("/rankings");(0,r.useEffect)((()=>{document.documentElement.style.setProperty("--survivor-background",`url(${Hv})`),document.documentElement.style.setProperty("--tribal-background","linear-gradient(to right bottom, #300, #000)")}),[]),(0,r.useEffect)((()=>{const n=Fv((n=>{m(n),n?console.log("User is signed in:",n.displayName):(console.log("User is signed out"),"/login"!==t.pathname&&e("/login"))}));return()=>n()}),[e,t.pathname]),(0,r.useEffect)((()=>{if(!f)return void u(!1);(async()=>{u(!0);try{const e=await(async()=>{try{const e=qh(Av,"rankings","current"),t=await Qf(e);return t.exists()?t.data():(console.log("No rankings found, creating empty lists"),await Ov([],[],[]),{maddysList:[],andrewsList:[],kendallsList:[]})}catch(e){return console.error("Error getting rankings:",e),{maddysList:[],andrewsList:[],kendallsList:[]}}})();i(e.maddysList||[]),s(e.andrewsList||[]),l(e.kendallsList||[]),h(e.lastUpdated||null)}catch(e){console.error("Error loading initial data:",e)}finally{u(!1)}})()}),[f]),(0,r.useEffect)((()=>{if(!f)return;const e=jv((e=>{const t=e.maddysList||[],r=e.andrewsList||[],c=e.kendallsList||[],u=e.lastUpdated||null;JSON.stringify(t)!==JSON.stringify(n)&&i(t),JSON.stringify(r)!==JSON.stringify(a)&&s(r),JSON.stringify(c)!==JSON.stringify(o)&&l(c),h(u)}));return()=>e()}),[f,n,a,o]);const x=()=>{e("/mylists")},R=()=>{e("/")},A=()=>{g([]),y(""),b(""),S([]),E(null),e("/create")};return(0,zv.jsx)("div",{className:"App",children:(0,zv.jsxs)(Kv,{user:f,children:[(0,zv.jsxs)("header",{className:"App-header",children:[(0,zv.jsx)("h1",{children:"Survivor Rankings"}),f&&(0,zv.jsxs)("div",{className:"user-info",children:[(0,zv.jsxs)("span",{className:"welcome-message",children:["Welcome, ",f.displayName]}),(0,zv.jsxs)("div",{className:"user-actions",children:[T||I||N?T?(0,zv.jsx)("button",{onClick:x,className:"create-list-button cancel",children:"Cancel"}):I?(0,zv.jsxs)(zv.Fragment,{children:[(0,zv.jsx)("button",{onClick:A,className:"create-list-button",children:"Create New List"}),(0,zv.jsx)("button",{onClick:R,className:"create-list-button cancel",children:"Cancel"})]}):N?(0,zv.jsx)("button",{onClick:R,className:"create-list-button cancel",children:"Back"}):null:(0,zv.jsxs)(zv.Fragment,{children:[(0,zv.jsx)("button",{onClick:x,className:"create-list-button",children:"My Lists"}),(0,zv.jsx)("button",{onClick:()=>{e("/rankings")},className:"other-lists-button",children:"Other Rankings"})]}),(0,zv.jsx)("button",{onClick:async()=>{try{await Uv(),g([]),y(""),b(""),S([]),E(null),e("/login")}catch(t){console.error("Logout failed:",t)}},className:"logout-button",children:"Sign Out"})]}),d&&!T&&!I&&!N&&(0,zv.jsxs)("p",{className:"last-updated",children:["Last updated: ",new Date(d).toLocaleString()]})]})]}),(0,zv.jsxs)("main",{children:[(0,zv.jsx)("div",{className:"rankings-section",children:(0,zv.jsxs)(ye,{children:[(0,zv.jsx)(ge,{path:"/login",element:f?(0,zv.jsx)(pe,{to:"/"}):(0,zv.jsx)(ty,{})}),(0,zv.jsx)(ge,{path:"/",element:f?c?(0,zv.jsx)("div",{className:"loading",children:"Loading rankings..."}):(0,zv.jsx)(Gv,{onViewUserLists:(t,n)=>{e(`/rankings/user/${t}`,{state:{userName:n}})}}):(0,zv.jsx)(pe,{to:"/login"})}),(0,zv.jsx)(ge,{path:"/mylists",element:f?(0,zv.jsx)(Qv,{user:f,onSelectList:t=>{g(t.contestants||[]),y(t.name||""),b(t.description||""),S(t.tags||[]),E(t.id),e("/create")},onCreateNew:A}):(0,zv.jsx)(pe,{to:"/login"})}),(0,zv.jsx)(ge,{path:"/rankings",element:f?(0,zv.jsx)(Xv,{}):(0,zv.jsx)(pe,{to:"/login"})}),(0,zv.jsx)(ge,{path:"/rankings/user/:userId",element:f?(0,zv.jsx)(Xv,{}):(0,zv.jsx)(pe,{to:"/login"})}),(0,zv.jsx)(ge,{path:"/create",element:f?(0,zv.jsx)(ey,{userList:p,setUserList:g,listName:v,setListName:y,listDescription:w,setListDescription:b,listTags:k,setListTags:S,user:f,editingListId:_,onCancel:x}):(0,zv.jsx)(pe,{to:"/login"})}),(0,zv.jsx)(ge,{path:"*",element:(0,zv.jsx)(pe,{to:"/"})})]})}),(0,zv.jsx)("section",{className:"seasons-section",children:(0,zv.jsx)(Bv,{maddysList:T?p:n,andrewsList:T?[]:a,kendallsList:T?[]:o,setMaddysList:T?g:e=>{i(e),Ov(e,a,o)},setAndrewsList:T?()=>{}:e=>{s(e),Ov(n,e,o)},setKendallsList:T?()=>{}:e=>{l(e),Ov(n,a,e)},user:f,createMode:T})})]})]})})},ry=sessionStorage.getItem("redirectPath");ry&&(sessionStorage.removeItem("redirectPath"),window.history.replaceState(null,null,ry));if(new URLSearchParams(window.location.search).get("torch")){i.createRoot(document.getElementById("root")).render((0,zv.jsx)(r.StrictMode,{children:(0,zv.jsx)(Xe,{children:(0,zv.jsx)(ny,{})})}))}else window.location.href="/torch.html"})();
//# sourceMappingURL=main.02428c88.js.map