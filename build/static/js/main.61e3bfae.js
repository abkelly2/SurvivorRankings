/*! For license information please see main.61e3bfae.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,p(b,v.prototype),b.isPureReactComponent=!0;var k=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:_.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,k(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),x(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",k(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=x(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=x(o=o.value,t,i,u=s+N(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},D={transition:null},P={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,b(e),!p)if(null!==r(c))p=!0,D(S);else{var t=r(u);null!==t&&P(k,t.startTime-e)}}function S(e,n){p=!1,g&&(g=!1,y(C),C=-1),m=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!x());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(k,d.startTime-n),l=!1}return l}finally{h=null,f=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,T=null,C=-1,I=5,N=-1;function x(){return!(t.unstable_now()-N<I)}function R(){if(null!==T){var e=t.unstable_now();N=e;var n=!0;try{n=T(!0,e)}finally{n?_():(E=!1,T=null)}}else E=!1}if("function"===typeof w)_=function(){w(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,L=A.port2;A.port1.onmessage=R,_=function(){L.postMessage(null)}}else _=function(){v(R,0)};function D(e){T=e,E||(E=!0,_())}function P(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,P(k,s-a))):(e.sortIndex=o,n(c,e),p||m||(p=!0,D(S))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case T:return"Profiler";case E:return"StrictMode";case x:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Si){return e.body}}function J(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Ee=null;function Te(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=ki(t),Se(e.stateNode,e.type,t))}}function Ce(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Ie(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ne(e,t){return e(t)}function xe(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ne(e,t,n)}finally{Re=!1,(null!==_e||null!==Ee)&&(xe(),Ie())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){De=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Ue=!1,Fe=null,Ve={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,s,a,o,l){Me=!1,je=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,St,_t,Et,Tt,Ct=!1,It=[],Nt=null,xt=null,Rt=null,At=new Map,Lt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Tt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Ct=!1,null!==Nt&&Ut(Nt)&&(Nt=null),null!==xt&&Ut(xt)&&(xt=null),null!==Rt&&Ut(Rt)&&(Rt=null),At.forEach(Ft),Lt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==xt&&zt(xt,e),null!==Rt&&zt(Rt,e),At.forEach(t),Lt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var $t=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=wt,s=$t.transition;$t.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,$t.transition=s}}function qt(e,t,n,r){var i=wt,s=$t.transition;$t.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,$t.transition=s}}function Kt(e,t,n,r){if(Ht){var i=Jt(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return xt=Mt(xt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Mt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lt.set(s,Mt(Lt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&kt(s),null===(s=Jt(e,t,n,r))&&Hr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=yi(e=ke(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=j({},cn,{view:0,detail:0}),hn=sn(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=sn(fn),pn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},dn,{relatedTarget:0})),vn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(j({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Tn(){return En}var Cn=j({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Cn),Nn=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=sn(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Rn=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(An),Dn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Mn=u&&"TextEvent"in window&&!On,jn=u&&(!Pn||On&&8<On&&11>=On),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Gn(e){Ur(e,0)}function Jn(e){if(K(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Wn(t,Kn,e,ke(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function sr(e,t){if("click"===e)return Jn(t)}function ar(e,t){if("input"===e||"change"===e)return Jn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},_r={},Er={};function Tr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Tr("animationend"),Ir=Tr("animationiteration"),Nr=Tr("animationstart"),xr=Tr("transitionend"),Rr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Rr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Pr=Ar[Dr];Lr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Lr(Cr,"onAnimationEnd"),Lr(Ir,"onAnimationIteration"),Lr(Nr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(xr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=je;Me=!1,je=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,c),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=s,i=ke(n),a=[];e:{var o=Rr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=xn;break;case Cr:case Ir:case Nr:l=vn;break;case xr:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Le(m,h))&&u.push(Wr(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[mi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(p,m+"leave",l,n,i)).target=d,o.relatedTarget=f,p=null,yi(i)===r&&((u=new u(h,m+"enter",c,n,i)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Kr(f))m++;for(f=0,p=h;p;p=Kr(p))f++;for(;0<m-f;)u=Kr(u),m--;for(;0<f-m;)h=Kr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Hn(o))if(Yn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=qr(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ur(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Le(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Le(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Le(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Le(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Jr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,mi="__reactContainer$"+di,pi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ki(e){return e[fi]||null}var _i=[],Ei=-1;function Ti(e){return{current:e}}function Ci(e){0>Ei||(e.current=_i[Ei],_i[Ei]=null,Ei--)}function Ii(e,t){Ei++,_i[Ei]=e.current,e.current=t}var Ni={},xi=Ti(Ni),Ri=Ti(!1),Ai=Ni;function Li(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ci(Ri),Ci(xi)}function Oi(e,t,n){if(xi.current!==Ni)throw Error(s(168));Ii(xi,t),Ii(Ri,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return j({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Ai=xi.current,Ii(xi,e),Ii(Ri,Ri.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ri),Ci(xi),Ii(xi,e)):Ci(Ri),Ii(Ri,n)}var Fi=null,Vi=!1,zi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function $i(){if(!zi&&null!==Fi){zi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,$i),i}finally{wt=t,zi=!1}}return null}var Hi=[],Wi=0,qi=null,Ki=0,Gi=[],Ji=0,Qi=null,Yi=1,Xi="";function es(e,t){Hi[Wi++]=Ki,Hi[Wi++]=qi,qi=e,Ki=t}function ts(e,t,n){Gi[Ji++]=Yi,Gi[Ji++]=Xi,Gi[Ji++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function ns(e){null!==e.return&&(es(e,1),ts(e,1,0))}function rs(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,Ki=Hi[--Wi],Hi[Wi]=null;for(;e===Qi;)Qi=Gi[--Ji],Gi[Ji]=null,Xi=Gi[--Ji],Gi[Ji]=null,Yi=Gi[--Ji],Gi[Ji]=null}var is=null,ss=null,as=!1,os=null;function ls(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function cs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,is=e,ss=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,is=e,ss=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,is=e,ss=null,!0);default:return!1}}function us(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ds(e){if(as){var t=ss;if(t){var n=t;if(!cs(e,t)){if(us(e))throw Error(s(418));t=ci(n.nextSibling);var r=is;t&&cs(e,t)?ls(r,n):(e.flags=-4097&e.flags|2,as=!1,is=e)}}else{if(us(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,is=e}}}function hs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;is=e}function fs(e){if(e!==is)return!1;if(!as)return hs(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ss)){if(us(e))throw ms(),Error(s(418));for(;t;)ls(e,t),t=ci(t.nextSibling)}if(hs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ss=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ss=null}}else ss=is?ci(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=ss;e;)e=ci(e.nextSibling)}function ps(){ss=is=null,as=!1}function gs(e){null===os?os=[e]:os.push(e)}var vs=b.ReactCurrentBatchConfig;function ys(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ws(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function ks(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&bs(s)===t.type)?((r=i(t,n.props)).ref=ys(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=ys(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=jc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=ys(e,null,t),n.return=e,n;case S:return(t=Vc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=jc(t,e.mode,n,null)).return=e,t;ws(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case L:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);ws(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return m(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);ws(t,r)}return null}function p(i,s,o,l){for(var c=null,u=null,d=s,p=s=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=f(i,d,o[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===o.length)return n(i,d),as&&es(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(s=a(d,s,p),null===u?c=d:u.sibling=d,u=d);return as&&es(i,p),c}for(d=r(i,d);p<o.length;p++)null!==(g=m(d,i,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=a(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),as&&es(i,p),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,p=o,g=o=0,v=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var w=f(i,p,y.value,c);if(null===w){null===p&&(p=v);break}e&&p&&null===w.alternate&&t(i,p),o=a(w,o,g),null===d?u=w:d.sibling=w,d=w,p=v}if(y.done)return n(i,p),as&&es(i,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return as&&es(i,g),u}for(p=r(i,p);!y.done;g++,y=l.next())null!==(y=m(p,i,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach((function(e){return t(i,e)})),as&&es(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&bs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=ys(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((s=jc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Mc(a.type,a.key,a.props,null,r.mode,l)).ref=ys(r,s,a),l.return=r,r=l)}return o(r);case S:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Vc(a,r.mode,l)).return=r,r=s}return o(r);case L:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return p(r,s,a,l);if(O(a))return g(r,s,a,l);ws(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Ss=ks(!0),_s=ks(!1),Es=Ti(null),Ts=null,Cs=null,Is=null;function Ns(){Is=Cs=Ts=null}function xs(e){var t=Es.current;Ci(Es),e._currentValue=t}function Rs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function As(e,t){Ts=e,Is=Cs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ko=!0),e.firstContext=null)}function Ls(e){var t=e._currentValue;if(Is!==e)if(e={context:e,memoizedValue:t,next:null},null===Cs){if(null===Ts)throw Error(s(308));Cs=e,Ts.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var Ds=null;function Ps(e){null===Ds?Ds=[e]:Ds.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var js=!1;function Us(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ms(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ms(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function $s(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,r){var i=e.updateQueue;js=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=j({},d,h);break e;case 2:js=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ul|=a,e.lanes=a,e.memoizedState=d}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Ks=Ti(qs),Gs=Ti(qs),Js=Ti(qs);function Qs(e){if(e===qs)throw Error(s(174));return e}function Ys(e,t){switch(Ii(Js,t),Ii(Gs,e),Ii(Ks,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ks),Ii(Ks,t)}function Xs(){Ci(Ks),Ci(Gs),Ci(Js)}function Zs(e){Qs(Js.current);var t=Qs(Ks.current),n=le(t,e.type);t!==n&&(Ii(Gs,e),Ii(Ks,n))}function ea(e){Gs.current===e&&(Ci(Ks),Ci(Gs))}var ta=Ti(0);function na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=[];function ia(){for(var e=0;e<ra.length;e++)ra[e]._workInProgressVersionPrimary=null;ra.length=0}var sa=b.ReactCurrentDispatcher,aa=b.ReactCurrentBatchConfig,oa=0,la=null,ca=null,ua=null,da=!1,ha=!1,fa=0,ma=0;function pa(){throw Error(s(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function va(e,t,n,r,i,a){if(oa=a,la=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sa.current=null===e||null===e.memoizedState?eo:to,e=n(r,i),ha){a=0;do{if(ha=!1,fa=0,25<=a)throw Error(s(301));a+=1,ua=ca=null,t.updateQueue=null,sa.current=no,e=n(r,i)}while(ha)}if(sa.current=Za,t=null!==ca&&null!==ca.next,oa=0,ua=ca=la=null,da=!1,t)throw Error(s(300));return e}function ya(){var e=0!==fa;return fa=0,e}function wa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?la.memoizedState=ua=e:ua=ua.next=e,ua}function ba(){if(null===ca){var e=la.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===ua?la.memoizedState:ua.next;if(null!==t)ua=t,ca=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===ua?la.memoizedState=ua=e:ua=ua.next=e}return ua}function ka(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ca,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((oa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,la.lanes|=d,Ul|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(ko=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,la.lanes|=a,Ul|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ba(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(ko=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ea(){}function Ta(e,t){var n=la,r=ba(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,ko=!0),r=r.queue,ja(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,La(9,Ia.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&oa)||Ca(n,t,i)}return i}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=la.updateQueue)?(t={lastEffect:null,stores:null},la.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,xa(t)&&Ra(e)}function Na(e,t,n){return n((function(){xa(t)&&Ra(e)}))}function xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ra(e){var t=Ms(e,1);null!==t&&ic(t,e,1,-1)}function Aa(e){var t=wa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=Ja.bind(null,la,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=la.updateQueue)?(t={lastEffect:null,stores:null},la.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ba().memoizedState}function Pa(e,t,n,r){var i=wa();la.flags|=e,i.memoizedState=La(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var i=ba();r=void 0===r?null:r;var s=void 0;if(null!==ca){var a=ca.memoizedState;if(s=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=La(t,n,s,r))}la.flags|=e,i.memoizedState=La(1|t,n,s,r)}function Ma(e,t){return Pa(8390656,8,e,t)}function ja(e,t){return Oa(2048,8,e,t)}function Ua(e,t){return Oa(4,2,e,t)}function Fa(e,t){return Oa(4,4,e,t)}function Va(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,Va.bind(null,t,e),n)}function Ba(){}function $a(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&oa)?(e.baseState&&(e.baseState=!1,ko=!0),e.memoizedState=n):(or(n,t)||(n=pt(),la.lanes|=n,Ul|=n,e.baseState=!0),t)}function qa(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=aa.transition;aa.transition={};try{e(!1),t()}finally{wt=n,aa.transition=r}}function Ka(){return ba().memoizedState}function Ga(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ya(t,n);else if(null!==(n=Os(e,t,n,r))){ic(n,e,r,nc()),Xa(n,t,r)}}function Ja(e,t,n){var r=rc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Os(e,t,i,r))&&(ic(n,e,r,i=nc()),Xa(n,t,r))}}function Qa(e){var t=e.alternate;return e===la||null!==t&&t===la}function Ya(e,t){ha=da=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Za={readContext:Ls,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},eo={readContext:Ls,useCallback:function(e,t){return wa().memoizedState=[e,void 0===t?null:t],e},useContext:Ls,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=wa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,la,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wa().memoizedState=e},useState:Aa,useDebugValue:Ba,useDeferredValue:function(e){return wa().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=qa.bind(null,e[1]),wa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=la,i=wa();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&oa)||Ca(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Na.bind(null,r,a,e),[e]),r.flags|=2048,La(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=wa(),t=Al.identifierPrefix;if(as){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ma++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},to={readContext:Ls,useCallback:$a,useContext:Ls,useEffect:ja,useImperativeHandle:za,useInsertionEffect:Ua,useLayoutEffect:Fa,useMemo:Ha,useReducer:Sa,useRef:Da,useState:function(){return Sa(ka)},useDebugValue:Ba,useDeferredValue:function(e){return Wa(ba(),ca.memoizedState,e)},useTransition:function(){return[Sa(ka)[0],ba().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Ta,useId:Ka,unstable_isNewReconciler:!1},no={readContext:Ls,useCallback:$a,useContext:Ls,useEffect:ja,useImperativeHandle:za,useInsertionEffect:Ua,useLayoutEffect:Fa,useMemo:Ha,useReducer:_a,useRef:Da,useState:function(){return _a(ka)},useDebugValue:Ba,useDeferredValue:function(e){var t=ba();return null===ca?t.memoizedState=e:Wa(t,ca.memoizedState,e)},useTransition:function(){return[_a(ka)[0],ba().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Ta,useId:Ka,unstable_isNewReconciler:!1};function ro(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function io(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),s=Vs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(ic(t,e,i,r),Bs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),s=Vs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(ic(t,e,i,r),Bs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),i=Vs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zs(e,i,r))&&(ic(t,e,r,n),Bs(t,e,r))}};function ao(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oo(e,t,n){var r=!1,i=Ni,s=t.contextType;return"object"===typeof s&&null!==s?s=Ls(s):(i=Di(t)?Ai:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Li(e,i):Ni),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function lo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function co(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Us(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ls(s):(s=Di(t)?Ai:xi.current,i.context=Li(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(io(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&so.enqueueReplaceState(i,i.state,null),Hs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function uo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ho(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var mo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Vs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Kl=r),fo(0,t)},n}function go(e,t,n){(n=Vs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){fo(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function wo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vs(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=b.ReactCurrentOwner,ko=!1;function So(e,t,n,r){t.child=null===e?_s(t,null,n,r):Ss(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return As(t,i),r=va(e,t,n,r,s,i),n=ya(),null===e||ko?(as&&n&&ns(t),t.flags|=1,So(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function Eo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,To(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qo(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function To(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ko=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qo(e,t,i);0!==(131072&e.flags)&&(ko=!0)}}return No(e,t,n,r,i)}function Co(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ol,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ii(Ol,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ii(Ol,Pl),Pl|=r;return So(e,t,i,n),t.child}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,i){var s=Di(n)?Ai:xi.current;return s=Li(t,s),As(t,i),n=va(e,t,n,r,s,i),r=ya(),null===e||ko?(as&&r&&ns(t),t.flags|=1,So(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function xo(e,t,n,r,i){if(Di(n)){var s=!0;ji(t)}else s=!1;if(As(t,i),null===t.stateNode)Wo(e,t),oo(t,n,r),co(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ls(c):c=Li(t,c=Di(n)?Ai:xi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&lo(t,a,r,c),js=!1;var h=t.memoizedState;a.state=h,Hs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ri.current||js?("function"===typeof u&&(io(t,n,u,r),l=t.memoizedState),(o=js||ao(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ro(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ls(l):l=Li(t,l=Di(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&lo(t,a,r,l),js=!1,h=t.memoizedState,a.state=h,Hs(t,r,a,i);var m=t.memoizedState;o!==d||h!==m||Ri.current||js?("function"===typeof f&&(io(t,n,f,r),m=t.memoizedState),(c=js||ao(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ro(e,t,n,r,s,i)}function Ro(e,t,n,r,i,s){Io(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ui(t,n,!1),qo(e,t,s);r=t.stateNode,bo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ss(t,e.child,null,s),t.child=Ss(t,null,o,s)):So(e,t,o,s),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Ys(e,t.containerInfo)}function Lo(e,t,n,r,i){return ps(),gs(i),t.flags|=256,So(e,t,n,r),t.child}var Do,Po,Oo,Mo,jo={dehydrated:null,treeContext:null,retryLane:0};function Uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,a=ta.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ii(ta,1&a),null===e)return ds(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Uc(l,i,0,null),e=jc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Uo(n),t.memoizedState=jo,e):Vo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=ho(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Uc({mode:"visible",children:r.children},i,0,null),(a=jc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ss(t,e.child,null,o),t.child.memoizedState=Uo(o),t.memoizedState=jo,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=ho(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),ko||l){if(null!==(r=Al)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ms(e,i),ic(r,e,i,-1))}return vc(),zo(e,t,o,r=ho(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ss=ci(i.nextSibling),is=t,as=!0,os=null,null!==e&&(Gi[Ji++]=Yi,Gi[Ji++]=Xi,Gi[Ji++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=Vo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=jc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Uo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=jo,i}return e=(o=e.child).sibling,i=Oc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vo(e,t){return(t=Uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&gs(r),Ss(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Rs(e.return,t,n)}function $o(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(So(e,t,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ta,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===na(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$o(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===na(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$o(t,!0,n,null,s);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jo(e,t,n){var r=t.pendingProps;switch(rs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Di(t.type)&&Pi(),Go(t),null;case 3:return r=t.stateNode,Xs(),Ci(Ri),Ci(xi),ia(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==os&&(lc(os),os=null))),Po(e,t),Go(t),null;case 5:ea(t);var i=Qs(Js.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=Qs(Ks.current),fs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Do(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Q(e,r),i=J(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Mo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Js.current),Qs(Ks.current),fs(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=is))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Go(t),null;case 13:if(Ci(ta),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==ss&&0!==(1&t.mode)&&0===(128&t.flags))ms(),ps(),t.flags|=98560,a=!1;else if(a=fs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==os&&(lc(os),os=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ta.current)?0===Ml&&(Ml=3):vc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Xs(),Po(e,t),null===e&&Br(t.stateNode.containerInfo),Go(t),null;case 10:return xs(t.type._context),Go(t),null;case 19:if(Ci(ta),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=na(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ta,1&ta.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Hl&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=na(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!as)return Go(t),null}else 2*Ye()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ta.current,Ii(ta,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(rs(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ci(Ri),Ci(xi),ia(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ea(t),null;case 13:if(Ci(ta),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ta),null;case 4:return Xs(),null;case 10:return xs(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Do=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Ks.current);var s,a=null;switch(n){case"input":i=J(e,i),r=J(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Mo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var rl=!1;function il(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&nl(t,n,s)}i=i.next}while(i!==r)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[pi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,fl=!1;function ml(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||tl(n,t);case 6:var r=hl,i=fl;hl=null,ml(e,t,n),fl=i,null!==(hl=r)&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=fl,hl=n.stateNode.containerInfo,fl=!0,ml(e,t,n),hl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&nl(n,t,a),i=i.next}while(i!==r)}ml(e,t,n);break;case 1:if(!Xo&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cc(n,t,o)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,ml(e,t,n),Xo=r):ml(e,t,n);break;default:ml(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,fl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(a,o,i),hl=null,fl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Cc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),wl(e),4&r){try{il(3,e,e.return),sl(3,e)}catch(g){Cc(e,e.return,g)}try{il(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:vl(t,e),wl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(vl(t,e),wl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(i,!!a.multiple,m,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Cc(e,e.return,g)}}break;case 6:if(vl(t,e),wl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Cc(e,e.return,g)}}break;case 3:if(vl(t,e),wl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:vl(t,e),wl(e);break;case 13:vl(t,e),wl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Ye())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,vl(t,e),Xo=u):vl(t,e),wl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(m=(f=el).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:tl(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Cc(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==m?(m.return=f,el=m):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Cc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),wl(e),4&r&&gl(e);case 21:}}function wl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),dl(e,cl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ul(e,cl(e),a);break;default:throw Error(s(161))}}catch(o){Cc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){el=e,kl(e,t,n)}function kl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var i=el,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Yo;var c=Xo;if(Yo=a,(Xo=l)&&!c)for(el=i;null!==el;)l=(a=el).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,el=l):El(i);for(;null!==s;)el=s,kl(s,t,n),s=s.sibling;el=i,Yo=o,Xo=c}Sl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,el=s):Sl(e)}}function Sl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||sl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ro(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ws(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&al(t)}catch(f){Cc(t,t.return,f)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function _l(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function El(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var s=t.return;try{al(t)}catch(l){Cc(t,s,l)}break;case 5:var a=t.return;try{al(t)}catch(l){Cc(t,a,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){el=null;break}var o=t.sibling;if(null!==o){o.return=t.return,el=o;break}el=t.return}}var Tl,Cl=Math.ceil,Il=b.ReactCurrentDispatcher,Nl=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Rl=0,Al=null,Ll=null,Dl=0,Pl=0,Ol=Ti(0),Ml=0,jl=null,Ul=0,Fl=0,Vl=0,zl=null,Bl=null,$l=0,Hl=1/0,Wl=null,ql=!1,Kl=null,Gl=null,Jl=!1,Ql=null,Yl=0,Xl=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&Rl)?Ye():-1!==ec?ec:ec=Ye()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Dl?Dl&-Dl:null!==vs.transition?(0===tc&&(tc=pt()),tc):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ic(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(s(185));vt(e,n,r),0!==(2&Rl)&&e===Al||(e===Al&&(0===(2&Rl)&&(Fl|=n),4===Ml&&cc(e,Dl)),sc(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Hl=Ye()+500,Vi&&$i()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Al?Dl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),ai((function(){0===(6&Rl)&&$i()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(ec=-1,tc=0,0!==(6&Rl))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Rl;Rl|=2;var a=gc();for(Al===e&&Dl===t||(Wl=null,Hl=Ye()+500,mc(e,t));;)try{bc();break}catch(l){pc(e,l)}Ns(),Il.current=a,Rl=i,null!==Ll?t=0:(Al=null,Dl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=oc(e,i))),1===t)throw n=jl,mc(e,0),cc(e,r),sc(e,Ye()),n;if(6===t)cc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=mt(e))&&(r=a,t=oc(e,a))),1===t))throw n=jl,mc(e,0),cc(e,r),sc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,Bl,Wl);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=$l+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Bl,Wl),t);break}_c(e,Bl,Wl);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Bl,Wl),r);break}_c(e,Bl,Wl);break;default:throw Error(s(329))}}}return sc(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&lc(t)),e}function lc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function cc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Rl))throw Error(s(327));Ec();var t=ht(e,0);if(0===(1&t))return sc(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=jl,mc(e,0),cc(e,t),sc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Bl,Wl),sc(e,Ye()),null}function dc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Hl=Ye()+500,Vi&&$i())}}function hc(e){null!==Ql&&0===Ql.tag&&0===(6&Rl)&&Ec();var t=Rl;Rl|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0===(6&(Rl=t))&&$i()}}function fc(){Pl=Ol.current,Ci(Ol)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(rs(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Xs(),Ci(Ri),Ci(xi),ia();break;case 5:ea(r);break;case 4:Xs();break;case 13:case 19:Ci(ta);break;case 10:xs(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Al=e,Ll=e=Oc(e.current,null),Dl=Pl=t,Ml=0,jl=null,Vl=Fl=Ul=0,Bl=zl=null,null!==Ds){for(t=0;t<Ds.length;t++)if(null!==(r=(n=Ds[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ds=null}return e}function pc(e,t){for(;;){var n=Ll;try{if(Ns(),sa.current=Za,da){for(var r=la.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}da=!1}if(oa=0,ua=ca=la=null,ha=!1,fa=0,Nl.current=null,null===n||null===n.return){Ml=1,jl=t,Ll=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yo(o);if(null!==m){m.flags&=-257,wo(m,o,l,0,t),1&m.mode&&vo(a,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){vo(a,u,t),vc();break e}c=Error(s(426))}else if(as&&1&l.mode){var v=yo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),wo(v,o,l,0,t),gs(uo(c,l));break e}}a=c=uo(c,l),4!==Ml&&(Ml=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,$s(a,po(0,c,t));break e;case 1:l=c;var y=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,$s(a,go(a,l,t));break e}}a=a.return}while(null!==a)}Sc(n)}catch(b){t=b,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function gc(){var e=Il.current;return Il.current=Za,null===e?Za:e}function vc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Al||0===(268435455&Ul)&&0===(268435455&Fl)||cc(Al,Dl)}function yc(e,t){var n=Rl;Rl|=2;var r=gc();for(Al===e&&Dl===t||(Wl=null,mc(e,t));;)try{wc();break}catch(i){pc(e,i)}if(Ns(),Rl=n,Il.current=r,null!==Ll)throw Error(s(261));return Al=null,Dl=0,Ml}function wc(){for(;null!==Ll;)kc(Ll)}function bc(){for(;null!==Ll&&!Je();)kc(Ll)}function kc(e){var t=Tl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?Sc(e):Ll=t,Nl.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Jo(n,t,Pl)))return void(Ll=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Ml=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Ml&&(Ml=5)}function _c(e,t,n){var r=wt,i=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{Ec()}while(null!==Ql);if(0!==(6&Rl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Al&&(Ll=Al=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Ac(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xl.transition,xl.transition=null;var o=wt;wt=1;var l=Rl;Rl|=4,Nl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Zi){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ro(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(Zi){Cc(t,t.return,Zi)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}p=rl,rl=!1}(e,n),yl(n,e),mr(ti),Ht=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Qe(),Rl=l,wt=o,xl.transition=a}else e.current=n;if(Jl&&(Jl=!1,Ql=e,Yl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,$i()}(e,t,n,r)}finally{xl.transition=i,wt=r}return null}function Ec(){if(null!==Ql){var e=bt(Yl),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Rl))throw Error(s(331));var i=Rl;for(Rl|=4,el=e.current;null!==el;){var a=el,o=a.child;if(0!==(16&el.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:il(8,d,a)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var f=(d=el).sibling,m=d.return;if(ol(d),d===u){el=null;break}if(null!==f){f.return=m,el=f;break}el=m}}}var p=a.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}el=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,el=o;else e:for(;null!==el;){if(0!==(2048&(a=el).flags))switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,el=y;break e}el=a.return}}var w=e.current;for(el=w;null!==el;){var b=(o=el).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,el=b;else e:for(o=w;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(S){Cc(l,l.return,S)}if(l===o){el=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,el=k;break e}el=l.return}}if(Rl=i,$i(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Tc(e,t,n){e=zs(e,t=po(0,t=uo(n,t),1),1),t=nc(),null!==e&&(vt(e,1,t),sc(e,t))}function Cc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=zs(t,e=go(t,e=uo(n,e),1),1),e=nc(),null!==t&&(vt(t,1,e),sc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Dl&n)===n&&(4===Ml||3===Ml&&(130023424&Dl)===Dl&&500>Ye()-$l?mc(e,0):Vl|=n),sc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Ms(e,t))&&(vt(e,t,n),sc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Nc(e,n)}function Ac(e,t){return Ke(e,t)}function Lc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Lc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return jc(n.children,i,a,t);case E:o=8,i|=8;break;case T:return(e=Dc(12,n,t,2|i)).elementType=T,e.lanes=a,e;case x:return(e=Dc(13,n,t,i)).elementType=x,e.lanes=a,e;case R:return(e=Dc(19,n,t,i)).elementType=R,e.lanes=a,e;case D:return Uc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case I:o=9;break e;case N:o=11;break e;case A:o=14;break e;case L:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function jc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Uc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,a,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Us(s),e}function $c(e){if(!e)return Ni;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Mi(e,n,t)}return t}function Hc(e,t,n,r,i,s,a,o,l){return(e=Bc(n,r,!0,e,0,s,0,o,l)).context=$c(null),n=e.current,(s=Vs(r=nc(),i=rc(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,i),e.current.lanes=i,vt(e,i,r),sc(e,r),e}function Wc(e,t,n,r){var i=t.current,s=nc(),a=rc(i);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(i,t,a))&&(ic(e,i,a,s),Bs(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ko=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ko=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),ps();break;case 5:Zs(t);break;case 1:Di(t.type)&&ji(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ta,1&ta.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ii(ta,1&ta.current),null!==(e=qo(e,t,n))?e.sibling:null);Ii(ta,1&ta.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ta,ta.current),r)break;return null;case 22:case 23:return t.lanes=0,Co(e,t,n)}return qo(e,t,n)}(e,t,n);ko=0!==(131072&e.flags)}else ko=!1,as&&0!==(1048576&t.flags)&&ts(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var i=Li(t,xi.current);As(t,n),i=va(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,ji(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Us(t),i.updater=so,t.stateNode=i,i._reactInternals=t,co(t,r,e,n),t=Ro(null,t,r,!0,a,n)):(t.tag=0,as&&a&&ns(t),So(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(r),e=ro(r,e),i){case 0:t=No(null,t,r,e,n);break e;case 1:t=xo(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,ro(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:ro(r,i),n);case 1:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:ro(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fs(e,t),Hs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Lo(e,t,r,n,i=uo(Error(s(423)),t));break e}if(r!==i){t=Lo(e,t,r,n,i=uo(Error(s(424)),t));break e}for(ss=ci(t.stateNode.containerInfo.firstChild),is=t,as=!0,os=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=qo(e,t,n);break e}So(e,t,r,n)}t=t.child}return t;case 5:return Zs(t),null===e&&ds(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Io(e,t),So(e,t,o,n),t.child;case 6:return null===e&&ds(t),null;case 13:return Fo(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ss(t,null,r,n):So(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:ro(r,i),n);case 7:return So(e,t,t.pendingProps,n),t.child;case 8:case 12:return So(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ii(Es,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ri.current){t=qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Vs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Rs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Rs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}So(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,As(t,n),r=r(i=Ls(i)),t.flags|=1,So(e,t,r,n),t.child;case 14:return i=ro(r=t.type,t.pendingProps),Eo(e,t,r,i=ro(r.type,i),n);case 15:return To(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ro(r,i),Wo(e,t),t.tag=1,Di(r)?(e=!0,ji(t)):e=!1,As(t,n),oo(t,r,i),co(t,r,i,n),Ro(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return Co(e,t,n)}throw Error(s(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=qc(a);o.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(a);s.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=a,e[mi]=a.current,Br(8===e.nodeType?e.parentNode:e),hc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[mi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return qc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[mi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),sc(t,Ye()),0===(6&Rl)&&(Hl=Ye()+500,$i()))}break;case 13:hc((function(){var t=Ms(e,1);if(null!==t){var n=nc();ic(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)ic(t,e,134217728,nc());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=rc(e),n=Ms(e,t);if(null!==n)ic(n,e,t,nc());Gc(e,t)}},Et=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(s(90));K(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=dc,xe=hc;var nu={usingClientEntryPoint:!1,Events:[wi,bi,ki,Ce,Ie,dc]},ru={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{it=su.inject(iu),st=su}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,o),e[mi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){tu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mi]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.p="/";var r=n(43),i=n(391),s=(n(358),"popstate");function a(){return f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,h="POP",f=null,m=p();function p(){return(l.state||{idx:null}).idx}function g(){h="POP";let e=p(),t=null==e?null:e-m;m=e,f&&f({action:h,location:y.location,delta:t})}function v(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),o(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==m&&(m=0,l.replaceState({...l.state,idx:m},""));let y={get action(){return h},get location(){return e(i,l)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(s,g),f=e,()=>{i.removeEventListener(s,g),f=null}},createHref:e=>t(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let r=u(y.location,e,t);n&&n(r,e),m=p()+1;let s=c(r,m),o=y.createHref(r);try{l.pushState(s,"",o)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(o)}a&&f&&f({action:h,location:y.location,delta:1})},replace:function(e,t){h="REPLACE";let r=u(y.location,e,t);n&&n(r,e),m=p();let i=c(r,m),s=y.createHref(r);l.replaceState(i,"",s),a&&f&&f({action:h,location:y.location,delta:0})},go:e=>l.go(e)};return y}new WeakMap;function m(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let i=x(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let s=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=N(i);a=C(s[o],e,r)}return a}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let l=P([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:T(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of v(e.path))i(e,t,n);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=v(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var y=/^:[\w-]+$/,w=3,b=2,k=1,S=10,_=-2,E=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=_),t&&(r+=b),n.filter((e=>!E(e))).reduce(((e,t)=>e+(y.test(t)?w:""===t?k:S)),r)}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:P([s,u.pathname]),pathnameBase:O(P([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=P([s,u.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function x(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e){let t=A(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function D(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=h(e):(r={...e},o(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let s,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:M(r),hash:j(i)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),d=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var P=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var F=["POST","PUT","PATCH","DELETE"],V=(new Set(F),["GET",...F]);new Set(V),Symbol("ResetLoaderData");var z=r.createContext(null);z.displayName="DataRouter";var B=r.createContext(null);B.displayName="DataRouterState";var $=r.createContext({isTransitioning:!1});$.displayName="ViewTransition";var H=r.createContext(new Map);H.displayName="Fetchers";var W=r.createContext(null);W.displayName="Await";var q=r.createContext(null);q.displayName="Navigation";var K=r.createContext(null);K.displayName="Location";var G=r.createContext({outlet:null,matches:[],isDataRoute:!1});G.displayName="Route";var J=r.createContext(null);J.displayName="RouteError";function Q(){return null!=r.useContext(K)}function Y(){return o(Q(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(K).location}var X="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(e){r.useContext(q).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(G);return e?function(){let{router:e}=ue("useNavigate"),t=he("useNavigate"),n=r.useRef(!1);Z((()=>{n.current=!0}));let i=r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(n.current,X),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))}),[e,t]);return i}():function(){o(Q(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(z),{basename:t,navigator:n}=r.useContext(q),{matches:i}=r.useContext(G),{pathname:s}=Y(),a=JSON.stringify(L(i)),c=r.useRef(!1);Z((()=>{c.current=!0}));let u=r.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,X),!c.current)return;if("number"===typeof r)return void n.go(r);let o=D(r,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:P([t,o.pathname])),(i.replace?n.replace:n.push)(o,i.state,i)}),[t,n,a,s,e]);return u}()}r.createContext(null);function te(){let{matches:e}=r.useContext(G),t=e[e.length-1];return t?t.params:{}}function ne(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(G),{pathname:i}=Y(),s=JSON.stringify(L(n));return r.useMemo((()=>D(e,JSON.parse(s),i,"path"===t)),[e,s,i,t])}function re(e,t,n,i){o(Q(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=r.useContext(q),{matches:c}=r.useContext(G),u=c[c.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let e=g&&g.path||"";pe(f,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=Y();if(t){let e="string"===typeof t?h(t):t;o("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let w=v.pathname||"/",b=w;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let k=!a&&n&&n.matches&&n.matches.length>0?n.matches:m(e,{pathname:b});l(g||null!=k,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),l(null==k||void 0!==k[k.length-1].route.element||void 0!==k[k.length-1].route.Component||void 0!==k[k.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=le(k&&k.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:P([p,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:P([p,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,n,i);return t&&S?r.createElement(K.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function ie(){let e=fe(),t=U(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,o)}var se=r.createElement(ie,null),ae=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(G.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(z);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(G.Provider,{value:t},i)}function le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,s=n?.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){a=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((e,o,c)=>{let u,d=!1,h=null,f=null;n&&(u=s&&o.route.id?s[o.route.id]:void 0,h=o.route.errorElement||se,a&&(l<0&&0===c?(pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=o.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,c+1)),p=()=>{let t;return t=u?h:d?f:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(oe,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?r.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()}),null)}function ce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ue(e){let t=r.useContext(z);return o(t,ce(e)),t}function de(e){let t=r.useContext(B);return o(t,ce(e)),t}function he(e){let t=function(e){let t=r.useContext(G);return o(t,ce(e)),t}(e),n=t.matches[t.matches.length-1];return o(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function fe(){let e=r.useContext(J),t=de("useRouteError"),n=he("useRouteError");return void 0!==e?e:t.errors?.[n]}var me={};function pe(e,t,n){t||me[e]||(me[e]=!0,l(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return re(t,void 0,r,n)}));function ge(e){let{to:t,replace:n,state:i,relative:s}=e;o(Q(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=r.useContext(q);l(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=r.useContext(G),{pathname:u}=Y(),d=ee(),h=D(t,L(c),u,"path"===s),f=JSON.stringify(h);return r.useEffect((()=>{d(JSON.parse(f),{replace:n,state:i,relative:s})}),[d,f,s,n,i]),null}function ve(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(e){let{basename:t="/",children:n=null,location:i,navigationType:s="POP",navigator:a,static:c=!1}=e;o(!Q(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:u,navigator:a,static:c,future:{}})),[u,a,c]);"string"===typeof i&&(i=h(i));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:v="default"}=i,y=r.useMemo((()=>{let e=x(f,u);return null==e?null:{location:{pathname:e,search:m,hash:p,state:g,key:v},navigationType:s}}),[u,f,m,p,g,v,s]);return l(null!=y,`<Router basename="${u}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:r.createElement(q.Provider,{value:d},r.createElement(K.Provider,{children:n,value:y}))}function we(e){let{children:t,location:n}=e;return re(be(t),n)}r.Component;function be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,be(e.props.children,s));o(e.type===ve,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=be(e.props.children,s)),n.push(a)})),n}var ke="get",Se="application/x-www-form-urlencoded";function _e(e){return null!=e&&"string"===typeof e.tagName}var Ee=null;var Te=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ce(e){return null==e||Te.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Se}"`),null)}function Ie(e,t){let n,r,i,s,a;if(_e(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?x(a,t):null,n=e.getAttribute("method")||ke,i=Ce(e.getAttribute("enctype"))||Se,s=new FormData(e)}else if(function(e){return _e(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return _e(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?x(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||ke,i=Ce(e.getAttribute("formenctype"))||Ce(a.getAttribute("enctype"))||Se,s=new FormData(a,e),!function(){if(null===Ee)try{new FormData(document.createElement("form"),0),Ee=!1}catch(e){Ee=!0}return Ee}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(_e(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ke,r=null,i=Se,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Ne(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function xe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Re(e){return null!=e&&"string"===typeof e.page}function Ae(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Le(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function De(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Pe(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Re(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Oe(e){return{__html:e}}Symbol("SingleFetchRedirect");function Me(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===x(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}r.Component;function je(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(U(t))return r.createElement(Ue,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(Ue,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Ue(e){let{title:t,renderScripts:n,isOutsideRemixApp:i,children:s}=e,{routeModules:a}=$e();return a.root?.Layout&&!i?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,n?r.createElement(Qe,null):null)))}function Fe(e){return!0===e}function Ve(){let e=r.useContext(z);return Ne(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ze(){let e=r.useContext(B);return Ne(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Be=r.createContext(void 0);function $e(){let e=r.useContext(Be);return Ne(e,"You must render this element inside a <HydratedRouter> element"),e}function He(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function We(e,t,n){if(n&&!Je)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function qe(e){let{page:t,...n}=e,{router:i}=Ve(),s=r.useMemo((()=>m(i.routes,t,i.basename)),[i.routes,t,i.basename]);return s?r.createElement(Ge,{page:t,matches:s,...n}):null}function Ke(e){let{manifest:t,routeModules:n}=$e(),[i,s]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return Pe((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await xe(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ae).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||s(e)})),()=>{r=!0}}),[e,t,n]),i}function Ge(e){let{page:t,matches:n,...i}=e,s=Y(),{manifest:a,routeModules:o}=$e(),{basename:l}=Ve(),{loaderData:c,matches:u}=ze(),d=r.useMemo((()=>Le(t,n,u,a,s,"data")),[t,n,u,a,s]),h=r.useMemo((()=>Le(t,n,u,a,s,"assets")),[t,n,u,a,s]),f=r.useMemo((()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=a.routes[t.route.id];n&&n.hasLoader&&(!d.some((e=>e.route.id===t.route.id))&&t.route.id in c&&o[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=Me(t,l);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,s,a,d,n,t,o]),m=r.useMemo((()=>De(h,a)),[h,a]),p=Ke(h);return r.createElement(r.Fragment,null,f.map((e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),m.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),p.map((e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})})))}Be.displayName="FrameworkContext";var Je=!1;function Qe(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,ssr:s,renderMeta:a}=$e(),{router:o,static:l,staticContext:c}=Ve(),{matches:u}=ze(),d=Fe(s);a&&(a.didRenderScripts=!0);let h=We(u,null,i);r.useEffect((()=>{Je=!0}),[]);let f=r.useMemo((()=>{let i=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=l?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(t.url)}`};\n${h.map(((e,n)=>{let r=`route${n}`,i=t.routes[e.route.id];Ne(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map((e=>e.route.id))),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push(`/${s.join("/")}`),s.pop();a.forEach((e=>{let n=m(t.routes,e,t.basename);n&&n.forEach((e=>i.add(e.route.id)))}));let o=[...i].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:o,sri:!!n||void 0}}(t,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(i),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(s),type:"module",async:!0}))}),[]),p=Je?[]:(g=t.entry.imports.concat(De(h,t,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let v="object"===typeof t.sri?t.sri:{};return Je?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,d?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:v[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:v[t.entry.module],suppressHydrationWarning:!0}),p.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:v[t],suppressHydrationWarning:!0}))),f)}function Ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Xe&&(window.__reactRouterVersion="7.5.0")}catch(ay){}function Ze(e){let{basename:t,children:n,window:i}=e,s=r.useRef();null==s.current&&(s.current=a({window:i,v5Compat:!0}));let o=s.current,[l,c]=r.useState({action:o.action,location:o.location}),u=r.useCallback((e=>{r.startTransition((()=>c(e)))}),[c]);return r.useLayoutEffect((()=>o.listen(u)),[o,u]),r.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=r.forwardRef((function(e,t){let n,{onClick:i,discover:s="render",prefetch:a="none",relative:c,reloadDocument:u,replace:h,state:f,target:m,to:p,preventScrollReset:g,viewTransition:v,...y}=e,{basename:w}=r.useContext(q),b="string"===typeof p&&et.test(p),k=!1;if("string"===typeof p&&b&&(n=p,Xe))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=x(t.pathname,w);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:k=!0}catch(ay){l(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(Q(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(q),{hash:s,pathname:a,search:l}=ne(e,{relative:t}),c=a;return"/"!==n&&(c="/"===a?n:P([n,a])),i.createHref({pathname:c,search:l,hash:s})}(p,{relative:c}),[_,E,T]=function(e,t){let n=r.useContext(Be),[i,s]=r.useState(!1),[a,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(i){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let m=()=>{s(!0)},p=()=>{s(!1),o(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:He(l,m),onBlur:He(c,p),onMouseEnter:He(u,m),onMouseLeave:He(d,p),onTouchStart:He(h,m)}]:[!1,f,{}]}(a,y),C=function(e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),c=Y(),u=ne(e,{relative:a});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:d(c)===d(u);l(e,{replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:o})}}),[c,l,u,n,i,t,e,s,a,o])}(p,{replace:h,state:f,target:m,preventScrollReset:g,relative:c,viewTransition:v});let I=r.createElement("a",{...y,...T,href:n||S,onClick:k||u?i:function(e){i&&i(e),e.defaultPrevented||C(e)},ref:Ye(t,E),target:m,"data-discover":b||"render"!==s?void 0:"true"});return _&&!b?r.createElement(r.Fragment,null,I,r.createElement(qe,{page:S})):I}));tt.displayName="Link";var nt=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=ne(c,{relative:h.relative}),m=Y(),p=r.useContext(B),{navigator:g,basename:v}=r.useContext(q),y=null!=p&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext($);o(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=st("useViewTransitionState"),s=ne(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=x(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=x(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=I(s.pathname,l)||null!=I(s.pathname,a)}(f)&&!0===u,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=m.pathname,k=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(b=b.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&v&&(k=x(k,v)||k);const S="/"!==w&&w.endsWith("/")?w.length-1:w.length;let _,E=b===w||!a&&b.startsWith(w)&&"/"===b.charAt(S),T=null!=k&&(k===w||!a&&k.startsWith(w)&&"/"===k.charAt(w.length)),C={isActive:E,isPending:T,isTransitioning:y},N=E?n:void 0;_="function"===typeof s?s(C):[s,E?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(C):l;return r.createElement(tt,{...h,"aria-current":N,className:_,ref:t,style:R,to:c,viewTransition:u},"function"===typeof d?d(C):d)}));nt.displayName="NavLink";var rt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:s,reloadDocument:a,replace:l,state:c,method:u=ke,action:h,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:g,...v}=e,y=lt(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(q),i=r.useContext(G);o(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...ne(e||".",{relative:t})},l=Y();if(null==e){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:P([n,a.pathname]));return d(a)}(h,{relative:m}),b="get"===u.toLowerCase()?"get":"post",k="string"===typeof h&&et.test(h);return r.createElement("form",{ref:t,method:b,action:w,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;y(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:c,relative:m,preventScrollReset:p,viewTransition:g})},...v,"data-discover":k||"render"!==n?void 0:"true"})}));function it(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function st(e){let t=r.useContext(z);return o(t,it(e)),t}rt.displayName="Form";var at=0,ot=()=>`__${String(++at)}__`;function lt(){let{router:e}=st("useSubmit"),{basename:t}=r.useContext(q),n=he("useRouteId");return r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=Ie(r,t);if(!1===i.navigate){let t=i.fetcherKey||ot();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;const ct=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ut={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ct(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new dt;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class dt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ht=function(e){return function(e){const t=ct(e);return ut.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ft=function(e){try{return ut.decodeString(e,!0)}catch(ay){console.error("base64Decode failed: ",ay)}return null};const mt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,pt=()=>{try{return mt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:""}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ay){return}const t=e&&ft(e[1]);return t&&JSON.parse(t)})()}catch(ay){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ay}`)}},gt=e=>{var t,n;return null===(n=null===(t=pt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},vt=e=>{const t=gt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},yt=()=>{var e;return null===(e=pt())||void 0===e?void 0:e.config},wt=e=>{var t;return null===(t=pt())||void 0===t?void 0:t[`_${e}`]};class bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function kt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ht(JSON.stringify({alg:"none",type:"JWT"})),ht(JSON.stringify(s)),""].join(".")}function St(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _t(){return!function(){var e;const t=null===(e=pt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(ay){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Et(){try{return"object"===typeof indexedDB}catch(ay){return!1}}class Tt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ct.prototype.create)}}class Ct{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(It,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Tt(n,s,t)}}const It=/\{\$([^}]+)}/g;function Nt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(xt(n)&&xt(s)){if(!Nt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xt(e){return null!==e&&"object"===typeof e}function Rt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function At(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Lt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Dt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Pt),void 0===r.error&&(r.error=Pt),void 0===r.complete&&(r.complete=Pt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ay){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ay){"undefined"!==typeof console&&console.error&&console.error(ay)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Pt(){}function Ot(e){return e&&e._delegate?e._delegate:e}class Mt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jt="[DEFAULT]";class Ut{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new bt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ay){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ay){if(r)return null;throw ay}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:jt})}catch(ay){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ay){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===jt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.component?this.component.multipleInstances?e:jt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ft{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ut(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Vt=[];var zt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zt||(zt={}));const Bt={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},$t=zt.INFO,Ht={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},Wt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ht[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class qt{constructor(e){this.name=e,this._logLevel=$t,this._logHandler=Wt,this._userLogHandler=null,Vt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Bt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}let Kt,Gt;const Jt=new WeakMap,Qt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap;let en={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function tn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gt||(Gt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(sn(this),n),rn(Jt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rn(e.apply(sn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(sn(this),t,...r);return Yt.set(s,t.sort?t.sort():[t]),rn(s)}}function nn(e){return"function"===typeof e?tn(e):(e instanceof IDBTransaction&&function(e){if(Qt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Qt.set(e,t)}(e),t=e,(Kt||(Kt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,en):e);var t}function rn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(rn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Jt.set(t,e)})).catch((()=>{})),Zt.set(t,e),t}(e);if(Xt.has(e))return Xt.get(e);const t=nn(e);return t!==e&&(Xt.set(e,t),Zt.set(t,e)),t}const sn=e=>Zt.get(e);const an=["get","getKey","getAll","getAllKeys","count"],on=["put","add","delete","clear"],ln=new Map;function cn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ln.get(t))return ln.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=on.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!an.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return ln.set(t,s),s}en=(e=>({...e,get:(t,n,r)=>cn(t,n)||e.get(t,n,r),has:(t,n)=>!!cn(t,n)||e.has(t,n)}))(en);class un{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const dn="@firebase/app",hn="0.11.4",fn=new qt("@firebase/app"),mn="@firebase/app-compat",pn="@firebase/analytics-compat",gn="@firebase/analytics",vn="@firebase/app-check-compat",yn="@firebase/app-check",wn="@firebase/auth",bn="@firebase/auth-compat",kn="@firebase/database",Sn="@firebase/data-connect",_n="@firebase/database-compat",En="@firebase/functions",Tn="@firebase/functions-compat",Cn="@firebase/installations",In="@firebase/installations-compat",Nn="@firebase/messaging",xn="@firebase/messaging-compat",Rn="@firebase/performance",An="@firebase/performance-compat",Ln="@firebase/remote-config",Dn="@firebase/remote-config-compat",Pn="@firebase/storage",On="@firebase/storage-compat",Mn="@firebase/firestore",jn="@firebase/vertexai",Un="@firebase/firestore-compat",Fn="firebase",Vn="[DEFAULT]",zn={[dn]:"fire-core",[mn]:"fire-core-compat",[gn]:"fire-analytics",[pn]:"fire-analytics-compat",[yn]:"fire-app-check",[vn]:"fire-app-check-compat",[wn]:"fire-auth",[bn]:"fire-auth-compat",[kn]:"fire-rtdb",[Sn]:"fire-data-connect",[_n]:"fire-rtdb-compat",[En]:"fire-fn",[Tn]:"fire-fn-compat",[Cn]:"fire-iid",[In]:"fire-iid-compat",[Nn]:"fire-fcm",[xn]:"fire-fcm-compat",[Rn]:"fire-perf",[An]:"fire-perf-compat",[Ln]:"fire-rc",[Dn]:"fire-rc-compat",[Pn]:"fire-gcs",[On]:"fire-gcs-compat",[Mn]:"fire-fst",[Un]:"fire-fst-compat",[jn]:"fire-vertex","fire-js":"fire-js",[Fn]:"fire-js-all"},Bn=new Map,$n=new Map,Hn=new Map;function Wn(e,t){try{e.container.addComponent(t)}catch(ay){fn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,ay)}}function qn(e){const t=e.name;if(Hn.has(t))return fn.debug(`There were multiple attempts to register component ${t}.`),!1;Hn.set(t,e);for(const n of Bn.values())Wn(n,e);for(const n of $n.values())Wn(n,e);return!0}function Kn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Jn=new Ct("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Qn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Mt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}const Yn="11.6.0";function Xn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Vn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Jn.create("bad-app-name",{appName:String(i)});if(n||(n=yt()),!n)throw Jn.create("no-options");const s=Bn.get(i);if(s){if(Nt(n,s.options)&&Nt(r,s.config))return s;throw Jn.create("duplicate-app",{appName:i})}const a=new Ft(i);for(const l of Hn.values())a.addComponent(l);const o=new Qn(n,r,a);return Bn.set(i,o),o}function Zn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn;const t=Bn.get(e);if(!t&&e===Vn&&yt())return Xn();if(!t)throw Jn.create("no-app",{appName:e});return t}function er(e,t,n){var r;let i=null!==(r=zn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void fn.warn(e.join(" "))}qn(new Mt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const tr="firebase-heartbeat-store";let nr=null;function rr(){return nr||(nr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=rn(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(rn(a.result),e.oldVersion,e.newVersion,rn(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(tr)}catch(ay){console.warn(ay)}}}).catch((e=>{throw Jn.create("idb-open",{originalErrorMessage:e.message})}))),nr}async function ir(e,t){try{const n=(await rr()).transaction(tr,"readwrite"),r=n.objectStore(tr);await r.put(t,sr(e)),await n.done}catch(ay){if(ay instanceof Tt)fn.warn(ay.message);else{const t=Jn.create("idb-set",{originalErrorMessage:null===ay||void 0===ay?void 0:ay.message});fn.warn(t.message)}}}function sr(e){return`${e.name}!${e.options.appId}`}class ar{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=or();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(ay){fn.warn(ay)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=or(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),cr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ht(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(ay){return fn.warn(ay),""}}}function or(){return(new Date).toISOString().substring(0,10)}class lr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Et()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await rr()).transaction(tr),n=await t.objectStore(tr).get(sr(e));return await t.done,n}catch(ay){if(ay instanceof Tt)fn.warn(ay.message);else{const t=Jn.create("idb-get",{originalErrorMessage:null===ay||void 0===ay?void 0:ay.message});fn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ir(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ir(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function cr(e){return ht(JSON.stringify({version:2,heartbeats:e})).length}var ur;ur="",qn(new Mt("platform-logger",(e=>new un(e)),"PRIVATE")),qn(new Mt("heartbeat",(e=>new ar(e)),"PRIVATE")),er(dn,hn,ur),er(dn,hn,"esm2017"),er("fire-js","");er("firebase","11.6.0","app");const dr="firebasestorage.googleapis.com",hr="storageBucket";class fr extends Tt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(gr(e),`Firebase Storage: ${t} (${gr(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gr(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var mr,pr;function gr(e){return"storage/"+e}function vr(){return new fr(mr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function yr(){return new fr(mr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wr(){return new fr(mr.CANCELED,"User canceled the upload/download.")}function br(e){return new fr(mr.INVALID_ARGUMENT,e)}function kr(){return new fr(mr.APP_DELETED,"The Firebase app was deleted.")}function Sr(e){throw new fr(mr.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(mr||(mr={}));class _r{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=_r.makeFromUrl(e,t)}catch(ay){return new _r(e,"")}if(""===n.path)return n;throw r=e,new fr(mr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===dr?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new _r(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new fr(mr.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Er{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Tr(e){return"string"===typeof e||e instanceof String}function Cr(e,t,n,r){if(r<t)throw br(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw br(`Invalid value for '${e}'. Expected ${n} or less.`)}function Ir(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Nr(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function xr(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(pr||(pr={}));class Rr{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Ar(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===pr.NO_ERROR,i=n.getStatus();if(!t||xr(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===pr.ABORT;return void e(!1,new Ar(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Ar(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(ay){r(ay)}else if(null!==i){const e=vr();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?kr():wr())}else{r(yr())}};this.canceled_?t(0,new Ar(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let m=!1;function p(e){m||(m=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,p(!0)}),n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ar{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Lr(e){let t;try{t=JSON.parse(e)}catch(ay){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function Dr(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Pr(e,t){return t}class Or{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Pr}}let Mr=null;function jr(){if(Mr)return Mr;const e=[];e.push(new Or("bucket")),e.push(new Or("generation")),e.push(new Or("metageneration")),e.push(new Or("name","fullPath",!0));const t=new Or("name");t.xform=function(e,t){return function(e){return!Tr(e)||e.length<2?e:Dr(e)}(t)},e.push(t);const n=new Or("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Or("timeCreated")),e.push(new Or("updated")),e.push(new Or("md5Hash",null,!0)),e.push(new Or("cacheControl",null,!0)),e.push(new Or("contentDisposition",null,!0)),e.push(new Or("contentEncoding",null,!0)),e.push(new Or("contentLanguage",null,!0)),e.push(new Or("contentType",null,!0)),e.push(new Or("metadata","customMetadata",!0)),Mr=e,Mr}function Ur(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new _r(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Fr(e,t,n){const r=Lr(t);if(null===r)return null;return Ur(e,r,n)}class Vr{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function zr(e){if(!e)throw vr()}function Br(e,t){return function(n,r){const i=Fr(e,r,t);return zr(null!==i),function(e,t,n,r){const i=Lr(t);if(null===i)return null;if(!Tr(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return Ir("/b/"+a(i)+"/o/"+a(s),n,r)+Nr({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function $r(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new fr(mr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new fr(mr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new fr(mr.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new fr(mr.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Hr(e){const t=$r(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new fr(mr.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}class Wr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pr.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=pr.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=pr.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Sr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sr("cannot .getStatus() before sending");try{return this.xhr_.status}catch(ay){return-1}}getResponse(){if(!this.sent_)throw Sr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class qr extends Wr{initXhr(){this.xhr_.responseType="text"}}function Kr(){return new qr}class Gr{constructor(e,t){this._service=e,this._location=t instanceof _r?t:_r.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gr(e,t)}get root(){const e=new _r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Dr(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new _r(this._location.bucket,e);return new Gr(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new fr(mr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Jr(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Ir(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Vr(r,"GET",Br(e,n),i);return s.errorHandler=Hr(t),s}(e.storage,e._location,jr());return e.storage.makeRequestWithTokens(t,Kr).then((e=>{if(null===e)throw new fr(mr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Qr(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new _r(e._location.bucket,n);return new Gr(e.storage,r)}function Yr(e,t){if(e instanceof ei){const n=e;if(null==n._bucket)throw new fr(mr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hr+"' property when initializing the app?");const r=new Gr(n,n._bucket);return null!=t?Yr(r,t):r}return void 0!==t?Qr(e,t):e}function Xr(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ei)return new Gr(e,t);throw br("To use ref(service, url), the first argument must be a Storage instance.")}return Yr(e,t)}function Zr(e,t){const n=null===t||void 0===t?void 0:t[hr];return null==n?null:_r.makeFromBucketSpec(n,e)}class ei{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=dr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?_r.makeFromBucketSpec(r,this._host):Zr(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=_r.makeFromBucketSpec(this._url,e):this._bucket=Zr(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cr("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cr("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gr(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Er(kr());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Nr(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Rr(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const ti="@firebase/storage",ni="0.13.7",ri="storage";function ii(e){return Jr(e=Ot(e))}function si(e,t){return Xr(e=Ot(e),t)}function ai(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new ei(r,i,s,n,Yn)}qn(new Mt(ri,ai,"PUBLIC").setMultipleInstances(!0)),er(ti,ni,""),er(ti,ni,"esm2017");var oi,li,ci="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ui={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new p(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new p(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),p=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,m(n,2*i+2*s),n[2*i+2*s+1]+=l*g,m(n,2*i+2*s+1),n[2*i+2*s+1]+=f*p,m(n,2*i+2*s+1),n[2*i+2*s+2]+=l*p,m(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,li=ui.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},oi=ui.Integer=r}).apply("undefined"!==typeof ci?ci:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var di,hi,fi,mi,pi,gi,vi,yi,wi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},bi={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof wi&&wi];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=x;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,N=!1,x=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(A)}};var A=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){_(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function L(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,D);var M={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function q(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=te(n),e&&e[j]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[j]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function J(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)J(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function Y(e){return e in W?W[e]:W[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){L.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;k(t=new D(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,L),ne.prototype[j]=!0,ne.prototype.removeEventListener=function(e,t,n,r){J(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends L{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){L.call(this),this.h=e,this.g={}}d(le,L);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){D.call(this,"d")}function we(){D.call(this,"c")}d(ye,D),d(we,D);var be={},ke=null;function Se(){return ke=ke||new ne}function _e(e){D.call(this,be.La,e)}function Ee(e){const t=Se();re(t,new _e(t))}function Te(e,t){D.call(this,be.STAT_EVENT,e),this.stat=t}function Ce(e){const t=Se();re(t,new Te(t,e))}function Ie(e,t){D.call(this,be.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function xe(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",d(_e,D),be.STAT_EVENT="statevent",d(Te,D),be.Ma="timingevent",d(Ie,D),xe.prototype.xa=function(){this.g=!1},xe.prototype.info=function(){};var Ae,Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Pe,me),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ae=new Pe;var je={},Ue={};function Fe(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=q(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Qt(n)}rn(n),Ce(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),$e(o)),r.g=a}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Jt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||Ee(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=qt(this.g);e="";var s=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),qe(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Ke(this),qe(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Ue){4==h&&(this.s=4,Ce(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==je){this.s=4,Ce(15),Re(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Ce(11))}}else Re(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),qe(this)}else Re(this.i,this.l,o,null),Ge(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ke(this),qe(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ke(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Ce(17)),Ke(this),this.s=2,qe(this)):He(this,this.S-e)};var Je=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new kt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new kt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof kt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),Tt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new kt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var pt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){St(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return St(e),t=Ct(e,t),e.g.has(t)}function Tt(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Nt(){this.g=new fe}function xt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(ay){throw t.push(r+"type="+encodeURIComponent("_badmap")),ay}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Lt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function jt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=kt.prototype).add=function(e,t){St(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,Et(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Rt,me),Rt.prototype.g=function(){return new At(this.l,this.j)},Rt.prototype.i=(pt={},function(){return pt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Pt(this),3==this.readyState&&Lt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(jt,ne);var Ut=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),$t(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ut.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(ay){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Si){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Jt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Qt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||R(),N||(I(),N=!0),x.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{xt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||R(),N||(I(),N=!0),x.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ie(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new xe;if(i.Image){const r=new Image;r.onload=u(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(It,n,"TestLoadImage: error",!1,t,r),r.onabort=u(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(It,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout((()=>{n.abort(),It(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)})).catch((()=>{clearTimeout(r),It(0,0,!1,t)}))}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),dn(e),Yt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new jt(new Rt({eb:n})):new jt(e.pa)).Ha(e.J),t}function mn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=jt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?pe(this.o):pe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=w(s),k(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ot(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Qt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Jt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Je(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,we),d(wn,mn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new vn(e))},wn.prototype.sa=function(e){re(this.g,new yn)},wn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,yi=bi.createWebChannelTransport=function(){return new pn},vi=bi.getStatEventTarget=function(){return Se()},gi=bi.Event=be,pi=bi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,mi=bi.ErrorCode=Le,De.COMPLETE="complete",fi=bi.EventType=De,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,hi=bi.WebChannel=ge,bi.FetchXmlHttpFactory=Rt,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,di=bi.XhrIo=jt}).apply("undefined"!==typeof wi?wi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ki="@firebase/firestore",Si="4.7.10";class _i{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");let Ei="11.5.0";const Ti=new qt("@firebase/firestore");function Ci(){return Ti.logLevel}function Ii(e){if(Ti.logLevel<=zt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ri);Ti.debug(`Firestore (${Ei}): ${e}`,...i)}}function Ni(e){if(Ti.logLevel<=zt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ri);Ti.error(`Firestore (${Ei}): ${e}`,...i)}}function xi(e){if(Ti.logLevel<=zt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ri);Ti.warn(`Firestore (${Ei}): ${e}`,...i)}}function Ri(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ai(){const e=`FIRESTORE (${Ei}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Ni(e),new Error(e)}function Li(e,t){e||Ai()}function Di(e,t){return e}const Pi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oi extends Tt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ji{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ui{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(_i.UNAUTHENTICATED)))}shutdown(){}}class Fi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Vi{constructor(e){this.t=e,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Li(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mi,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Ii("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Ii("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mi)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ii("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Li("string"==typeof t.accessToken),new ji(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Li(null===e||"string"==typeof e),new _i(e)}}class zi{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Bi{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new zi(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(_i.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $i{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hi{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Gn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Li(void 0===this.o);const n=e=>{null!=e.error&&Ii("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Ii("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ii("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ii("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new $i(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Li("string"==typeof e.token),this.R=e.token,new $i(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Wi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function qi(){return new TextEncoder}class Ki{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Wi(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Gi(e,t){return e<t?-1:e>t?1:0}function Ji(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Gi(r,i);{const s=qi(),a=Yi(s.encode(Qi(e,n)),s.encode(Qi(t,n)));return 0!==a?a:Gi(r,i)}}n+=r>65535?2:1}return Gi(e.length,t.length)}function Qi(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Yi(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Gi(e[n],t[n]);return Gi(e.length,t.length)}function Xi(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Zi=-62135596800,es=1e6;class ts{static now(){return ts.fromMillis(Date.now())}static fromDate(e){return ts.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*es);return new ts(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oi(Pi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oi(Pi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Zi)throw new Oi(Pi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oi(Pi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/es}_compareTo(e){return this.seconds===e.seconds?Gi(this.nanoseconds,e.nanoseconds):Gi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Zi;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ns{static fromTimestamp(e){return new ns(e)}static min(){return new ns(new ts(0,0))}static max(){return new ns(new ts(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const rs="__name__";class is{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ai(),void 0===n?n=e.length-t:n>e.length-t&&Ai(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===is.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof is?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=is.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Gi(e.length,t.length)}static compareSegments(e,t){const n=is.isNumericId(e),r=is.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?is.extractNumericId(e).compare(is.extractNumericId(t)):Ji(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oi.fromString(e.substring(4,e.length-2))}}class ss extends is{construct(e,t,n){return new ss(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Oi(Pi.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new ss(e)}static emptyPath(){return new ss([])}}const as=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class os extends is{construct(e,t,n){return new os(e,t,n)}static isValidIdentifier(e){return as.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),os.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===rs}static keyField(){return new os([rs])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Oi(Pi.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Oi(Pi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Oi(Pi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Oi(Pi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new os(t)}static emptyPath(){return new os([])}}class ls{constructor(e){this.path=e}static fromPath(e){return new ls(ss.fromString(e))}static fromName(e){return new ls(ss.fromString(e).popFirst(5))}static empty(){return new ls(ss.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ss.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ss.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ls(new ss(e.slice()))}}const cs=-1;class us{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}us.UNKNOWN_ID=-1;function ds(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ns.fromTimestamp(1e9===r?new ts(n+1,0):new ts(n,r));return new fs(i,ls.empty(),t)}function hs(e){return new fs(e.readTime,e.key,cs)}class fs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new fs(ns.min(),ls.empty(),cs)}static max(){return new fs(ns.max(),ls.empty(),cs)}}function ms(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ls.comparator(e.documentKey,t.documentKey),0!==n?n:Gi(e.largestBatchId,t.largestBatchId))}const ps="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vs(e){if(e.code!==Pi.FAILED_PRECONDITION||e.message!==ps)throw e;Ii("LocalStore","Unexpectedly lost primary lease")}class ys{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ai(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ys(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ys?t:ys.resolve(t)}catch(e){return ys.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ys.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ys.reject(t)}static resolve(e){return new ys(((t,n)=>{t(e)}))}static reject(e){return new ys(((t,n)=>{n(e)}))}static waitFor(e){return new ys(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=ys.resolve(!1);for(const n of e)t=t.next((e=>e?ys.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ys(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new ys(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function ws(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bs(e){return"IndexedDbTransactionError"===e.name}class ks{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ks.ae=-1;const Ss=-1;function _s(e){return null==e}function Es(e){return 0===e&&1/e==-1/0}function Ts(e){return"number"==typeof e&&Number.isInteger(e)&&!Es(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Cs="\x01";function Is(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=xs(t)),t=Ns(e.get(n),t);return xs(t)}function Ns(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Cs:n+="\x01\x11";break;default:n+=t}}return n}function xs(e){return e+Cs+"\x01"}const Rs="remoteDocuments",As="owner",Ls="mutationQueues",Ds="mutations";const Ps="documentMutations",Os="remoteDocumentsV14",Ms="remoteDocumentGlobal",js="targets",Us="targetDocuments",Fs="targetGlobal",Vs="collectionParents",zs="clientMetadata",Bs="bundles",$s="namedQueries",Hs="indexConfiguration",Ws="indexState",qs="indexEntries",Ks="documentOverlays",Gs="globals",Js=[Ls,Ds,Ps,Rs,js,As,Fs,Us,zs,Ms,Vs,Bs,$s],Qs=[Ls,Ds,Ps,Os,js,As,Fs,Us,zs,Ms,Vs,Bs,$s,Ks],Ys=Qs,Xs=[...Ys,Hs,Ws,qs];function Zs(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ea(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ta(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class na{constructor(e,t){this.comparator=e,this.root=t||ia.EMPTY}insert(e,t){return new na(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ia.BLACK,null,null))}remove(e){return new na(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ia.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ra(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ra(this.root,e,this.comparator,!1)}getReverseIterator(){return new ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ra(this.root,e,this.comparator,!0)}}class ra{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ia{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ia.RED,this.left=null!=r?r:ia.EMPTY,this.right=null!=i?i:ia.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ia(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ia.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ia.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ia.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ia.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ai();if(this.right.isRed())throw Ai();const e=this.left.check();if(e!==this.right.check())throw Ai();return e+(this.isRed()?0:1)}}ia.EMPTY=null,ia.RED=!0,ia.BLACK=!1,ia.EMPTY=new class{constructor(){this.size=0}get key(){throw Ai()}get value(){throw Ai()}get color(){throw Ai()}get left(){throw Ai()}get right(){throw Ai()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ia(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sa{constructor(e){this.comparator=e,this.data=new na(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aa(this.data.getIterator())}getIteratorFrom(e){return new aa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof sa))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new sa(this.comparator);return t.data=e,t}}class aa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oa{constructor(e){this.fields=e,e.sort(os.comparator)}static empty(){return new oa([])}unionWith(e){let t=new sa(os.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new oa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xi(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class la extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ca{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new la("Invalid base64 string: "+e):e}}(e);return new ca(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ca(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ca.EMPTY_BYTE_STRING=new ca("");const ua=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(e){if(Li(!!e),"string"==typeof e){let t=0;const n=ua.exec(e);if(Li(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ha(e.seconds),nanos:ha(e.nanos)}}function ha(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fa(e){return"string"==typeof e?ca.fromBase64String(e):ca.fromUint8Array(e)}const ma="server_timestamp",pa="__type__",ga="__previous_value__",va="__local_write_time__";function ya(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[pa])||void 0===n?void 0:n.stringValue)===ma}function wa(e){const t=e.mapValue.fields[ga];return ya(t)?wa(t):t}function ba(e){const t=da(e.mapValue.fields[va].timestampValue);return new ts(t.seconds,t.nanos)}class ka{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}const Sa="(default)";class _a{constructor(e,t){this.projectId=e,this.database=t||Sa}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database===Sa}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}const Ea="__type__",Ta="__max__",Ca={mapValue:{fields:{__type__:{stringValue:Ta}}}},Ia="__vector__",Na="value";function xa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ya(e)?4:qa(e)?9007199254740991:Ha(e)?10:11:Ai()}function Ra(e,t){if(e===t)return!0;const n=xa(e);if(n!==xa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ba(e).isEqual(ba(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=da(e.timestampValue),r=da(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fa(e.bytesValue).isEqual(fa(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ha(e.geoPointValue.latitude)===ha(t.geoPointValue.latitude)&&ha(e.geoPointValue.longitude)===ha(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ha(e.integerValue)===ha(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ha(e.doubleValue),r=ha(t.doubleValue);return n===r?Es(n)===Es(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xi(e.arrayValue.values||[],t.arrayValue.values||[],Ra);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zs(n)!==Zs(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ra(n[i],r[i])))return!1;return!0}(e,t);default:return Ai()}}function Aa(e,t){return void 0!==(e.values||[]).find((e=>Ra(e,t)))}function La(e,t){if(e===t)return 0;const n=xa(e),r=xa(t);if(n!==r)return Gi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ha(e.integerValue||e.doubleValue),r=ha(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Da(e.timestampValue,t.timestampValue);case 4:return Da(ba(e),ba(t));case 5:return Ji(e.stringValue,t.stringValue);case 6:return function(e,t){const n=fa(e),r=fa(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Gi(n[i],r[i]);if(0!==e)return e}return Gi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Gi(ha(e.latitude),ha(t.latitude));return 0!==n?n:Gi(ha(e.longitude),ha(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Pa(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Na])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Na])||void 0===r?void 0:r.arrayValue,u=Gi((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Pa(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ca.mapValue&&t===Ca.mapValue)return 0;if(e===Ca.mapValue)return 1;if(t===Ca.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Ji(r[a],s[a]);if(0!==e)return e;const t=La(n[r[a]],i[s[a]]);if(0!==t)return t}return Gi(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ai()}}function Da(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gi(e,t);const n=da(e),r=da(t),i=Gi(n.seconds,r.seconds);return 0!==i?i:Gi(n.nanos,r.nanos)}function Pa(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=La(n[i],r[i]);if(e)return e}return Gi(n.length,r.length)}function Oa(e){return Ma(e)}function Ma(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=da(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return fa(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ls.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ma(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ma(e.fields[i])}`;return n+"}"}(e.mapValue):Ai()}function ja(e){switch(xa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wa(e);return t?16+ja(t):16;case 5:return 2*e.stringValue.length;case 6:return fa(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+ja(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ea(e.fields,((e,n)=>{t+=e.length+ja(n)})),t}(e.mapValue);default:throw Ai()}}function Ua(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Fa(e){return!!e&&"integerValue"in e}function Va(e){return!!e&&"arrayValue"in e}function za(e){return!!e&&"nullValue"in e}function Ba(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $a(e){return!!e&&"mapValue"in e}function Ha(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Ea])||void 0===n?void 0:n.stringValue)===Ia}function Wa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ea(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Wa(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wa(e.arrayValue.values[n]);return t}return Object.assign({},e)}function qa(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ta}class Ka{constructor(e){this.value=e}static empty(){return new Ka({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$a(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wa(t)}setAll(e){let t=os.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Wa(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());$a(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];$a(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ea(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ka(Wa(this.value))}}function Ga(e){const t=[];return ea(e.fields,((e,n)=>{const r=new os([e]);if($a(n)){const e=Ga(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new oa(t)}class Ja{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ja(e,0,ns.min(),ns.min(),ns.min(),Ka.empty(),0)}static newFoundDocument(e,t,n,r){return new Ja(e,1,t,ns.min(),n,r,0)}static newNoDocument(e,t){return new Ja(e,2,t,ns.min(),ns.min(),Ka.empty(),0)}static newUnknownDocument(e,t){return new Ja(e,3,t,ns.min(),ns.min(),Ka.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ns.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ka.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ka.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ns.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ja&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ja(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qa{constructor(e,t){this.position=e,this.inclusive=t}}function Ya(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ls.comparator(ls.fromName(a.referenceValue),n.key):La(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Xa(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ra(e.position[n],t.position[n]))return!1;return!0}class Za{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function eo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class to{}class no extends to{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new uo(e,t,n):"array-contains"===t?new po(e,n):"in"===t?new go(e,n):"not-in"===t?new vo(e,n):"array-contains-any"===t?new yo(e,n):new no(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ho(e,n):new fo(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(La(t,this.value)):null!==t&&xa(this.value)===xa(t)&&this.matchesComparison(La(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ai()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ro extends to{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ro(e,t)}matches(e){return io(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function io(e){return"and"===e.op}function so(e){return ao(e)&&io(e)}function ao(e){for(const t of e.filters)if(t instanceof ro)return!1;return!0}function oo(e){if(e instanceof no)return e.field.canonicalString()+e.op.toString()+Oa(e.value);if(so(e))return e.filters.map((e=>oo(e))).join(",");{const t=e.filters.map((e=>oo(e))).join(",");return`${e.op}(${t})`}}function lo(e,t){return e instanceof no?function(e,t){return t instanceof no&&e.op===t.op&&e.field.isEqual(t.field)&&Ra(e.value,t.value)}(e,t):e instanceof ro?function(e,t){return t instanceof ro&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&lo(n,t.filters[r])),!0)}(e,t):void Ai()}function co(e){return e instanceof no?function(e){return`${e.field.canonicalString()} ${e.op} ${Oa(e.value)}`}(e):e instanceof ro?function(e){return e.op.toString()+" {"+e.getFilters().map(co).join(" ,")+"}"}(e):"Filter"}class uo extends no{constructor(e,t,n){super(e,t,n),this.key=ls.fromName(n.referenceValue)}matches(e){const t=ls.comparator(e.key,this.key);return this.matchesComparison(t)}}class ho extends no{constructor(e,t){super(e,"in",t),this.keys=mo("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class fo extends no{constructor(e,t){super(e,"not-in",t),this.keys=mo("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function mo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ls.fromName(e.referenceValue)))}class po extends no{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Va(t)&&Aa(t.arrayValue,this.value)}}class go extends no{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Aa(this.value.arrayValue,t)}}class vo extends no{constructor(e,t){super(e,"not-in",t)}matches(e){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Aa(this.value.arrayValue,t)}}class yo extends no{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Va(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Aa(this.value.arrayValue,e)))}}class wo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.le=null}}function bo(e){return new wo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ko(e){const t=Di(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>oo(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),_s(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Oa(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Oa(e))).join(",")),t.le=e}return t.le}function So(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!eo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!lo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xa(e.startAt,t.startAt)&&Xa(e.endAt,t.endAt)}function _o(e){return ls.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Eo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function To(e,t,n,r,i,s,a,o){return new Eo(e,t,n,r,i,s,a,o)}function Co(e){return new Eo(e)}function Io(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function No(e){return null!==e.collectionGroup}function xo(e){const t=Di(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new sa(os.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Za(r,n))})),e.has(os.keyField().canonicalString())||t.he.push(new Za(os.keyField(),n))}return t.he}function Ro(e){const t=Di(e);return t.Pe||(t.Pe=Ao(t,xo(e))),t.Pe}function Ao(e,t){if("F"===e.limitType)return bo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Za(e.field,t)}));const n=e.endAt?new Qa(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qa(e.startAt.position,e.startAt.inclusive):null;return bo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Lo(e,t){const n=e.filters.concat([t]);return new Eo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Do(e,t,n){return new Eo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Po(e,t){return So(Ro(e),Ro(t))&&e.limitType===t.limitType}function Oo(e){return`${ko(Ro(e))}|lt:${e.limitType}`}function Mo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>co(e))).join(", ")}]`),_s(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Oa(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Oa(e))).join(",")),`Target(${t})`}(Ro(e))}; limitType=${e.limitType})`}function jo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ls.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of xo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ya(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xo(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ya(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xo(e),t))}(e,t)}function Uo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fo(e){return(t,n)=>{let r=!1;for(const i of xo(e)){const e=Vo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Vo(e,t,n){const r=e.field.isKeyField()?ls.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?La(r,i):Ai()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ai()}}class zo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ta(this.inner)}size(){return this.innerSize}}const Bo=new na(ls.comparator);function $o(){return Bo}const Ho=new na(ls.comparator);function Wo(){let e=Ho;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function qo(e){let t=Ho;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ko(){return Jo()}function Go(){return Jo()}function Jo(){return new zo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Qo=new na(ls.comparator),Yo=new sa(ls.comparator);function Xo(){let e=Yo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Zo=new sa(Gi);function el(){return Zo}function tl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Es(t)?"-0":t}}function nl(e){return{integerValue:""+e}}function rl(e,t){return Ts(t)?nl(t):tl(e,t)}class il{constructor(){this._=void 0}}function sl(e,t,n){return e instanceof ll?function(e,t){const n={fields:{[pa]:{stringValue:ma},[va]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ya(t)&&(t=wa(t)),t&&(n.fields[ga]=t),{mapValue:n}}(n,t):e instanceof cl?ul(e,t):e instanceof dl?hl(e,t):function(e,t){const n=ol(e,t),r=ml(n)+ml(e.Ie);return Fa(n)&&Fa(e.Ie)?nl(r):tl(e.serializer,r)}(e,t)}function al(e,t,n){return e instanceof cl?ul(e,t):e instanceof dl?hl(e,t):n}function ol(e,t){return e instanceof fl?function(e){return Fa(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ll extends il{}class cl extends il{constructor(e){super(),this.elements=e}}function ul(e,t){const n=pl(t);for(const r of e.elements)n.some((e=>Ra(e,r)))||n.push(r);return{arrayValue:{values:n}}}class dl extends il{constructor(e){super(),this.elements=e}}function hl(e,t){let n=pl(t);for(const r of e.elements)n=n.filter((e=>!Ra(e,r)));return{arrayValue:{values:n}}}class fl extends il{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ml(e){return ha(e.integerValue||e.doubleValue)}function pl(e){return Va(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class gl{constructor(e,t){this.field=e,this.transform=t}}class vl{constructor(e,t){this.version=e,this.transformResults=t}}class yl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yl}static exists(e){return new yl(void 0,e)}static updateTime(e){return new yl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class bl{}function kl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Al(e.key,yl.none()):new Cl(e.key,e.data,yl.none());{const n=e.data,r=Ka.empty();let i=new sa(os.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Il(e.key,r,new oa(i.toArray()),yl.none())}}function Sl(e,t,n){e instanceof Cl?function(e,t,n){const r=e.value.clone(),i=xl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Il?function(e,t,n){if(!wl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=xl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _l(e,t,n,r){return e instanceof Cl?function(e,t,n,r){if(!wl(e.precondition,t))return n;const i=e.value.clone(),s=Rl(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Il?function(e,t,n,r){if(!wl(e.precondition,t))return n;const i=Rl(e.fieldTransforms,r,t),s=t.data;return s.setAll(Nl(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return wl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function El(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ol(r.transform,e||null);null!=i&&(null===n&&(n=Ka.empty()),n.set(r.field,i))}return n||null}function Tl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xi(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cl&&t instanceof cl||e instanceof dl&&t instanceof dl?Xi(e.elements,t.elements,Ra):e instanceof fl&&t instanceof fl?Ra(e.Ie,t.Ie):e instanceof ll&&t instanceof ll}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cl extends bl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Il extends bl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Nl(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function xl(e,t,n){const r=new Map;Li(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,al(a,o,n[i]))}return r}function Rl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,sl(e,s,t))}return r}class Al extends bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ll extends bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Sl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=_l(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=_l(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Go();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=kl(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(ns.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xo())}isEqual(e){return this.batchId===e.batchId&&Xi(this.mutations,e.mutations,((e,t)=>Tl(e,t)))&&Xi(this.baseMutations,e.baseMutations,((e,t)=>Tl(e,t)))}}class Pl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Li(e.mutations.length===n.length);let r=Qo;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Pl(e,t,n,r)}}class Ol{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ml{constructor(e,t){this.count=e,this.unchangedNames=t}}var jl,Ul;function Fl(e){switch(e){case Pi.OK:return Ai();case Pi.CANCELLED:case Pi.UNKNOWN:case Pi.DEADLINE_EXCEEDED:case Pi.RESOURCE_EXHAUSTED:case Pi.INTERNAL:case Pi.UNAVAILABLE:case Pi.UNAUTHENTICATED:return!1;case Pi.INVALID_ARGUMENT:case Pi.NOT_FOUND:case Pi.ALREADY_EXISTS:case Pi.PERMISSION_DENIED:case Pi.FAILED_PRECONDITION:case Pi.ABORTED:case Pi.OUT_OF_RANGE:case Pi.UNIMPLEMENTED:case Pi.DATA_LOSS:return!0;default:return Ai()}}function Vl(e){if(void 0===e)return Ni("GRPC error has no .code"),Pi.UNKNOWN;switch(e){case jl.OK:return Pi.OK;case jl.CANCELLED:return Pi.CANCELLED;case jl.UNKNOWN:return Pi.UNKNOWN;case jl.DEADLINE_EXCEEDED:return Pi.DEADLINE_EXCEEDED;case jl.RESOURCE_EXHAUSTED:return Pi.RESOURCE_EXHAUSTED;case jl.INTERNAL:return Pi.INTERNAL;case jl.UNAVAILABLE:return Pi.UNAVAILABLE;case jl.UNAUTHENTICATED:return Pi.UNAUTHENTICATED;case jl.INVALID_ARGUMENT:return Pi.INVALID_ARGUMENT;case jl.NOT_FOUND:return Pi.NOT_FOUND;case jl.ALREADY_EXISTS:return Pi.ALREADY_EXISTS;case jl.PERMISSION_DENIED:return Pi.PERMISSION_DENIED;case jl.FAILED_PRECONDITION:return Pi.FAILED_PRECONDITION;case jl.ABORTED:return Pi.ABORTED;case jl.OUT_OF_RANGE:return Pi.OUT_OF_RANGE;case jl.UNIMPLEMENTED:return Pi.UNIMPLEMENTED;case jl.DATA_LOSS:return Pi.DATA_LOSS;default:return Ai()}}(Ul=jl||(jl={}))[Ul.OK=0]="OK",Ul[Ul.CANCELLED=1]="CANCELLED",Ul[Ul.UNKNOWN=2]="UNKNOWN",Ul[Ul.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ul[Ul.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ul[Ul.NOT_FOUND=5]="NOT_FOUND",Ul[Ul.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ul[Ul.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ul[Ul.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ul[Ul.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ul[Ul.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ul[Ul.ABORTED=10]="ABORTED",Ul[Ul.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ul[Ul.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ul[Ul.INTERNAL=13]="INTERNAL",Ul[Ul.UNAVAILABLE=14]="UNAVAILABLE",Ul[Ul.DATA_LOSS=15]="DATA_LOSS";let zl=null;const Bl=new oi([4294967295,4294967295],0);function $l(e){const t=qi().encode(e),n=new li;return n.update(t),new Uint8Array(n.digest())}function Hl(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new oi([n,r],0),new oi([i,s],0)]}class Wl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ql(`Invalid padding: ${t}`);if(n<0)throw new ql(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new ql(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ql(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=oi.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(oi.fromNumber(n)));return 1===r.compare(Bl)&&(r=new oi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=$l(e),[n,r]=Hl(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Wl(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ee)return;const t=$l(e),[n,r]=Hl(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Kl(ns.min(),r,new na(Gi),$o(),Xo())}}class Gl{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Gl(n,t,Xo(),Xo(),Xo())}}class Jl{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Ql{constructor(e,t){this.targetId=e,this.ge=t}}class Yl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ca.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Xl{constructor(){this.pe=0,this.ye=tc(),this.we=ca.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Xo(),t=Xo(),n=Xo();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ai()}})),new Gl(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=tc()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Li(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Zl{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$o(),this.$e=ec(),this.Ue=ec(),this.Ke=new na(Gi)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Ai()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(_o(i))if(0===n){const e=new ls(i.path);this.ze(t,e,Ja.newNoDocument(e,ns.min()))}else Li(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==zl||zl.rt(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=fa(n).toUint8Array()}catch(e){if(e instanceof la)return xi("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Wl(s,r,i)}catch(e){return xi(e instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&_o(i.target)){const t=new ls(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Ja.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Xo();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Kl(e,t,this.Ke,this.Qe,n);return this.Qe=$o(),this.$e=ec(),this.Ue=ec(),this.Ke=new na(Gi),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Xl,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new sa(Gi),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new sa(Gi),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Ii("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Xl),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ec(){return new na(ls.comparator)}function tc(){return new na(ls.comparator)}const nc={asc:"ASCENDING",desc:"DESCENDING"},rc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ic={and:"AND",or:"OR"};class sc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ac(e,t){return e.useProto3Json||_s(t)?t:{value:t}}function oc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cc(e,t){return oc(e,t.toTimestamp())}function uc(e){return Li(!!e),ns.fromTimestamp(function(e){const t=da(e);return new ts(t.seconds,t.nanos)}(e))}function dc(e,t){return hc(e,t).canonicalString()}function hc(e,t){const n=function(e){return new ss(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function fc(e){const t=ss.fromString(e);return Li(Dc(t)),t}function mc(e,t){return dc(e.databaseId,t.path)}function pc(e,t){const n=fc(t);if(n.get(1)!==e.databaseId.projectId)throw new Oi(Pi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Oi(Pi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ls(wc(n))}function gc(e,t){return dc(e.databaseId,t)}function vc(e){const t=fc(e);return 4===t.length?ss.emptyPath():wc(t)}function yc(e){return new ss(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wc(e){return Li(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function bc(e,t,n){return{name:mc(e,t),fields:n.value.mapValue.fields}}function kc(e,t){let n;if(t instanceof Cl)n={update:bc(e,t.key,t.value)};else if(t instanceof Al)n={delete:mc(e,t.key)};else if(t instanceof Il)n={update:bc(e,t.key,t.data),updateMask:Lc(t.fieldMask)};else{if(!(t instanceof Ll))return Ai();n={verify:mc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ll)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fl)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Ai()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:cc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ai()}(e,t.precondition)),n}function Sc(e,t){return{documents:[gc(e,t.path)]}}function _c(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gc(e,i);const s=function(e){if(0!==e.length)return Ac(ro.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:xc(e.field),direction:Cc(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ac(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function Ec(e){let t=vc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Li(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Tc(e);return t instanceof ro&&so(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Za(Rc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,_s(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Qa(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Qa(n,t)}(n.endAt)),To(t,i,a,s,o,"F",l,c)}function Tc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rc(e.unaryFilter.field);return no.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Rc(e.unaryFilter.field);return no.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rc(e.unaryFilter.field);return no.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Rc(e.unaryFilter.field);return no.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ai()}}(e):void 0!==e.fieldFilter?function(e){return no.create(Rc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ai()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ro.create(e.compositeFilter.filters.map((e=>Tc(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ai()}}(e.compositeFilter.op))}(e):Ai()}function Cc(e){return nc[e]}function Ic(e){return rc[e]}function Nc(e){return ic[e]}function xc(e){return{fieldPath:e.canonicalString()}}function Rc(e){return os.fromServerFormat(e.fieldPath)}function Ac(e){return e instanceof no?function(e){if("=="===e.op){if(Ba(e.value))return{unaryFilter:{field:xc(e.field),op:"IS_NAN"}};if(za(e.value))return{unaryFilter:{field:xc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ba(e.value))return{unaryFilter:{field:xc(e.field),op:"IS_NOT_NAN"}};if(za(e.value))return{unaryFilter:{field:xc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xc(e.field),op:Ic(e.op),value:e.value}}}(e):e instanceof ro?function(e){const t=e.getFilters().map((e=>Ac(e)));return 1===t.length?t[0]:{compositeFilter:{op:Nc(e.op),filters:t}}}(e):Ai()}function Lc(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Dc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Pc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ns.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ns.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ca.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Pc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Oc{constructor(e){this.Tt=e}}function Mc(e){const t=Ec({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Do(t,t.limit,"L"):t}class jc{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(ha(e.integerValue));else if("doubleValue"in e){const n=ha(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),Es(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=da(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(fa(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?qa(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Ha(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Ai()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const s=Na,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(ha(a)),this.wt(s,t),this.Rt(i[s],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),ls.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}jc.xt=new jc;class Uc{constructor(){this.Tn=new Fc}addToCollectionParentIndex(e,t){return this.Tn.add(t),ys.resolve()}getCollectionParents(e,t){return ys.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ys.resolve()}deleteFieldIndex(e,t){return ys.resolve()}deleteAllFieldIndexes(e){return ys.resolve()}createTargetIndexes(e,t){return ys.resolve()}getDocumentsMatchingTarget(e,t){return ys.resolve(null)}getIndexType(e,t){return ys.resolve(0)}getFieldIndexes(e,t){return ys.resolve([])}getNextCollectionGroupToUpdate(e){return ys.resolve(null)}getMinOffset(e,t){return ys.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return ys.resolve(fs.min())}updateCollectionGroup(e,t,n){return ys.resolve()}updateIndexEntries(e,t){return ys.resolve()}}class Fc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sa(ss.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new sa(ss.comparator)).toArray()}}new Uint8Array(0);const Vc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zc=41943040;class Bc{static withCacheSize(e){return new Bc(e,Bc.DEFAULT_COLLECTION_PERCENTILE,Bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Bc.DEFAULT_COLLECTION_PERCENTILE=10,Bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bc.DEFAULT=new Bc(zc,Bc.DEFAULT_COLLECTION_PERCENTILE,Bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bc.DISABLED=new Bc(-1,0,0);class $c{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new $c(0)}static Kn(){return new $c(-1)}}const Hc="LruGarbageCollector",Wc=1048576;function qc(e,t){let[n,r]=e,[i,s]=t;const a=Gi(n,i);return 0===a?Gi(r,s):a}class Kc{constructor(e){this.Hn=e,this.buffer=new sa(qc),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();qc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Gc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Ii(Hc,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){bs(e)?Ii(Hc,"Ignoring IndexedDB error during garbage collection: ",e):await vs(e)}await this.er(3e5)}))}}class Jc{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ys.resolve(ks.ae);const n=new Kc(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ii("LruGarbageCollector","Garbage collection skipped; disabled"),ys.resolve(Vc)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ii("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vc):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Ii("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ci()<=zt.DEBUG&&Ii("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),ys.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Qc(e,t){return new Jc(e,t)}class Yc{constructor(){this.changes=new zo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ja.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ys.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&_l(n.mutation,e,oa.empty(),ts.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Xo()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xo();const r=Ko();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Wo();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ko();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Xo())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=$o();const s=Jo(),a=Jo();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Il)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),_l(a.mutation,t,a.mutation.getFieldMask(),ts.now())):s.set(t.key,oa.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Xc(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Jo();let r=new na(((e,t)=>e-t)),i=Xo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||oa.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Xo()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Go();l.forEach((e=>{if(!i.has(e)){const r=kl(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return ys.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ls.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):No(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ys.resolve(Ko());let a=cs,o=i;return s.next((t=>ys.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?ys.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Xo()))).next((e=>({batchId:a,changes:qo(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ls(t)).next((e=>{let t=Wo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Wo();return this.indexManager.getCollectionParents(e,i).next((a=>ys.forEach(a,(a=>{const o=function(e,t){return new Eo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ja.newInvalidDocument(r)))}));let n=Wo();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&_l(s.mutation,r,oa.empty(),ts.now()),jo(t,r)&&(n=n.insert(e,r))})),n}))}}class eu{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ys.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:uc(e.createTime)}}(t)),ys.resolve()}getNamedQuery(e,t){return ys.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:Mc(e.bundledQuery),readTime:uc(e.readTime)}}(t)),ys.resolve()}}class tu{constructor(){this.overlays=new na(ls.comparator),this.Rr=new Map}getOverlay(e,t){return ys.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ko();return ys.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),ys.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),ys.resolve()}getOverlaysForCollection(e,t,n){const r=Ko(),i=t.length+1,s=new ls(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ys.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new na(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ko(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ko(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return ys.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ol(t,n));let i=this.Rr.get(t);void 0===i&&(i=Xo(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class nu{constructor(){this.sessionToken=ca.EMPTY_BYTE_STRING}getSessionToken(e){return ys.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ys.resolve()}}class ru{constructor(){this.Vr=new sa(iu.mr),this.gr=new sa(iu.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new iu(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new iu(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new ls(new ss([])),n=new iu(t,e),r=new iu(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ls(new ss([])),n=new iu(t,e),r=new iu(t,e+1);let i=Xo();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new iu(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class iu{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ls.comparator(e.key,t.key)||Gi(e.Cr,t.Cr)}static pr(e,t){return Gi(e.Cr,t.Cr)||ls.comparator(e.key,t.key)}}class su{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new sa(iu.mr)}checkEmpty(e){return ys.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Dl(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Mr=this.Mr.add(new iu(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ys.resolve(s)}lookupMutationBatch(e,t){return ys.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return ys.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ys.resolve(0===this.mutationQueue.length?Ss:this.Fr-1)}getAllMutationBatches(e){return ys.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new iu(t,0),r=new iu(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),ys.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new sa(Gi);return t.forEach((e=>{const t=new iu(e,0),r=new iu(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),ys.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ls.isDocumentKey(i)||(i=i.child(""));const s=new iu(new ls(i),0);let a=new sa(Gi);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)}),s),ys.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Li(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return ys.forEach(t.mutations,(r=>{const i=new iu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new iu(t,0),r=this.Mr.firstAfterOrEqual(n);return ys.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ys.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class au{constructor(e){this.kr=e,this.docs=new na(ls.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ys.resolve(n?n.document.mutableCopy():Ja.newInvalidDocument(t))}getEntries(e,t){let n=$o();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ja.newInvalidDocument(e))})),ys.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=$o();const s=t.path,a=new ls(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ms(hs(a),n)<=0||(r.has(a.key)||jo(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return ys.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ai()}qr(e,t){return ys.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ou(this)}getSize(e){return ys.resolve(this.size)}}class ou extends Yc{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),ys.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class lu{constructor(e){this.persistence=e,this.Qr=new zo((e=>ko(e)),So),this.lastRemoteSnapshotVersion=ns.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ru,this.targetCount=0,this.Kr=$c.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),ys.resolve()}getLastRemoteSnapshotVersion(e){return ys.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ys.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ys.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),ys.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new $c(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ys.resolve()}updateTargetData(e,t){return this.zn(t),ys.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ys.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),ys.waitFor(i).next((()=>r))}getTargetCount(e){return ys.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return ys.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),ys.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ys.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ys.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return ys.resolve(n)}containsKey(e,t){return ys.resolve(this.Ur.containsKey(t))}}class cu{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ks(0),this.zr=!1,this.zr=!0,this.jr=new nu,this.referenceDelegate=e(this),this.Hr=new lu(this),this.indexManager=new Uc,this.remoteDocumentCache=function(e){return new au(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Oc(t),this.Yr=new eu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new su(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Ii("MemoryPersistence","Starting transaction:",e);const r=new uu(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return ys.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class uu extends gs{constructor(e){super(),this.currentSequenceNumber=e}}class du{constructor(e){this.persistence=e,this.ti=new ru,this.ni=null}static ri(e){return new du(e)}get ii(){if(this.ni)return this.ni;throw Ai()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),ys.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),ys.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ys.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ys.forEach(this.ii,(n=>{const r=ls.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,ns.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return ys.or([()=>ys.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class hu{constructor(e,t){this.persistence=e,this.oi=new zo((e=>Is(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Qc(this,t)}static ri(e,t){return new hu(e,t)}Zr(){}Xr(e){return ys.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return ys.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?ys.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,ns.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ys.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ys.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ys.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ys.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ja(e.data.value)),t}ar(e,t,n){return ys.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return ys.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Xo(),r=Xo();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new fu(e,t.fromCache,n,r)}}class mu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pu{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=_t()?8:ws(St())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new mu;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(Ci()<=zt.DEBUG&&Ii("QueryEngine","SDK will not create cache indexes for query:",Mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ys.resolve()):(Ci()<=zt.DEBUG&&Ii("QueryEngine","Query:",Mo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Ci()<=zt.DEBUG&&Ii("QueryEngine","The SDK decides to create cache indexes for query:",Mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ro(t))):ys.resolve())}rs(e,t){if(Io(t))return ys.resolve(null);let n=Ro(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Do(t,null,"F"),n=Ro(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Xo(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.cs(t,r);return this.ls(t,s,i,n.readTime)?this.rs(e,Do(t,null,"F")):this.hs(e,s,t,n)}))))})))))}ss(e,t,n,r){return Io(t)||r.isEqual(ns.min())?ys.resolve(null):this.ns.getDocuments(e,n).next((i=>{const s=this.cs(t,i);return this.ls(t,s,n,r)?ys.resolve(null):(Ci()<=zt.DEBUG&&Ii("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Mo(t)),this.hs(e,s,t,ds(r,cs)).next((e=>e)))}))}cs(e,t){let n=new sa(Fo(e));return t.forEach(((t,r)=>{jo(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return Ci()<=zt.DEBUG&&Ii("QueryEngine","Using full collection scan to execute query:",Mo(t)),this.ns.getDocumentsMatchingQuery(e,t,fs.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const gu="LocalStore";class vu{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new na(Gi),this.Is=new zo((e=>ko(e)),So),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zc(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function yu(e,t,n,r){return new vu(e,t,n,r)}async function wu(e,t){const n=Di(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Xo();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function bu(e){const t=Di(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function ku(e,t,n){let r=Xo(),i=Xo();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=$o();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ns.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ii(gu,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Vs:r,fs:i}}))}function Su(e,t){const n=Di(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Ss),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function _u(e,t){const n=Di(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,ys.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new Pc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Eu(e,t,n){const r=Di(e),i=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!bs(e))throw e;Ii(gu,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Tu(e,t,n){const r=Di(e);let i=ns.min(),s=Xo();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Di(e),i=r.Is.get(n);return void 0!==i?ys.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,Ro(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:ns.min(),n?s:Xo()))).next((e=>(Cu(r,Uo(t),e),{documents:e,gs:s})))))}function Cu(e,t,n){let r=e.Es.get(t)||ns.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Iu{constructor(){this.activeTargetIds=el()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nu{constructor(){this.ho=new Iu,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Iu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xu{To(e){}shutdown(){}}const Ru="ConnectivityMonitor";class Au{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ii(Ru,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ii(Ru,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lu=null;function Du(){return null===Lu?Lu=268435456+Math.round(2147483648*Math.random()):Lu++,"0x"+Lu.toString(16)}const Pu="RestConnection",Ou={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mu{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Sa?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const s=Du(),a=this.bo(e,t.toUriEncodedString());Ii(Pu,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,i),this.vo(e,a,o,n).then((t=>(Ii(Pu,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw xi(Pu,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ei,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Ou[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class ju{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const Uu="WebChannelConnection";class Fu extends Mu{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=Du();return new Promise(((s,a)=>{const o=new di;o.setWithCredentials(!0),o.listenOnce(fi.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case mi.NO_ERROR:const t=o.getResponseJson();Ii(Uu,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case mi.TIMEOUT:Ii(Uu,`RPC '${e}' ${i} timed out`),a(new Oi(Pi.DEADLINE_EXCEEDED,"Request time out"));break;case mi.HTTP_ERROR:const n=o.getStatus();if(Ii(Uu,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pi).indexOf(t)>=0?t:Pi.UNKNOWN}(t.status);a(new Oi(e,t.message))}else a(new Oi(Pi.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Oi(Pi.UNAVAILABLE,"Connection failed."));break;default:Ai()}}finally{Ii(Uu,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Ii(Uu,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Du(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yi(),a=vi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Ii(Uu,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new ju({Fo:t=>{h?Ii(Uu,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Ii(Uu,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Ii(Uu,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,hi.EventType.OPEN,(()=>{h||(Ii(Uu,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),m(u,hi.EventType.CLOSE,(()=>{h||(h=!0,Ii(Uu,`RPC '${e}' stream ${r} transport closed`),f.Uo())})),m(u,hi.EventType.ERROR,(t=>{h||(h=!0,xi(Uu,`RPC '${e}' stream ${r} transport errored:`,t),f.Uo(new Oi(Pi.UNAVAILABLE,"The operation could not be completed")))})),m(u,hi.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Li(!!i);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Ii(Uu,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=jl[e];if(void 0!==t)return Vl(t)}(t),i=a.message;void 0===n&&(n=Pi.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Uo(new Oi(n,i)),u.close()}else Ii(Uu,`RPC '${e}' stream ${r} received:`,i),f.Ko(i)}})),m(a,gi.STAT_EVENT,(t=>{t.stat===pi.PROXY?Ii(Uu,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===pi.NOPROXY&&Ii(Uu,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function Vu(){return"undefined"!=typeof document?document:null}function zu(e){return new sc(e,!0)}class Bu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Ii("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const $u="PersistentStream";class Hu{constructor(e,t,n,r,i,s,a,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Bu(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Pi.RESOURCE_EXHAUSTED?(Ni(t.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Pi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Oi(Pi.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Ii($u,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Ii($u,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wu extends Hu{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ai()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Li(void 0===t||"string"==typeof t),ca.fromBase64String(t||"")):(Li(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ca.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Pi.UNKNOWN:Vl(e.code);return new Oi(t,e.message||"")}(a);n=new Yl(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=pc(e,r.document.name),s=uc(r.document.updateTime),a=r.document.createTime?uc(r.document.createTime):ns.min(),o=new Ka({mapValue:{fields:r.document.fields}}),l=Ja.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Jl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=pc(e,r.document),s=r.readTime?uc(r.readTime):ns.min(),a=Ja.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Jl([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=pc(e,r.document),s=r.removedTargetIds||[];n=new Jl([],s,i,null)}else{if(!("filter"in t))return Ai();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ml(r,i),a=e.targetId;n=new Ql(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ns.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ns.min():t.readTime?uc(t.readTime):ns.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=yc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=_o(r)?{documents:Sc(e,r)}:{query:_c(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=lc(e,t.resumeToken);const r=ac(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ns.min())>0){n.readTime=oc(e,t.snapshotVersion.toTimestamp());const r=ac(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ai()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=yc(this.serializer),t.removeTarget=e,this.I_(t)}}class qu extends Hu{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Li(!!e.streamToken),this.lastStreamToken=e.streamToken,Li(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Li(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(Li(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?uc(e.updateTime):uc(t);return n.isEqual(ns.min())&&(n=uc(t)),new vl(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=uc(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=yc(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>kc(this.serializer,e)))};this.I_(t)}}class Ku{}class Gu extends Ku{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Oi(Pi.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,hc(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Pi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Oi(Pi.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Co(e,hc(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Pi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Oi(Pi.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Ju{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ni(t),this.N_=!1):Ii("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Qu="RemoteStore";class Yu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{ad(this)&&(Ii(Qu,"Restarting streams for network reachability change."),await async function(e){const t=Di(e);t.W_.add(4),await Zu(t),t.j_.set("Unknown"),t.W_.delete(4),await Xu(t)}(this))}))})),this.j_=new Ju(n,r)}}async function Xu(e){if(ad(e))for(const t of e.G_)await t(!0)}async function Zu(e){for(const t of e.G_)await t(!1)}function ed(e,t){const n=Di(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),sd(n)?id(n):Td(n).c_()&&nd(n,t))}function td(e,t){const n=Di(e),r=Td(n);n.K_.delete(t),r.c_()&&rd(n,t),0===n.K_.size&&(r.c_()?r.P_():ad(n)&&n.j_.set("Unknown"))}function nd(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ns.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Td(e).y_(t)}function rd(e,t){e.H_.Ne(t),Td(e).w_(t)}function id(e){e.H_=new Zl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Td(e).start(),e.j_.B_()}function sd(e){return ad(e)&&!Td(e).u_()&&e.K_.size>0}function ad(e){return 0===Di(e).W_.size}function od(e){e.H_=void 0}async function ld(e){e.j_.set("Online")}async function cd(e){e.K_.forEach(((t,n)=>{nd(e,t)}))}async function ud(e,t){od(e),sd(e)?(e.j_.q_(t),id(e)):e.j_.set("Unknown")}async function dd(e,t,n){if(e.j_.set("Online"),t instanceof Yl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Ii(Qu,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await hd(e,n)}else if(t instanceof Jl?e.H_.We(t):t instanceof Ql?e.H_.Ze(t):e.H_.je(t),!n.isEqual(ns.min()))try{const t=await bu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(ca.EMPTY_BYTE_STRING,r.snapshotVersion)),rd(e,t);const i=new Pc(r.target,t,n,r.sequenceNumber);nd(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ii(Qu,"Failed to raise snapshot:",t),await hd(e,t)}}async function hd(e,t,n){if(!bs(t))throw t;e.W_.add(1),await Zu(e),e.j_.set("Offline"),n||(n=()=>bu(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ii(Qu,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Xu(e)}))}function fd(e,t){return t().catch((n=>hd(e,n,t)))}async function md(e){const t=Di(e),n=Cd(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Ss;for(;pd(t);)try{const e=await Su(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,gd(t,e)}catch(e){await hd(t,e)}vd(t)&&yd(t)}function pd(e){return ad(e)&&e.U_.length<10}function gd(e,t){e.U_.push(t);const n=Cd(e);n.c_()&&n.S_&&n.b_(t.mutations)}function vd(e){return ad(e)&&!Cd(e).u_()&&e.U_.length>0}function yd(e){Cd(e).start()}async function wd(e){Cd(e).C_()}async function bd(e){const t=Cd(e);for(const n of e.U_)t.b_(n.mutations)}async function kd(e,t,n){const r=e.U_.shift(),i=Pl.from(r,t,n);await fd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await md(e)}async function Sd(e,t){t&&Cd(e).S_&&await async function(e,t){if(function(e){return Fl(e)&&e!==Pi.ABORTED}(t.code)){const n=e.U_.shift();Cd(e).h_(),await fd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await md(e)}}(e,t),vd(e)&&yd(e)}async function _d(e,t){const n=Di(e);n.asyncQueue.verifyOperationInProgress(),Ii(Qu,"RemoteStore received new credentials");const r=ad(n);n.W_.add(3),await Zu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Xu(n)}async function Ed(e,t){const n=Di(e);t?(n.W_.delete(2),await Xu(n)):t||(n.W_.add(2),await Zu(n),n.j_.set("Unknown"))}function Td(e){return e.J_||(e.J_=function(e,t,n){const r=Di(e);return r.M_(),new Wu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:ld.bind(null,e),No:cd.bind(null,e),Lo:ud.bind(null,e),p_:dd.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),sd(e)?id(e):e.j_.set("Unknown")):(await e.J_.stop(),od(e))}))),e.J_}function Cd(e){return e.Y_||(e.Y_=function(e,t,n){const r=Di(e);return r.M_(),new qu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:wd.bind(null,e),Lo:Sd.bind(null,e),D_:bd.bind(null,e),v_:kd.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await md(e)):(await e.Y_.stop(),e.U_.length>0&&(Ii(Qu,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class Id{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Id(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oi(Pi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nd(e,t){if(Ni("AsyncQueue",`${t}: ${e}`),bs(e))return new Oi(Pi.UNAVAILABLE,`${t}: ${e}`);throw e}class xd{static emptySet(e){return new xd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ls.comparator(t.key,n.key):(e,t)=>ls.comparator(e.key,t.key),this.keyedMap=Wo(),this.sortedSet=new na(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new xd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Rd{constructor(){this.Z_=new na(ls.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ai():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ad{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Ad(e,t,xd.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Po(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ld{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Dd{constructor(){this.queries=Pd(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Di(e),r=n.queries;n.queries=Pd(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Oi(Pi.ABORTED,"Firestore shutting down"))}}function Pd(){return new zo((e=>Oo(e)),Po)}async function Od(e,t){const n=Di(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new Ld,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Nd(e,`Initialization of query '${Mo(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&Fd(n)}async function Md(e,t){const n=Di(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ta.indexOf(t);e>=0&&(s.ta.splice(e,1),0===s.ta.length?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jd(e,t){const n=Di(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&Fd(n)}function Ud(e,t,n){const r=Di(e),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(t)}function Fd(e){e.ia.forEach((e=>{e.next()}))}var Vd,zd;(zd=Vd||(Vd={}))._a="default",zd.Cache="cache";class Bd{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ad(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=Ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Vd.Cache}}class $d{constructor(e){this.key=e}}class Hd{constructor(e){this.key=e}}class Wd{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Xo(),this.mutatedKeys=Xo(),this.ya=Fo(e),this.wa=new xd(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new Rd,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=jo(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ya(u,o)>0||l&&this.ya(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:s,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ai()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==s.length||l?{snapshot:new Ad(this.query,e.wa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Rd,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Xo(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new Hd(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new $d(n))})),t}Oa(e){this.fa=e.gs,this.pa=Xo();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ad.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const qd="SyncEngine";class Kd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Gd{constructor(e){this.key=e,this.Ba=!1}}class Jd{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new zo((e=>Oo(e)),Po),this.qa=new Map,this.Qa=new Set,this.$a=new na(ls.comparator),this.Ua=new Map,this.Ka=new ru,this.Wa={},this.Ga=new Map,this.za=$c.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Qd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=vh(e);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await Xd(r,t,n,!0),i}async function Yd(e,t){const n=vh(e);await Xd(n,t,!0,!1)}async function Xd(e,t,n,r){const i=await _u(e.localStore,Ro(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Zd(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&ed(e.remoteStore,i),o}async function Zd(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await Tu(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return dh(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const s=await Tu(e.localStore,t,!0),a=new Wd(t,s.gs),o=a.ba(s.documents),l=Gl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);dh(e,n,c.Ma);const u=new Kd(t,n,a);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function eh(e,t,n){const r=Di(e),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter((e=>!Po(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Eu(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&td(r.remoteStore,i.targetId),ch(r,i.targetId)})).catch(vs)):(ch(r,i.targetId),await Eu(r.localStore,i.targetId,!0))}async function th(e,t){const n=Di(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),td(n.remoteStore,r.targetId))}async function nh(e,t){const n=Di(e);try{const e=await function(e,t){const n=Di(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Hr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ca.EMPTY_BYTE_STRING,ns.min()).withLastLimboFreeSnapshotVersion(ns.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Hr.updateTargetData(e,c))}));let o=$o(),l=Xo();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(ku(e,s,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!r.isEqual(ns.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return ys.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(Li(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?Li(r.Ba):e.removedDocuments.size>0&&(Li(r.Ba),r.Ba=!1))})),await mh(n,e,t)}catch(e){await vs(e)}}function rh(e,t,n){const r=Di(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Di(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&Fd(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ih(e,t,n){const r=Di(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),s=i&&i.key;if(s){let e=new na(ls.comparator);e=e.insert(s,Ja.newNoDocument(s,ns.min()));const n=Xo().add(s),i=new Kl(ns.min(),new Map,new na(Gi),e,n);await nh(r,i),r.$a=r.$a.remove(s),r.Ua.delete(t),fh(r)}else await Eu(r.localStore,t,!1).then((()=>ch(r,t,n))).catch(vs)}async function sh(e,t){const n=Di(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Di(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=ys.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Li(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Xo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);lh(n,r,null),oh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mh(n,e)}catch(e){await vs(e)}}async function ah(e,t,n){const r=Di(e);try{const e=await function(e,t){const n=Di(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Li(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);lh(r,t,n),oh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mh(r,e)}catch(n){await vs(n)}}function oh(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function lh(e,t,n){const r=Di(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function ch(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||uh(e,t)}))}function uh(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(td(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),fh(e))}function dh(e,t,n){for(const r of n)r instanceof $d?(e.Ka.addReference(r.key,t),hh(e,r)):r instanceof Hd?(Ii(qd,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||uh(e,r.key)):Ai()}function hh(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Ii(qd,"New document in limbo: "+n),e.Qa.add(r),fh(e))}function fh(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new ls(ss.fromString(t)),r=e.za.next();e.Ua.set(r,new Gd(n)),e.$a=e.$a.insert(n,r),ed(e.remoteStore,new Pc(Ro(Co(n.path)),r,"TargetPurposeLimboResolution",ks.ae))}}async function mh(e,t,n){const r=Di(e),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach(((e,o)=>{a.push(r.Ha(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=fu.Yi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=Di(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ys.forEach(t,(t=>ys.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ys.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!bs(e))throw e;Ii(gu,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function ph(e,t){const n=Di(e);if(!n.currentUser.isEqual(t)){Ii(qd,"User change. New user:",t.toKey());const e=await wu(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Oi(Pi.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mh(n,e.Rs)}}function gh(e,t){const n=Di(e),r=n.Ua.get(t);if(r&&r.Ba)return Xo().add(r.key);{let e=Xo();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function vh(e){const t=Di(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ih.bind(null,t),t.La.p_=jd.bind(null,t.eventManager),t.La.Ja=Ud.bind(null,t.eventManager),t}function yh(e){const t=Di(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ah.bind(null,t),t}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zu(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return yu(this.persistence,new pu,e.initialUser,this.serializer)}Xa(e){return new cu(du.ri,this.serializer)}Za(e){return new Nu}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class bh extends wh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Li(this.persistence.referenceDelegate instanceof hu);const n=this.persistence.referenceDelegate.garbageCollector;return new Gc(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?Bc.withCacheSize(this.cacheSizeBytes):Bc.DEFAULT;return new cu((e=>hu.ri(e,t)),this.serializer)}}class kh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>rh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ph.bind(null,this.syncEngine),await Ed(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Dd}createDatastore(e){const t=zu(e.databaseInfo.databaseId),n=function(e){return new Fu(e)}(e.databaseInfo);return function(e,t,n,r){return new Gu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Yu(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>rh(this.syncEngine,e,0)),Au.D()?new Au:new xu)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Jd(e,t,n,r,i,s);return a&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Di(e);Ii(Qu,"RemoteStore shutting down."),t.W_.add(5),await Zu(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}kh.provider={build:()=>new kh};class Sh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const _h="FirestoreClient";class Eh{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=_i.UNAUTHENTICATED,this.clientId=Ki.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Ii(_h,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ii(_h,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Nd(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Th(e,t){e.asyncQueue.verifyOperationInProgress(),Ii(_h,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await wu(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ch(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ih(e);Ii(_h,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>_d(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>_d(t.remoteStore,n))),e._onlineComponents=t}async function Ih(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ii(_h,"Using user provided OfflineComponentProvider");try{await Th(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Pi.FAILED_PRECONDITION||e.code===Pi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;xi("Error using user provided cache. Falling back to memory cache: "+n),await Th(e,new wh)}}else Ii(_h,"Using default OfflineComponentProvider"),await Th(e,new bh(void 0));return e._offlineComponents}async function Nh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ii(_h,"Using user provided OnlineComponentProvider"),await Ch(e,e._uninitializedComponentsProvider._online)):(Ii(_h,"Using default OnlineComponentProvider"),await Ch(e,new kh))),e._onlineComponents}function xh(e){return Nh(e).then((e=>e.syncEngine))}async function Rh(e){const t=await Nh(e),n=t.eventManager;return n.onListen=Qd.bind(null,t.syncEngine),n.onUnlisten=eh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Yd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=th.bind(null,t.syncEngine),n}function Ah(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Mi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Sh({next:o=>{s.su(),t.enqueueAndForget((()=>Md(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Oi(Pi.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Oi(Pi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Bd(Co(n.path),s,{includeMetadataChanges:!0,Ta:!0});return Od(e,a)}(await Rh(e),e.asyncQueue,t,n,r))),r.promise}function Lh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Mi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Sh({next:n=>{s.su(),t.enqueueAndForget((()=>Md(e,a))),n.fromCache&&"server"===r.source?i.reject(new Oi(Pi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Bd(n,s,{includeMetadataChanges:!0,Ta:!0});return Od(e,a)}(await Rh(e),e.asyncQueue,t,n,r))),r.promise}function Dh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ph=new Map;function Oh(e,t,n){if(!n)throw new Oi(Pi.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Mh(e){if(!ls.isDocumentKey(e))throw new Oi(Pi.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jh(e){if(ls.isDocumentKey(e))throw new Oi(Pi.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Uh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ai()}function Fh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oi(Pi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uh(e);throw new Oi(Pi.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const Vh="firestore.googleapis.com",zh=!0;class Bh{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Oi(Pi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vh,this.ssl=zh}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:zh;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=zc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Wc)throw new Oi(Pi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Oi(Pi.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dh(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Oi(Pi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Oi(Pi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Oi(Pi.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oi(Pi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oi(Pi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ui;switch(e.type){case"firstParty":return new Bi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Oi(Pi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ph.get(e);t&&(Ii("ComponentProvider","Removing Datastore"),Ph.delete(e),t.terminate())}(this),Promise.resolve()}}class Hh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Hh(this.firestore,e,this._query)}}class Wh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wh(this.firestore,e,this._key)}}class qh extends Hh{constructor(e,t,n){super(e,t,Co(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wh(this.firestore,null,new ls(e))}withConverter(e){return new qh(this.firestore,e,this._path)}}function Kh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),Oh("collection","path",t),e instanceof $h){const n=ss.fromString(t,...r);return jh(n),new qh(e,null,n)}{if(!(e instanceof Wh||e instanceof qh))throw new Oi(Pi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ss.fromString(t,...r));return jh(n),new qh(e.firestore,null,n)}}function Gh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),1===arguments.length&&(t=Ki.newId()),Oh("doc","path",t),e instanceof $h){const n=ss.fromString(t,...r);return Mh(n),new Wh(e,null,new ls(n))}{if(!(e instanceof Wh||e instanceof qh))throw new Oi(Pi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ss.fromString(t,...r));return Mh(n),new Wh(e.firestore,e instanceof qh?e.converter:null,new ls(n))}}const Jh="AsyncQueue";class Qh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Bu(this,"async_queue_retry"),this.Su=()=>{const e=Vu();e&&Ii(Jh,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=Vu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Vu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new Mi;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(ay){if(!bs(ay))throw ay;Ii(Jh,"Operation failed with retryable error: "+ay)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ni("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Id.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Ai()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Yh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Xh extends $h{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Qh,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qh(e),this._firestoreClient=void 0,await e}}}function Zh(e){if(e._terminated)throw new Oi(Pi.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ef(e),e._firestoreClient}function ef(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ka(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Dh(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Eh(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class tf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tf(ca.fromBase64String(e))}catch(e){throw new Oi(Pi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new tf(ca.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new os(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rf{constructor(e){this._methodName=e}}class sf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oi(Pi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oi(Pi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gi(this._lat,e._lat)||Gi(this._long,e._long)}}class af{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const of=/^__.*__$/;class lf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Il(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cl(e,this.data,t,this.fieldTransforms)}}class cf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Il(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ai()}}class df{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return If(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(uf(this.Lu)&&of.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class hf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||zu(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new df({Lu:e,methodName:t,zu:n,path:os.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ff(e){const t=e._freezeSettings(),n=zu(e._databaseId);return new hf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mf(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ju(s.merge||s.mergeFields?2:0,t,n,i);_f("Data must be an object, but it was:",a,r);const o=kf(r,a);let l,c;if(s.merge)l=new oa(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Ef(t,r,n);if(!a.contains(i))throw new Oi(Pi.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Nf(e,i)||e.push(i)}l=new oa(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new lf(new Ka(o),l,c)}class pf extends rf{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pf}}class gf extends rf{_toFieldTransform(e){return new gl(e.path,new ll)}isEqual(e){return e instanceof gf}}function vf(e,t,n,r){const i=e.ju(1,t,n);_f("Data must be an object, but it was:",i,r);const s=[],a=Ka.empty();ea(r,((e,r)=>{const o=Cf(t,e,n);r=Ot(r);const l=i.Uu(o);if(r instanceof pf)s.push(o);else{const e=bf(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new oa(s);return new cf(a,o,i.fieldTransforms)}function yf(e,t,n,r,i,s){const a=e.ju(1,t,n),o=[Ef(t,r,n)],l=[i];if(s.length%2!=0)throw new Oi(Pi.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Ef(t,s[h])),l.push(s[h+1]);const c=[],u=Ka.empty();for(let h=o.length-1;h>=0;--h)if(!Nf(c,o[h])){const e=o[h];let t=l[h];t=Ot(t);const n=a.Uu(e);if(t instanceof pf)c.push(e);else{const r=bf(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new oa(c);return new cf(u,d,a.fieldTransforms)}function wf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bf(n,e.ju(r?4:3,t))}function bf(e,t){if(Sf(e=Ot(e)))return _f("Unsupported field value:",t,e),kf(e,t);if(e instanceof rf)return function(e,t){if(!uf(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=bf(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ot(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ts.fromDate(e);return{timestampValue:oc(t.serializer,n)}}if(e instanceof ts){const n=new ts(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:oc(t.serializer,n)}}if(e instanceof sf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tf)return{bytesValue:lc(t.serializer,e._byteString)};if(e instanceof Wh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:dc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof af)return function(e,t){return{mapValue:{fields:{[Ea]:{stringValue:Ia},[Na]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return tl(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${Uh(e)}`)}(e,t)}function kf(e,t){const n={};return ta(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ea(e,((e,r)=>{const i=bf(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Sf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ts||e instanceof sf||e instanceof tf||e instanceof Wh||e instanceof rf||e instanceof af)}function _f(e,t,n){if(!Sf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Uh(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Ef(e,t,n){if((t=Ot(t))instanceof nf)return t._internalPath;if("string"==typeof t)return Cf(e,t);throw If("Field path arguments must be of type string or ",e,!1,void 0,n)}const Tf=new RegExp("[~\\*/\\[\\]]");function Cf(e,t,n){if(t.search(Tf)>=0)throw If(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new nf(...t.split("."))._internalPath}catch(r){throw If(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function If(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Oi(Pi.INVALID_ARGUMENT,o+e+l)}function Nf(e,t){return e.some((e=>e.isEqual(t)))}class xf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Af("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Rf extends xf{data(){return super.data()}}function Af(e,t){return"string"==typeof t?Cf(e,t):t instanceof nf?t._internalPath:t._delegate._internalPath}function Lf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Oi(Pi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Df{}class Pf extends Df{}function Of(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Df&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Uf)).length,n=e.filter((e=>e instanceof Mf)).length;if(t>1||t>0&&n>0)throw new Oi(Pi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Mf extends Pf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Mf(e,t,n)}_apply(e){const t=this._parse(e);return $f(e._query,t),new Hh(e.firestore,e.converter,Lo(e._query,t))}_parse(e){const t=ff(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Oi(Pi.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Bf(a,s);const t=[];for(const n of a)t.push(zf(r,e,n));o={arrayValue:{values:t}}}else o=zf(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Bf(a,s),o=wf(n,t,a,"in"===s||"not-in"===s);return no.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function jf(e,t,n){const r=t,i=Af("where",e);return Mf._create(i,r,n)}class Uf extends Df{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uf(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:ro.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)$f(n,i),n=Lo(n,i)}(e._query,t),new Hh(e.firestore,e.converter,Lo(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ff extends Pf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ff(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Za(t,n)}(e._query,this._field,this._direction);return new Hh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Eo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Vf(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Af("orderBy",e);return Ff._create(n,t)}function zf(e,t,n){if("string"==typeof(n=Ot(n))){if(""===n)throw new Oi(Pi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!No(t)&&-1!==n.indexOf("/"))throw new Oi(Pi.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ss.fromString(n));if(!ls.isDocumentKey(r))throw new Oi(Pi.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ua(e,new ls(r))}if(n instanceof Wh)return Ua(e,n._key);throw new Oi(Pi.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(n)}.`)}function Bf(e,t){if(!Array.isArray(e)||0===e.length)throw new Oi(Pi.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function $f(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Oi(Pi.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Oi(Pi.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Hf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ha(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ai()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ea(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Na].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>ha(e.doubleValue)));return new af(i)}convertGeoPoint(e){return new sf(ha(e.latitude),ha(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=wa(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ba(e));default:return null}}convertTimestamp(e){const t=da(e);return new ts(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ss.fromString(e);Li(Dc(n));const r=new _a(n.get(1),n.get(3)),i=new ls(n.popFirst(5));return r.isEqual(t)||Ni(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Wf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kf extends xf{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Af("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Gf extends Kf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Jf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Gf(this._firestore,this._userDataWriter,n.key,n,new qf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oi(Pi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Gf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new qf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Gf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Qf(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Qf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ai()}}function Yf(e){e=Fh(e,Wh);const t=Fh(e.firestore,Xh);return Ah(Zh(t),e._key).then((n=>sm(t,e,n)))}class Xf extends Hf{constructor(e){super(),this.firestore=e}convertBytes(e){return new tf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wh(this.firestore,null,t)}}function Zf(e){e=Fh(e,Hh);const t=Fh(e.firestore,Xh),n=Zh(t),r=new Xf(t);return Lf(e._query),Lh(n,e._query).then((n=>new Jf(t,r,e,n)))}function em(e,t,n){e=Fh(e,Wh);const r=Fh(e.firestore,Xh),i=Wf(e.converter,t,n);return im(r,[mf(ff(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,yl.none())])}function tm(e,t,n){e=Fh(e,Wh);const r=Fh(e.firestore,Xh),i=ff(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=Ot(t))||t instanceof nf?yf(i,"updateDoc",e._key,t,n,o):vf(i,"updateDoc",e._key,t),im(r,[s.toMutation(e._key,yl.exists(!0))])}function nm(e){return im(Fh(e.firestore,Xh),[new Al(e._key,yl.none())])}function rm(e,t){const n=Fh(e.firestore,Xh),r=Gh(e),i=Wf(e.converter,t);return im(n,[mf(ff(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,yl.exists(!1))]).then((()=>r))}function im(e,t){return function(e,t){const n=new Mi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=yh(e);try{const e=await function(e,t){const n=Di(e),r=ts.now(),i=t.reduce(((e,t)=>e.add(t.key)),Xo());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=$o(),l=Xo();return n.ds.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=El(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Il(e.key,t,Ga(t.value.mapValue),yl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:qo(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new na(Gi)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await mh(r,e.changes),await md(r.remoteStore)}catch(e){const t=Nd(e,"Failed to persist write");n.reject(t)}}(await xh(e),t,n))),n.promise}(Zh(e),t)}function sm(e,t,n){const r=n.docs.get(t._key),i=new Xf(e);return new Kf(e,i,t._key,r,new qf(n.hasPendingWrites,n.fromCache),t.converter)}function am(){return new gf("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ei=e}(Yn),qn(new Mt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Xh(new Vi(e.getProvider("auth-internal")),new Hi(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Oi(Pi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),er(ki,Si,e),er(ki,Si,"esm2017")}();function om(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function lm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cm=lm,um=new Ct("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dm=new qt("@firebase/auth");function hm(e){if(dm.logLevel<=zt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];dm.error(`Auth (${Yn}): ${e}`,...n)}}function fm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ym(e,...n)}function mm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ym(e,...n)}function pm(e,t,n){const r=Object.assign(Object.assign({},cm()),{[t]:n});return new Ct("auth","Firebase",r).create(t,{appName:e.name})}function gm(e){return pm(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&fm(e,"argument-error"),pm(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ym(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return um.create(e,...n)}function wm(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ym(t,...r)}}function bm(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hm(t),new Error(t)}function km(e,t){e||bm(t)}function Sm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _m(){return"http:"===Em()||"https:"===Em()}function Em(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Tm(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_m()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Cm{constructor(e,t){this.shortDelay=e,this.longDelay=t,km(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Tm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Im(e,t){km(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Nm{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void bm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void bm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void bm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rm=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Am=new Cm(3e4,6e4);function Lm(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Dm(e,t,n,r){return Pm(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Rt(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Nm.fetch()(await Mm(e,e.config.apiHost,n,a),l)}))}async function Pm(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},xm),t);try{const t=new Um(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Fm(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Fm(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Fm(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Fm(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw pm(e,o,a);fm(e,o)}}catch(ay){if(ay instanceof Tt)throw ay;fm(e,"network-request-failed",{message:String(ay)})}}async function Om(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Dm(e,t,n,r,i);return"mfaPendingCredential"in s&&fm(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Mm(e,t,n,r){const i=`${t}${n}?${r}`,s=e,a=s.config.emulator?Im(e.config,i):`${e.config.apiScheme}://${i}`;if(Rm.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function jm(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Um{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(mm(this.auth,"network-request-failed"))),Am.get())}))}}function Fm(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mm(e,t,r);return i.customData._tokenResponse=n,i}function Vm(e){return void 0!==e&&void 0!==e.enterprise}class zm{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jm(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Bm(e,t){return Dm(e,"GET","/v2/recaptchaConfig",Lm(e,t))}async function $m(e,t){return Dm(e,"POST","/v1/accounts:lookup",t)}function Hm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ay){}}function Wm(e){return 1e3*Number(e)}function qm(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return hm("JWT malformed, contained fewer than 3 sections"),null;try{const e=ft(n);return e?JSON.parse(e):(hm("Failed to decode base64 JWT payload"),null)}catch(ay){return hm("Caught error parsing JWT payload as JSON",null===ay||void 0===ay?void 0:ay.toString()),null}}function Km(e){const t=qm(e);return wm(t,"internal-error"),wm("undefined"!==typeof t.exp,"internal-error"),wm("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Gm(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(ay){throw ay instanceof Tt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(ay)&&e.auth.currentUser===e&&await e.auth.signOut(),ay}}class Jm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ay){return void("auth/network-request-failed"===(null===ay||void 0===ay?void 0:ay.code)&&this.schedule(!0))}this.schedule()}}class Qm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hm(this.lastLoginAt),this.creationTime=Hm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ym(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Gm(e,$m(n,{idToken:r}));wm(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Xm(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Qm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Xm(e){return e.map((e=>{var{providerId:t}=e,n=om(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Zm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wm(e.idToken,"internal-error"),wm("undefined"!==typeof e.idToken,"internal-error"),wm("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Km(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){wm(0!==e.length,"internal-error");const t=Km(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(wm(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Pm(e,{},(async()=>{const n=Rt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Mm(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nm.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Zm;return n&&(wm("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(wm("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(wm("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zm,this.toJSON())}_performRefresh(){return bm("not implemented")}}function ep(e,t){wm("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class tp{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=om(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Gm(this,this.stsTokenManager.getToken(this.auth,e));return wm(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ot(e),r=await n.getIdToken(t),i=qm(r);wm(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Hm(Wm(i.auth_time)),issuedAtTime:Hm(Wm(i.iat)),expirationTime:Hm(Wm(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ot(e);await Ym(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(wm(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){wm(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ym(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(gm(this.auth));const e=await this.getIdToken();return await Gm(this,async function(e,t){return Dm(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:k,stsTokenManager:S}=t;wm(y&&S,e,"internal-error");const _=Zm.fromJSON(this.name,S);wm("string"===typeof y,e,"internal-error"),ep(u,e.name),ep(d,e.name),wm("boolean"===typeof w,e,"internal-error"),wm("boolean"===typeof b,e,"internal-error"),ep(h,e.name),ep(f,e.name),ep(m,e.name),ep(p,e.name),ep(g,e.name),ep(v,e.name);const E=new tp({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:m,stsTokenManager:_,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(E.providerData=k.map((e=>Object.assign({},e)))),p&&(E._redirectEventId=p),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Zm;r.updateFromServerResponse(t);const i=new tp({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ym(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];wm(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Xm(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Zm;a.updateFromIdToken(n);const o=new tp({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Qm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const np=new Map;function rp(e){km(e instanceof Function,"Expected a class definition");let t=np.get(e);return t?(km(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,np.set(e,t),t)}class ip{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ip.type="NONE";const sp=ip;function ap(e,t,n){return`firebase:${e}:${t}:${n}`}class op{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ap(this.userKey,r.apiKey,i),this.fullPersistenceKey=ap("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await $m(this.auth,{idToken:e}).catch((()=>{}));return t?tp._fromGetAccountInfoResponse(this.auth,t,e):null}return tp._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new op(rp(sp),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||rp(sp);const s=ap(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await $m(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await tp._fromGetAccountInfoResponse(e,r,t)}else n=tp._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new op(i,e,n)):new op(i,e,n)}}function lp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hp(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mp(t))return"Blackberry";if(pp(t))return"Webos";if(up(t))return"Safari";if((t.includes("chrome/")||dp(t))&&!t.includes("edge/"))return"Chrome";if(fp(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function cp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St();return/firefox\//i.test(e)}function up(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:St()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St();return/crios\//i.test(e)}function hp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St();return/iemobile/i.test(e)}function fp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St();return/android/i.test(e)}function mp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St();return/blackberry/i.test(e)}function pp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St();return/webos/i.test(e)}function gp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vp(){return function(){const e=St();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function yp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St();return gp(e)||fp(e)||pp(e)||mp(e)||/windows phone/i.test(e)||hp(e)}function wp(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=lp(St());break;case"Worker":t=`${lp(St())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yn}/${r}`}class bp{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(ay){r(ay)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(ay){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===ay||void 0===ay?void 0:ay.message})}}}class kp{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Sp{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ep(this),this.idTokenSubscription=new Ep(this),this.beforeStateQueue=new bp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=um,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rp(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await op.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ay){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await $m(this,{idToken:e}),n=await tp._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(ay){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(ay)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return wm(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ay){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ym(e)}catch(ay){if("auth/network-request-failed"!==(null===ay||void 0===ay?void 0:ay.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(gm(this));const t=e?Ot(e):null;return t&&wm(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&wm(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Gn(this.app)?Promise.reject(gm(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(gm(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(rp(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Dm(e,"GET","/v2/passwordPolicy",Lm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new kp(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ct("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Dm(e,"POST","/v2/accounts:revokeToken",Lm(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rp(e)||this._popupRedirectResolver;wm(t,this,"argument-error"),this.redirectPersistenceManager=await op.create(this,[rp(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(wm(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wm(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(dm.logLevel<=zt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];dm.warn(`Auth (${Yn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function _p(e){return Ot(e)}class Ep{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Dt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return wm(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cp(e){return Tp.loadJS(e)}function Ip(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Np{constructor(){this.enterprise=new xp}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xp{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Rp="NO_RECAPTCHA";class Ap{constructor(e){this.type="recaptcha-enterprise",this.auth=_p(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Vm(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Rp)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Np).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Bm(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new zm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Vm(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Tp.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Cp(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Lp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Ap(e);let a;if(i)a=Rp;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Dp(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Lp(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Lp(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Lp(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Lp(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Lp(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Pp(e){const t=_p(e),n=await Bm(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new zm(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ap(t).verify()}}function Op(e,t,n){const r=_p(e);wm(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Mp(t),{host:a,port:o}=function(e){const t=Mp(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:jp(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:jp(t)}}}(t),l={url:`${s}//${a}${null===o?"":`:${o}`}/`},c=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return wm(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void wm(Nt(l,r.config.emulator)&&Nt(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Mp(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function jp(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Up{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bm("not implemented")}_getIdTokenResponse(e){return bm("not implemented")}_linkToIdToken(e,t){return bm("not implemented")}_getReauthenticationResolver(e){return bm("not implemented")}}async function Fp(e,t){return Dm(e,"POST","/v1/accounts:signUp",t)}async function Vp(e,t){return Om(e,"POST","/v1/accounts:signInWithPassword",Lm(e,t))}class zp extends Up{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new zp(e,t,"password")}static _fromEmailAndCode(e,t){return new zp(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Dp(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Vp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Om(e,"POST","/v1/accounts:signInWithEmailLink",Lm(e,t))}(e,{email:this._email,oobCode:this._password});default:fm(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Dp(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Om(e,"POST","/v1/accounts:signInWithEmailLink",Lm(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:fm(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bp(e,t){return Om(e,"POST","/v1/accounts:signInWithIdp",Lm(e,t))}class $p extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $p(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fm("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=om(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new $p(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Bp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Bp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rt(t)}return e}}async function Hp(e,t){return Dm(e,"POST","/v1/accounts:sendVerificationCode",Lm(e,t))}const Wp={USER_NOT_FOUND:"user-not-found"};class qp extends Up{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new qp({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new qp({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Om(e,"POST","/v1/accounts:signInWithPhoneNumber",Lm(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Om(e,"POST","/v1/accounts:signInWithPhoneNumber",Lm(e,t));if(n.temporaryProof)throw Fm(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Om(e,"POST","/v1/accounts:signInWithPhoneNumber",Lm(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Wp)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new qp({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Kp{constructor(e){var t,n,r,i,s,a;const o=At(Lt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);wm(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=At(Lt(e)).link,n=t?At(Lt(t)).deep_link_id:null,r=At(Lt(e)).deep_link_id;return(r?At(Lt(r)).link:null)||r||n||t||e}(e);try{return new Kp(t)}catch(n){return null}}}class Gp{constructor(){this.providerId=Gp.PROVIDER_ID}static credential(e,t){return zp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Kp.parseLink(t);return wm(n,"argument-error"),zp._fromEmailAndCode(e,n.code,n.tenantId)}}Gp.PROVIDER_ID="password",Gp.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Gp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Jp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qp extends Jp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yp extends Qp{constructor(){super("facebook.com")}static credential(e){return $p._fromParams({providerId:Yp.PROVIDER_ID,signInMethod:Yp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yp.credentialFromTaggedObject(e)}static credentialFromError(e){return Yp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Yp.credential(t.oauthAccessToken)}catch(n){return null}}}Yp.FACEBOOK_SIGN_IN_METHOD="facebook.com",Yp.PROVIDER_ID="facebook.com";class Xp extends Qp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $p._fromParams({providerId:Xp.PROVIDER_ID,signInMethod:Xp.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xp.credentialFromTaggedObject(e)}static credentialFromError(e){return Xp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Xp.credential(n,r)}catch(i){return null}}}Xp.GOOGLE_SIGN_IN_METHOD="google.com",Xp.PROVIDER_ID="google.com";class Zp extends Qp{constructor(){super("github.com")}static credential(e){return $p._fromParams({providerId:Zp.PROVIDER_ID,signInMethod:Zp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zp.credentialFromTaggedObject(e)}static credentialFromError(e){return Zp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Zp.credential(t.oauthAccessToken)}catch(n){return null}}}Zp.GITHUB_SIGN_IN_METHOD="github.com",Zp.PROVIDER_ID="github.com";class eg extends Qp{constructor(){super("twitter.com")}static credential(e,t){return $p._fromParams({providerId:eg.PROVIDER_ID,signInMethod:eg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return eg.credentialFromTaggedObject(e)}static credentialFromError(e){return eg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return eg.credential(n,r)}catch(i){return null}}}eg.TWITTER_SIGN_IN_METHOD="twitter.com",eg.PROVIDER_ID="twitter.com";class tg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await tp._fromIdTokenResponse(e,n,r),s=ng(n);return new tg({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ng(n);return new tg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ng(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class rg extends Tt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,rg.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new rg(e,t,n,r)}}function ig(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw rg._fromErrorAndOperation(e,n,t,r);throw n}))}async function sg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Gm(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tg._forOperation(e,"link",r)}async function ag(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Gn(r.app))return Promise.reject(gm(r));const i="reauthenticate";try{const s=await Gm(e,ig(r,i,t,e),n);wm(s.idToken,r,"internal-error");const a=qm(s.idToken);wm(a,r,"internal-error");const{sub:o}=a;return wm(e.uid===o,r,"user-mismatch"),tg._forOperation(e,i,s)}catch(ay){throw"auth/user-not-found"===(null===ay||void 0===ay?void 0:ay.code)&&fm(r,"user-mismatch"),ay}}async function og(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Gn(e.app))return Promise.reject(gm(e));const r="signIn",i=await ig(e,r,t),s=await tg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function lg(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Ot(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Gm(i,async function(e,t){return Dm(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function cg(e,t){return Dm(e,"POST","/v2/accounts/mfaEnrollment:start",Lm(e,t))}new WeakMap;const ug="__sak";class dg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ug,"1"),this.storage.removeItem(ug),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class hg extends dg{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yp(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);vp()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hg.type="LOCAL";const fg=hg;function mg(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function pg(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class gg{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=pg(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return mg(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=pg(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=pg(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=mg(n);const i=setInterval((()=>{const e=mg(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}gg.type="COOKIE";class vg extends dg{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vg.type="SESSION";const yg=vg;class wg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new wg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function bg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wg.receivers=[];class kg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=bg("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Sg(){return window}function _g(){return"undefined"!==typeof Sg().WorkerGlobalScope&&"function"===typeof Sg().importScripts}const Eg="firebaseLocalStorageDb",Tg="firebaseLocalStorage",Cg="fbase_key";class Ig{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ng(e,t){return e.transaction([Tg],t?"readwrite":"readonly").objectStore(Tg)}function xg(){const e=indexedDB.open(Eg,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Tg,{keyPath:Cg})}catch(ay){n(ay)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Tg)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Eg);return new Ig(e).toPromise()}(),t(await xg()))}))}))}async function Rg(e,t,n){const r=Ng(e,!0).put({[Cg]:t,value:n});return new Ig(r).toPromise()}function Ag(e,t){const n=Ng(e,!0).delete(t);return new Ig(n).toPromise()}class Lg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await xg()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ay){if(t++>3)throw ay;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _g()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wg._getInstance(_g()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new kg(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xg();return await Rg(e,ug,"1"),await Ag(e,ug),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Rg(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ng(e,!1).get(t),r=await new Ig(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ag(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ng(e,!1).getAll();return new Ig(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Lg.type="LOCAL";const Dg=Lg;function Pg(e,t){return Dm(e,"POST","/v2/accounts/mfaSignIn:start",Lm(e,t))}Ip("rcb"),new Cm(3e4,6e4);const Og="recaptcha";async function Mg(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Pp(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){wm("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Dp(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Rp){wm((null===n||void 0===n?void 0:n.type)===Og,e,"argument-error");return cg(e,await jg(e,t,n))}return cg(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{wm("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;wm(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Dp(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Rp){wm((null===n||void 0===n?void 0:n.type)===Og,e,"argument-error");return Pg(e,await jg(e,t,n))}return Pg(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Dp(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Rp){wm((null===n||void 0===n?void 0:n.type)===Og,e,"argument-error");return Hp(e,await jg(e,t,n))}return Hp(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function jg(e,t,n){wm(n.type===Og,e,"argument-error");const r=await n.verify();wm("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ug{constructor(e){this.providerId=Ug.PROVIDER_ID,this.auth=_p(e)}verifyPhoneNumber(e,t){return Mg(this.auth,e,Ot(t))}static credential(e,t){return qp._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ug.credentialFromTaggedObject(t)}static credentialFromError(e){return Ug.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?qp._fromTokenResponse(n,r):null}}function Fg(e,t){return t?rp(t):(wm(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ug.PROVIDER_ID="phone",Ug.PHONE_SIGN_IN_METHOD="phone";class Vg extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zg(e){return og(e.auth,new Vg(e),e.bypassAuthState)}function Bg(e){const{auth:t,user:n}=e;return wm(n,t,"internal-error"),ag(n,new Vg(e),e.bypassAuthState)}async function $g(e){const{auth:t,user:n}=e;return wm(n,t,"internal-error"),sg(n,new Vg(e),e.bypassAuthState)}class Hg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ay){this.reject(ay)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(ay){this.reject(ay)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zg;case"linkViaPopup":case"linkViaRedirect":return $g;case"reauthViaPopup":case"reauthViaRedirect":return Bg;default:fm(this.auth,"internal-error")}}resolve(e){km(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){km(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wg=new Cm(2e3,1e4);class qg extends Hg{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,qg.currentPopupAction&&qg.currentPopupAction.cancel(),qg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wm(e,this.auth,"internal-error"),e}async onExecution(){km(1===this.filter.length,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(mm(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(mm(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(mm(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Wg.get())};e()}}qg.currentPopupAction=null;const Kg=new Map;class Gg extends Hg{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Kg.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Yg(t),r=Qg(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(ay){e=()=>Promise.reject(ay)}Kg.set(this.auth._key(),e)}return this.bypassAuthState||Kg.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Jg(e,t){Kg.set(e._key(),t)}function Qg(e){return rp(e._redirectPersistence)}function Yg(e){return ap("pendingRedirect",e.config.apiKey,e.name)}async function Xg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Gn(e.app))return Promise.reject(gm(e));const r=_p(e),i=Fg(r,t),s=new Gg(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Zg{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tv(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(mm(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(e))}saveEventToCache(e){this.cachedEventUids.add(ev(e)),this.lastProcessedEventTime=Date.now()}}function ev(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function tv(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const nv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rv=/^https?/;async function iv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Dm(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(sv(r))return}catch(n){}fm(e,"unauthorized-domain")}function sv(e){const t=Sm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!rv.test(n))return!1;if(nv.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const av=new Cm(3e4,6e4);function ov(){const e=Sg().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function lv(e){return new Promise(((t,n)=>{var r,i,s;function a(){ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ov(),n(mm(e,"network-request-failed"))},timeout:av.get()})}if(null===(i=null===(r=Sg().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Sg().gapi)||void 0===s?void 0:s.load)){const t=Ip("iframefcb");return Sg()[t]=()=>{gapi.load?a():n(mm(e,"network-request-failed"))},Cp(`${Tp.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw cv=null,e}))}let cv=null;const uv=new Cm(5e3,15e3),dv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fv(e){const t=e.config;wm(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Im(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Yn},i=hv.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Rt(r).slice(1)}`}async function mv(e){const t=await function(e){return cv=cv||lv(e),cv}(e),n=Sg().gapi;return wm(n,e,"internal-error"),t.open({where:document.body,url:fv(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dv,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=mm(e,"network-request-failed"),s=Sg().setTimeout((()=>{r(i)}),uv.get());function a(){Sg().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const pv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ay){}}}function vv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},pv),{width:r.toString(),height:i.toString(),top:s,left:a}),c=St().toLowerCase();n&&(o=dp(c)?"_blank":n),cp(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return gp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:St())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new gv(null);const d=window.open(t||"",o,u);wm(d,e,"popup-blocked");try{d.focus()}catch(ay){}return new gv(d)}const yv="__/auth/handler",wv="emulator/auth/handler",bv=encodeURIComponent("fac");async function kv(e,t,n,r,i,s){wm(e.config.authDomain,e,"auth-domain-config-required"),wm(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yn,eventId:i};if(t instanceof Jp){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Qp){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${bv}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${yv}`;return Im(t,wv)}(e)}?${Rt(o).slice(1)}${c}`}const Sv="webStorageSupport";const _v=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yg,this._completeRedirectFn=Xg,this._overrideRedirectResult=Jg}async _openPopup(e,t,n,r){var i;km(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return vv(e,await kv(e,t,n,Sm(),r),bg())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Sg().location.href=e}(await kv(e,t,n,Sm(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(km(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await mv(e),n=new Zg(e);return t.register("authEvent",(t=>{wm(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sv,{type:Sv},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Sv];void 0!==i&&t(!!i),fm(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yp()||up()||gp()}};var Ev="@firebase/auth",Tv="1.10.0";class Cv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){wm(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Iv=wt("authIdTokenMaxAge")||300;let Nv=null;var xv;Tp={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=mm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},xv="Browser",qn(new Mt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;wm(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:xv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wp(xv)},c=new Sp(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rp);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),qn(new Mt("auth-internal",(e=>(e=>new Cv(e))(_p(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),er(Ev,Tv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(xv)),er(Ev,Tv,"esm2017");const Rv=Xn({apiKey:"AIzaSyBBgnuqzrprlrjoXOdtQUVQxqmjIn41fSw",authDomain:"survivorlist.xyz",projectId:"survivorranks-ee419",storageBucket:"survivorranks-ee419.firebasestorage.app",messagingSenderId:"287417667596",appId:"1:287417667596:web:d32b706f03baf878795e29",measurementId:"G-XTHMW1YS7Z"}),Av=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn(),t=arguments.length>1?arguments[1]:void 0;e=Ot(e);const n=Kn(e,ri).getImmediate({identifier:t}),r=vt("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:kt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(Rv),Lv=function(e,t){const n="object"==typeof e?e:Zn(),r="string"==typeof e?e:t||Sa,i=Kn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=vt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Fh(e,$h))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;s.host!==Vh&&s.host!==o&&xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:r});if(!Nt(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=_i.MOCK_USER;else{t=kt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Oi(Pi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new _i(s)}e._authCredentials=new Fi(new ji(t,n))}}(i,...e)}return i}(Rv),Dv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn();const t=Kn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Kn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Nt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;fm(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:_v,persistence:[Dg,fg,yg]}),r=wt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Iv)return;const r=null===t||void 0===t?void 0:t.token;Nv!==r&&(Nv=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Ot(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Ot(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=gt("auth");return s&&Op(n,`http://${s}`),n}(Rv),Pv=async(e,t)=>{try{const n=t.startsWith("s")?t.substring(1):t,r={"B.B. Andersen":"bb","J'Tia Taylor":"jtia","R.C. Saint-Amour":"rc","J.P. Hilsabeck":"jp","J.P. Calderon":"jp","Susan Hawk":"sue"};let i;i=r[e.name]?r[e.name]:e.name.toLowerCase().split(" ")[0];const s=`Headshots/Season ${n}/${i}.png`;console.log("Attempting to load image:",s);const a=si(Av,s),o=await ii(a);return console.log("Generated URL:",o),o}catch(n){console.error("Error getting image URL:",n);const r=t.startsWith("s")?t.substring(1):t,i={"B.B. Andersen":"bb","J'Tia Taylor":"jtia","R.C. Saint-Amour":"rc","J.P. Hilsabeck":"jp","J.P. Calderon":"jp","Susan Hawk":"sue","Elizabeth Filarski":"elisabeth","Kim Johnson":"kimmi","Jessica Johnston":"jessie","Kim Powers":"kimp","T-Bird Cooper":"teresa","Kim Johnson":"kimj","Rob Mariano":"robm","Shii-Ann Huang":"shiiann","Jenna Morasca":"joanna","Jonny Fairplay":"jon","Lill Morris":"lil","Ryan Opray":"ryano","Ryan Shoulders":"ryans","Stephanie Lagrossa":"stephenie","Ibrahim Hassan":"ibrehem","Ruth Marie Milliman":"ruthmarie","Stephanie Favor":"stephannie","Nate Gonzalez":"nathan","Cao Boi Bui":"caoboi","Yau-Man Chan":"yauman","Peih-Gee Law":"peihgee","Jamie Dugan":"jaime","Jean-Robert Bellande":"jeanrobert","Mikey Bortone":"michael","Jacquie Berg":"jacque","Kenny Hoang":"ken","Coach Wade":"ben","Debbie Beebe":"debra","Jimmy Johnson":"jimmyj","Jud 'Fabio' Birza":"fabio","Ben 'Benry' Henry":"benry","Matthew 'Sash' Lenahan":"mathew","Jimmy Tarantino":"jimmyt","Benjamin 'Coach' Wade":"coach","John Cochran":"cochran","Greg 'Tarzan' Smith":"tarzan","Jonathan Penner":"penner","Abi-Maria Gomes":"abi","Michael Skupin":"skupin","Sarah Dawson":"dawson","Laura Morett":"lauram","Laura Boneham":"laurab","So Kim":"sokim","Joe Del Campo":"joseph","Liz Markham":"elisabeth","Justin 'Jay' Starrett":"jay","Stephanie Gonzalez":"stephanieg","Stephanie Johnson":"stephaniej","Wardog DaSilva":"dan","Noura Salman":"naura","JD Robinson":"jairus","Shan Smith":"shantel","Elisabeth 'Elie' Scott":"elie","Mike Gabler":"gabler","Yam Yam Arocho":"yamyam","Jamie Lynn Ruiz":"jaime","Nicholas 'Sifu' Alsup":"sifu","Janani Krishnan-Jha":"jmaya","David Jelinksy":"jelinsky","Jemila Hussain-Adams":"jem","Solomon Yi":"sol","Terran Foster":"tk","Jerome Cooney":"rome","G.C. Brown":"danny"};let s;s=i[e.name]?i[e.name]:e.name.toLowerCase().split(" ")[0];const a=`https://firebasestorage.googleapis.com/v0/b/survivorranks-ee419.firebasestorage.app/o/${encodeURIComponent(`Headshots/Season ${r}/${s}.png`)}?alt=media`;return console.log("Trying direct URL:",a),a}},Ov=async e=>{try{const t=`Survivor Seasons/Season ${e.startsWith("s")?e.substring(1):e}.png`;console.log("Attempting to load season logo:",t);const n=si(Av,t),r=await ii(n);return console.log("Generated logo URL:",r),r}catch(t){console.error("Error getting season logo URL:",t);const n=e.startsWith("s")?e.substring(1):e,r=`https://firebasestorage.googleapis.com/v0/b/survivorranks-ee419.firebasestorage.app/o/${encodeURIComponent(`Survivor Seasons/Season ${n}.png`)}?alt=media`;return console.log("Trying direct logo URL:",r),r}},Mv=async(e,t,n)=>{try{const r=Gh(Lv,"rankings","current");return await em(r,{maddysList:e,andrewsList:t,kendallsList:n,lastUpdated:(new Date).toISOString()}),console.log("Rankings saved successfully"),!0}catch(r){return console.error("Error saving rankings:",r),!1}},jv=e=>function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=Ot(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Yh(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Yh(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof Wh)d=Fh(e.firestore,Xh),h=Co(e._key.path),u={next:t=>{n[l]&&n[l](sm(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Fh(e,Hh);d=Fh(t.firestore,Xh),h=t._query;const r=new Xf(d);u={next:e=>{n[l]&&n[l](new Jf(d,r,t,e))},error:n[l+1],complete:n[l+2]},Lf(e._query)}return function(e,t,n,r){const i=new Sh(r),s=new Bd(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Od(await Rh(e),s))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>Md(await Rh(e),s)))}}(Zh(d),h,c,u)}(Gh(Lv,"rankings","current"),(t=>{t.exists()?e(t.data()):e({maddysList:[],andrewsList:[],kendallsList:[]})}),(e=>{console.error("Error listening to rankings updates:",e)})),Uv=async()=>{try{const e=new Xp,t=await async function(e,t,n){if(Gn(e.app))return Promise.reject(mm(e,"operation-not-supported-in-this-environment"));const r=_p(e);vm(e,t,Jp);const i=Fg(r,n);return new qg(r,"signInViaPopup",t,i).executeNotNull()}(Dv,e);return t.user}catch(e){throw console.error("Error signing in with Google:",e),e}},Fv=async()=>{try{return await function(e){return Ot(e).signOut()}(Dv),console.log("User signed out successfully"),!0}catch(e){throw console.error("Error signing out:",e),e}},Vv=e=>function(e,t,n,r){return Ot(e).onAuthStateChanged(t,n,r)}(Dv,e),zv=[{id:"s1",name:"Survivor: Borneo",contestants:[{id:"dirk-heen",name:"Dirk Heen"},{id:"gretchen-cordy",name:"Gretchen Cordy"},{id:"jenna-lewis",name:"Jenna Lewis"},{id:"b-b-andersen",name:"B.B. Andersen"},{id:"rudy-boehlke",name:"Rudy Boehlke"},{id:"sonja-christopher",name:"Sonja Christopher"},{id:"richard-hatch",name:"Richard Hatch"},{id:"joel-klug",name:"Joel Klug"},{id:"gervase-peterson",name:"Gervase Peterson"},{id:"kelly-wiglesworth",name:"Kelly Wiglesworth"},{id:"greg-buis",name:"Greg Buis"},{id:"susan-hawk",name:"Susan Hawk"},{id:"sean-kenniff",name:"Sean Kenniff"},{id:"colleen-haskell",name:"Colleen Haskell"},{id:"ramona-gray",name:"Ramona Gray"},{id:"stacey-stillman",name:"Stacey Stillman"}]},{id:"s2",name:"Survivor: The Australian Outback",contestants:[{id:"kel-gleason",name:"Kel Gleason"},{id:"amber-brkich",name:"Amber Brkich"},{id:"tina-wesson",name:"Tina Wesson"},{id:"michael-skupin",name:"Michael Skupin"},{id:"elizabeth-filarski",name:"Elizabeth Filarski"},{id:"keith-famie",name:"Keith Famie"},{id:"colby-donaldson",name:"Colby Donaldson"},{id:"rodger-bingham",name:"Rodger Bingham"},{id:"nick-brown",name:"Nick Brown"},{id:"alicia-calaway",name:"Alicia Calaway"},{id:"debb-eaton",name:"Debb Eaton"},{id:"jerri-manthey",name:"Jerri Manthey"},{id:"jeff-varner",name:"Jeff Varner"},{id:"maralyn-mad-dog-hershey",name:"Maralyn 'Mad Dog' Hershey"},{id:"kimmi-kappenberg",name:"Kimmi Kappenberg"},{id:"mitchell-olsen",name:"Mitchell Olsen"}]},{id:"s3",name:"Survivor: Africa",contestants:[{id:"linda-spencer",name:"Linda Spencer"},{id:"ethan-zohn",name:"Ethan Zohn"},{id:"frank-garrison",name:"Frank Garrison"},{id:"diane-ogden",name:"Diane Ogden"},{id:"lex-van-phedke",name:"Lex van Phedke"},{id:"jessica-johnston",name:"Jessica Johnston"},{id:"kim-powers",name:"Kim Powers"},{id:"tom-buchanan",name:"Tom Buchanan"},{id:"t-bird-cooper",name:"T-Bird Cooper"},{id:"brandon-quinton",name:"Brandon Quinton"},{id:"kelly-goldsmith",name:"Kelly Goldsmith"},{id:"kim-johnson",name:"Kim Johnson"},{id:"clarence-black",name:"Clarence Black"},{id:"silas-gaither",name:"Silas Gaither"},{id:"carl-bilancione",name:"Carl Bilancione"},{id:"lindsey-richter",name:"Lindsey Richter"}]},{id:"s4",name:"Survivor: Marquesas",contestants:[{id:"hunter-ellis",name:"Hunter Ellis"},{id:"vecepia-towery",name:"Vecepia Towery"},{id:"gina-crews",name:"Gina Crews"},{id:"sean-rector",name:"Sean Rector"},{id:"paschal-english",name:"Paschal English"},{id:"neleh-dennis",name:"Neleh Dennis"},{id:"kathy-vavrick-obrien",name:"Kathy Vavrick-O'Brien"},{id:"robert-decanio",name:"Robert DeCanio"},{id:"tammy-leitner",name:"Tammy Leitner"},{id:"john-carroll",name:"John Carroll"},{id:"rob-mariano",name:"Rob Mariano"},{id:"gabriel-cade",name:"Gabriel Cade"},{id:"peter-harkey",name:"Peter Harkey"},{id:"patricia-jackson",name:"Patricia Jackson"},{id:"sarah-jones",name:"Sarah Jones"},{id:"zoe-zanidakis",name:"Zoe Zanidakis"}]},{id:"s5",name:"Survivor: Thailand",contestants:[{id:"john-raymond",name:"John Raymond"},{id:"brian-heidik",name:"Brian Heidik"},{id:"clay-jordan",name:"Clay Jordan"},{id:"jan-gorny",name:"Jan Gorny"},{id:"helen-glover",name:"Helen Glover"},{id:"ted-rogers",name:"Ted Rogers"},{id:"shii-ann-huang",name:"Shii-Ann Huang"},{id:"penny-ramsey",name:"Penny Ramsey"},{id:"jake-billingsley",name:"Jake Billingsley"},{id:"ken-stoja",name:"Ken Stoja"},{id:"erin-collins",name:"Erin Collins"},{id:"stephanie-dill",name:"Stephanie Dill"},{id:"robb-zbacnik",name:"Robb Zbacnik"},{id:"jed-hildebrand",name:"Jed Hildebrand"},{id:"ghandia-johnson",name:"Ghandia Johnson"},{id:"tanya-vance",name:"Tanya Vance"}]},{id:"s6",name:"Survivor: The Amazon",contestants:[{id:"daniel-lue",name:"Daniel Lue"},{id:"jeanne-herbert",name:"Jeanne Herbert"},{id:"matthew-von-ertfelda",name:"Matthew von Ertfelda"},{id:"rob-cesternino",name:"Rob Cesternino"},{id:"christy-smith",name:"Christy Smith"},{id:"deena-bennett",name:"Deena Bennett"},{id:"dave-johnson",name:"Dave Johnson"},{id:"alex-bell",name:"Alex Bell"},{id:"heidi-strobel",name:"Heidi Strobel"},{id:"butch-lally",name:"Butch Lally"},{id:"joanna-ward",name:"Joanna Ward"},{id:"shawna-mitchell",name:"Shawna Mitchell"},{id:"roger-sexton",name:"Roger Sexton"},{id:"jenna-morasca",name:"Jenna Morasca"},{id:"ryan-akien",name:"Ryan Aken"},{id:"janet-koth",name:"Janet Koth"}]},{id:"s7",name:"Survivor: Pearl Islands",contestants:[{id:"nicole-delma",name:"Nicole Delma"},{id:"sandra-diaz-twine",name:"Sandra Diaz-Twine"},{id:"jonny-fairplay",name:"Jonny Fairplay"},{id:"lill-morris",name:"Lill Morris"},{id:"darrah-johnson",name:"Darrah Johnson"},{id:"burton-roberts",name:"Burton Roberts"},{id:"tijuana-bradley",name:"Tijuana Bradley"},{id:"christa-hastie",name:"Christa Hastie"},{id:"rupert-boneham",name:"Rupert Boneham"},{id:"trish-duncan",name:"Trish Duncan"},{id:"ryan-opray",name:"Ryan Opray"},{id:"andrew-savage",name:"Andrew Savage"},{id:"osten-taylor",name:"Osten Taylor"},{id:"shawn-cohen",name:"Shawn Cohen"},{id:"michelle-tesauro",name:"Michelle Tesauro"},{id:"ryan-shoulders",name:"Ryan Shoulders"}]},{id:"s8",name:"Survivor: All-Stars",contestants:[{id:"susan-hawk",name:"Susan Hawk"},{id:"amber-brkich",name:"Amber Brkich"},{id:"rob-mariano",name:"Rob Mariano"},{id:"jenna-lewis",name:"Jenna Lewis"},{id:"rupert-boneham",name:"Rupert Boneham"},{id:"tom-buchanan",name:"Tom Buchanan"},{id:"shii-ann-huang",name:"Shii-Ann Huang"},{id:"alicia-calaway",name:"Alicia Calaway"},{id:"kathy-vavrick-obrien",name:"Kathy Vavrick-O'Brien"},{id:"lex-van-phedke",name:"Lex van Phedke"},{id:"jerri-manthey",name:"Jerri Manthey"},{id:"ethan-zohn",name:"Ethan Zohn"},{id:"colby-donaldson",name:"Colby Donaldson"},{id:"richard-hatch",name:"Richard Hatch"},{id:"rudy-boehlke",name:"Rudy Boehlke"},{id:"tina-wesson",name:"Tina Wesson"},{id:"rob-cesternino",name:"Rob Cesternino"}]},{id:"s9",name:"Survivor: Vanuatu",contestants:[{id:"mia-bradtke",name:"Mia Bradtke"},{id:"chris-daugherty",name:"Chris Daugherty"},{id:"twila-tanner",name:"Twila Tanner"},{id:"scout-cloud-lee",name:"Scout Cloud Lee"},{id:"ami-cusack",name:"Ami Cusack"},{id:"eliza-orlins",name:"Eliza Orlins"},{id:"julie-berry",name:"Julie Berry"},{id:"lea-master-siska",name:"Lea 'Sarge' Masters-Siska"},{id:"chad-crittenden",name:"Chad Crittenden"},{id:"leann-slaby",name:"Leann Slaby"},{id:"dolly-neely",name:"Dolly Neely"},{id:"john-palmer",name:"John Palmer"},{id:"john-kenney",name:"John Kenney"},{id:"brady-finta",name:"Brady Finta"},{id:"brook-geraghty",name:"Brook Geraghty"},{id:"john-billingsley",name:"John Billingsley"},{id:"travis-sampson",name:"Travis Sampson"}]},{id:"s10",name:"Survivor: Palau",contestants:[{id:"coby-archa",name:"Coby Archa"},{id:"tom-westman",name:"Tom Westman"},{id:"ian-rosenberger",name:"Ian Rosenberger"},{id:"katie-gallagher",name:"Katie Gallagher"},{id:"stephanie-lagrossa",name:"Stephanie Lagrossa"},{id:"gregg-carey",name:"Gregg Carey"},{id:"jennifer-lyon",name:"Jennifer Lyon"},{id:"caryn-groedel",name:"Caryn Groedel"},{id:"janu-tornell",name:"Janu Tornell"},{id:"bobby-jon-drinkard",name:"Bobby Jon Drinkard"},{id:"angie-jakusz",name:"Angie Jakusz"},{id:"james-miller",name:"James Miller"},{id:"ibrahim-hassan",name:"Ibrahim Hassan"},{id:"kim-mullen",name:"Kim Mullen"},{id:"willard-smith",name:"Willard Smith"},{id:"ashlee-ashby",name:"Ashlee Ashby"},{id:"jolanda-jones",name:"Jolanda Jones"},{id:"wanda-shirk",name:"Wanda Shirk"},{id:"jeff-wilson",name:"Jeff Wilson"},{id:"jonathan-libby",name:"Jonathan Libby"}]},{id:"s11",name:"Survivor: Guatemala",contestants:[{id:"margaret-bobonich",name:"Margaret Bobonich"},{id:"danni-boatwright",name:"Danni Boatwright"},{id:"stephanie-lagrossa",name:"Stephanie Lagrossa"},{id:"rafe-judkins",name:"Rafe Judkins"},{id:"lydia-morales",name:"Lydia Morales"},{id:"cindy-hall",name:"Cindy Hall"},{id:"judd-sergeant",name:"Judd Sergeant"},{id:"jamie-newton",name:"Jamie Newton"},{id:"bobby-jon-drinkard",name:"Bobby Jon Drinkard"},{id:"gary-hogeboom",name:"Gary Hogeboom"},{id:"amy-o'hara",name:"Amy O'Hara"},{id:"brandon-bellinger",name:"Brandon Bellinger"},{id:"brianna-varel",name:"Brianna Varel"},{id:"brooke-struck",name:"Brooke Struck"},{id:"blake-towsley",name:"Blake Towsley"},{id:"brian-corum",name:"Brian Corum"},{id:"jim-lynch",name:"Jim Lynch"},{id:"morgan-mcdaniel",name:"Morgan McDaniel"}]},{id:"s12",name:"Survivor: Panama",contestants:[{id:"dan-barry",name:"Dan Barry"},{id:"aras-baskauskas",name:"Aras Baskauskas"},{id:"danielle-dilorenzo",name:"Danielle DiLorenzo"},{id:"terry-deitz",name:"Terry Deitz"},{id:"cirie-fields",name:"Cirie Fields"},{id:"shane-powers",name:"Shane Powers"},{id:"courtney-marit",name:"Courtney Marit"},{id:"sally-schumann",name:"Sally Schumann"},{id:"austin-carty",name:"Austin Carty"},{id:"bruce-kanegai",name:"Bruce Kanegai"},{id:"bobby-mason",name:"Bobby Mason"},{id:"nick-stanbury",name:"Nick Stanbury"},{id:"tina-scheer",name:"Tina Scheer"},{id:"melinda-hyder",name:"Melinda Hyder"},{id:"misty-giles",name:"Misty Giles"},{id:"ruth-marie-milliman",name:"Ruth Marie Milliman"}]},{id:"s13",name:"Survivor: Cook Islands",contestants:[{id:"stephanie-favor",name:"Stephanie Favor"},{id:"yul-kwon",name:"Yul Kwon"},{id:"ozzy-lusth",name:"Ozzy Lusth"},{id:"becky-lee",name:"Becky Lee"},{id:"sundra-oakley",name:"Sundra Oakley"},{id:"adam-gentry",name:"Adam Gentry"},{id:"parvati-shallow",name:"Parvati Shallow"},{id:"candice-woodcock",name:"Candice Woodcock"},{id:"jonathan-penner",name:"Jonathan Penner"},{id:"nate-gonzalez",name:"Nate Gonzalez"},{id:"cecilia-mansilla",name:"Cecilia Mansilla"},{id:"rebecca-borman",name:"Rebecca Borman"},{id:"jenny-guzon-bae",name:"Jenny Guzon-Bae"},{id:"cristina-mire",name:"Cristina Mire"},{id:"brad-virata",name:"Brad Virata"},{id:"sekou-bunch",name:"Sekou Bunch"},{id:"billy-garcia",name:"Billy Garcia"},{id:"cao-boi-bui",name:"Cao Boi Bui"},{id:"jp-calderon",name:"JP Calderon"},{id:"jessica-smith",name:"Jessica Smith"}]},{id:"s14",name:"Survivor: Fiji",contestants:[{id:"anthony-robinson",name:"Anthony Robinson"},{id:"earl-cole",name:"Earl Cole"},{id:"yau-man-chan",name:"Yau-Man Chan"},{id:"dreamz-herd",name:"Dreamz Herd"},{id:"cassandra-franklin",name:"Cassandra Franklin"},{id:"boo-bernis",name:"Boo Bernis"},{id:"stacy-kimball",name:"Stacy Kimball"},{id:"alex-angarita",name:"Alex Angarita"},{id:"mookie-lee",name:"Mookie Lee"},{id:"edgardo-rivera",name:"Edgardo Rivera"},{id:"lisi-linares",name:"Lisi Linares"},{id:"james-reid",name:"James Reid"},{id:"michelle-yi",name:"Michelle Yi"},{id:"sylvia-kwan",name:"Sylvia Kwan"},{id:"liliana-gomes",name:"Liliana Gomes"},{id:"gary-stritesky",name:"Gary Stritesky"},{id:"jessica-deben",name:"Jessica Deben"},{id:"erica-durrse",name:"Erica Durrse"},{id:"rita-verreos",name:"Rita Verreos"}]},{id:"s15",name:"Survivor: China",contestants:[{id:"leslie-nease",name:"Leslie Nease"},{id:"todd-herzog",name:"Todd Herzog"},{id:"courtney-yates",name:"Courtney Yates"},{id:"amanda-kimmel",name:"Amanda Kimmel"},{id:"denise-martin",name:"Denise Martin"},{id:"peih-gee-law",name:"Peih-Gee Law"},{id:"erik-huffman",name:"Erik Huffman"},{id:"jamie-dugan",name:"Jamie Dugan"},{id:"frosti-zernow",name:"Frosti Zernow"},{id:"jean-robert-bellande",name:"Jean-Robert Bellande"},{id:"james-clement",name:"James Clement"},{id:"aaron-reisberger",name:"Aaron Reisberger"},{id:"dave-cruser",name:"Dave Cruser"},{id:"sherea-lloyd",name:"Sherea Lloyd"},{id:"chicken-morris",name:"Chicken Morris"},{id:"ashley-masser",name:"Ashley Masser"}]},{id:"s16",name:"Survivor: Micronesia",contestants:[{id:"mary-sartain",name:"Mary Sartain"},{id:"parvati-shallow",name:"Parvati Shallow"},{id:"amanda-kimmel",name:"Amanda Kimmel"},{id:"cirie-fields",name:"Cirie Fields"},{id:"natalie-bolton",name:"Natalie Bolton"},{id:"erik-reichenbach",name:"Erik Reichenbach"},{id:"alexis-jones",name:"Alexis Jones"},{id:"james-clement",name:"James Clement"},{id:"ozzy-lusth",name:"Ozzy Lusth"},{id:"jason-siska",name:"Jason Siska"},{id:"eliza-orlins",name:"Eliza Orlins"},{id:"jonathan-penner",name:"Jonathan Penner"},{id:"yau-man-chan",name:"Yau-Man Chan"},{id:"ami-cusack",name:"Ami Cusack"},{id:"tracy-hughes-wolf",name:"Tracy Hughes-Wolf"},{id:"kathy-sleckman",name:"Kathy Sleckman"},{id:"chet-welch",name:"Chet Welch"},{id:"joel-anderson",name:"Joel Anderson"},{id:"mikey-bortone",name:"Mikey Bortone"},{id:"jonny-fairplay",name:"Jonny Fairplay"}]},{id:"s17",name:"Survivor: Gabon",contestants:[{id:"paloma-soto-castillo",name:"Paloma Soto-Castillo"},{id:"bob-crowley",name:"Bob Crowley"},{id:"sugar-kiper",name:"Sugar Kiper"},{id:"matty-whitmore",name:"Matty Whitmore"},{id:"susie-smith",name:"Susie Smith"},{id:"kenny-hoang",name:"Kenny Hoang"},{id:"crystal-cox",name:"Crystal Cox"},{id:"marcus-lehman",name:"Marcus Lehman"},{id:"corinne-kaplan",name:"Corinne Kaplan"},{id:"charlie-hershkowitz",name:"Charlie Hershkowitz"},{id:"randy-bailey",name:"Randy Bailey"},{id:"dan-kay",name:"Dan Kay"},{id:"kelly-czarnecki",name:"Kelly Czarnecki"},{id:"ace-gordon",name:"Ace Gordon"},{id:"jacquie-berg",name:"Jacquie Berg"},{id:"g-c-brown",name:"G.C. Brown"},{id:"gillian-larson",name:"Gillian Larson"},{id:"michelle-chase",name:"Michelle Chase"}]},{id:"s18",name:"Survivor: Tocantins",contestants:[{id:"jerry-sims",name:"Jerry Sims"},{id:"james-thomas",name:"James Thomas"},{id:"stephen-fischbach",name:"Stephen Fischbach"},{id:"taj-johnson",name:"Taj Johnson"},{id:"erinn-lobdell",name:"Erinn Lobdell"},{id:"sierra-reed",name:"Sierra Reed"},{id:"coach-wade",name:"Coach Wade"},{id:"debbie-beebe",name:"Debbie Beebe"},{id:"tyson-apostol",name:"Tyson Apostol"},{id:"brendan-synott",name:"Brendan Synott"},{id:"sydney-wheeler",name:"Sydney Wheeler"},{id:"joe-dowdle",name:"Joe Dowdle"},{id:"sandy-burgin",name:"Sandy Burgin"},{id:"spencer-duhm",name:"Spencer Duhm"},{id:"carolina-eastwood",name:"Carolina Eastwood"},{id:"candace-smith",name:"Candace Smith"}]},{id:"s19",name:"Survivor: Samoa",contestants:[{id:"elizabeth-hasselbeck",name:"Elizabeth Hasselbeck"},{id:"natalie-white",name:"Natalie White"},{id:"mick-trimming",name:"Mick Trimming"},{id:"russell-hantz",name:"Russell Hantz"},{id:"brett-clouser",name:"Brett Clouser"},{id:"jaison-robinson",name:"Jaison Robinson"},{id:"monica-padilla",name:"Monica Padilla"},{id:"shambo-waters",name:"Shambo Waters"},{id:"dave-ball",name:"Dave Ball"},{id:"john-fincher",name:"John Fincher"},{id:"laura-morett",name:"Laura Morett"},{id:"kelly-sharbaugh",name:"Kelly Sharbaugh"},{id:"erik-cardona",name:"Erik Cardona"},{id:"ashley-trainer",name:"Ashley Trainer"},{id:"ben-browning",name:"Ben Browning"},{id:"marisa-calihan",name:"Marisa Calihan"},{id:"mike-borassi",name:"Mike Borassi"},{id:"yasmin-giles",name:"Yasmin Giles"}]},{id:"s20",name:"Survivor: Heroes vs. Villains",contestants:[{id:"tom-westman",name:"Tom Westman"},{id:"sandra-diaz-twine",name:"Sandra Diaz-Twine"},{id:"parvati-shallow",name:"Parvati Shallow"},{id:"russell-hantz",name:"Russell Hantz"},{id:"jerri-manthey",name:"Jerri Manthey"},{id:"colby-donaldson",name:"Colby Donaldson"},{id:"rupert-boneham",name:"Rupert Boneham"},{id:"cirie-fields",name:"Cirie Fields"},{id:"james-clement",name:"James Clement"},{id:"amanda-kimmel",name:"Amanda Kimmel"},{id:"candice-woodcock",name:"Candice Woodcock"},{id:"danielle-dilorenzo",name:"Danielle DiLorenzo"},{id:"coach-wade",name:"Coach Wade"},{id:"courtney-yates",name:"Courtney Yates"},{id:"jt",name:"JT"},{id:"stephanie-lagrossa",name:"Stephanie Lagrossa"},{id:"tyson-apostol",name:"Tyson Apostol"},{id:"randy-bailey",name:"Randy Bailey"},{id:"sugar-kiper",name:"Sugar Kiper"},{id:"rob-mariano",name:"Rob Mariano"}]},{id:"s21",name:"Survivor: Nicaragua",contestants:[{id:"brenda-lowe",name:"Brenda Lowe"},{id:"kelly-bruno",name:"Kelly Bruno"},{id:"jimmy-johnson",name:"Jimmy Johnson"},{id:"dan-lembo",name:"Dan Lembo"},{id:"jane-bright",name:"Jane Bright"},{id:"marty-piombo",name:"Marty Piombo"},{id:"jud-birza",name:"Jud 'Fabio' Birza"},{id:"holly-hoffman",name:"Holly Hoffman"},{id:"ben-henry",name:"Ben 'Benry' Henry"},{id:"chase-rice",name:"Chase Rice"},{id:"matthew-lenahan",name:"Matthew 'Sash' Lenahan"},{id:"alina-wilson",name:"Alina Wilson"},{id:"kelly-shinn",name:"Kelly Shinn"},{id:"naonka-mixon",name:"NaOnka Mixon"},{id:"yve-rojas",name:"Yve Rojas"},{id:"tyrone-davis",name:"Tyrone Davis"},{id:"jimmy-tarantino",name:"Jimmy Tarantino"},{id:"shannon-elkins",name:"Shannon Elkins"},{id:"wendy-jo-desmidt-kohlhoff",name:"Wendy Jo Desmidt-Kohlhoff"},{id:"jill-behm",name:"Jill Behm"}]},{id:"s22",name:"Survivor: Redemption Island",contestants:[{id:"andrea-boehlke",name:"Andrea Boehlke"},{id:"phillip-sheppard",name:"Phillip Sheppard"},{id:"steve-wright",name:"Steve Wright"},{id:"julie-wolfe",name:"Julie Wolfe"},{id:"ralph-kiser",name:"Ralph Kiser"},{id:"david-murphy",name:"David Murphy"},{id:"mike-chiesl",name:"Mike Chiesl"},{id:"matt-elrod",name:"Matt Elrod"},{id:"russell-hantz",name:"Russell Hantz"},{id:"stephanie-valencia",name:"Stephanie Valencia"},{id:"krista-klumpp",name:"Krista Klumpp"},{id:"sarita-white",name:"Sarita White"},{id:"francesca-hogi",name:"Francesca Hogi"},{id:"kristina-kell",name:"Kristina Kell"},{id:"grant-mattos",name:"Grant Mattos"},{id:"rob-mariano",name:"Rob Mariano"},{id:"ashley-underwood",name:"Ashley Underwood"},{id:"natalie-tenerelli",name:"Natalie Tenerelli"}]},{id:"s23",name:"Survivor: South Pacific",contestants:[{id:"brandon-hantz",name:"Brandon Hantz"},{id:"dawn-meehan",name:"Dawn Meehan"},{id:"albert-destrade",name:"Albert Destrade"},{id:"rick-nelson",name:"Rick Nelson"},{id:"sophie-clarke",name:"Sophie Clarke"},{id:"benjamin-wade",name:"Benjamin 'Coach' Wade"},{id:"ozzy-lusth",name:"Ozzy Lusth"},{id:"john-cochran",name:"John Cochran"},{id:"keith-tollefson",name:"Keith Tollefson"},{id:"jim-rice",name:"Jim Rice"},{id:"whitney-duncan",name:"Whitney Duncan"},{id:"edna-ma",name:"Edna Ma"},{id:"christine-shields-markoski",name:"Christine Shields-Markoski"},{id:"stacey-powell",name:"Stacey Powell"},{id:"mikayla-wingle",name:"Mikayla Wingle"},{id:"elyse-umemoto",name:"Elyse Umemoto"},{id:"papa-bear-caruso",name:"Mark 'Papa Bear' Caruso"},{id:"semhar-tadesse",name:"Semhar Tadesse"}]},{id:"s24",name:"Survivor: One World",contestants:[{id:"troyzan-robertson",name:"Troyzan Robertson"},{id:"christina-cha",name:"Christina Cha"},{id:"greg-smith",name:"Greg 'Tarzan' Smith"},{id:"kat-edorsson",name:"Kat Edorsson"},{id:"alicia-rosa",name:"Alicia Rosa"},{id:"kim-spradlin",name:"Kim Spradlin"},{id:"chelsea-meissner",name:"Chelsea Meissner"},{id:"sabrina-thompson",name:"Sabrina Thompson"},{id:"leif-manson",name:"Leif Manson"},{id:"michael-jefferson",name:"Michael Jefferson"},{id:"jonas-otsuji",name:"Jonas Otsuji"},{id:"monica-culpepper",name:"Monica Culpepper"},{id:"colton-cumbie",name:"Colton Cumbie"},{id:"bill-posley",name:"Bill Posley"},{id:"nina-acosta",name:"Nina Acosta"},{id:"matt-quinlan",name:"Matt Quinlan"},{id:"kourtney-moon",name:"Kourtney Moon"},{id:"jay-byars",name:"Jay Byars"}]},{id:"s25",name:"Survivor: Philippines",contestants:[{id:"malcolm-freberg",name:"Malcolm Freberg"},{id:"jonathan-penner",name:"Jonathan Penner"},{id:"russell-swan",name:"Russell Swan"},{id:"pete-yurkowski",name:"Pete Yurkowski"},{id:"rc-saint-amour",name:"RC Saint-Amour"},{id:"abi-maria-gomes",name:"Abi-Maria Gomes"},{id:"lisa-whelchel",name:"Lisa Whelchel"},{id:"michael-skupin",name:"Michael Skupin"},{id:"denise-stapley",name:"Denise Stapley"},{id:"carter-williams",name:"Carter Williams"},{id:"artis-silvester",name:"Artis Silvester"},{id:"jeff-kent",name:"Jeff Kent"},{id:"katie-hanson",name:"Katie Hanson"},{id:"dawson",name:"Sarah Dawson"},{id:"dana-lambert",name:"Dana Lambert"},{id:"angie-layton",name:"Angie Layton"},{id:"roxy-morris",name:"Roxanne 'Roxy' Morris"},{id:"zane-knight",name:"Zane Knight"}]},{id:"s26",name:"Survivor: Caramoan",contestants:[]},{id:"s27",name:"Survivor: Blood vs. Water",contestants:[{id:"brad-culpepper",name:"Brad Culpepper"},{id:"tyson-apostol",name:"Tyson Apostol"},{id:"laura-morett",name:"Laura Morett"},{id:"katie-collins",name:"Katie Collins"},{id:"rachel-foulger",name:"Rachel Foulger"},{id:"gervase-peterson",name:"Gervase Peterson"},{id:"kat-edorsson",name:"Kat Edorsson"},{id:"hayden-moss",name:"Hayden Moss"},{id:"caleb-bankston",name:"Caleb Bankston"},{id:"ciera-eastin",name:"Ciera Eastin"},{id:"colton-cumbie",name:"Colton Cumbie"},{id:"monica-culpepper",name:"Monica Culpepper"},{id:"marissa-peterson",name:"Marissa Peterson"},{id:"aras-baskauskas",name:"Aras Baskauskas"},{id:"vytas-baskauskas",name:"Vytas Baskauskas"},{id:"tina-wesson",name:"Tina Wesson"},{id:"laura-boneham",name:"Laura Boneham"},{id:"rupert-boneham",name:"Rupert Boneham"},{id:"john-cody",name:"John Cody"},{id:"candice-cody",name:"Candice Cody"}]},{id:"s28",name:"Survivor: Cagayan",contestants:[{id:"morgan-mcleod",name:"Morgan McLeod"},{id:"spencer-bledsoe",name:"Spencer Bledsoe"},{id:"david-samson",name:"David Samson"},{id:"garrett-adelstein",name:"Garrett Adelstein"},{id:"j'tia-taylor",name:"J'Tia Taylor"},{id:"jeremiah-wood",name:"Jeremiah Wood"},{id:"cliff-robinson",name:"Cliff Robinson"},{id:"lindsey-ogle",name:"Lindsey Ogle"},{id:"tony-vlachos",name:"Tony Vlachos"},{id:"sarah-lacina",name:"Sarah Lacina"},{id:"woo-hwang",name:"Woo Hwang"},{id:"kass-mcquillen",name:"Kass McQuillen"},{id:"jefra-bland",name:"Jefra Bland"},{id:"lj-mckanas",name:"LJ McKanas"},{id:"alexis-maxwell",name:"Alexis Maxwell"},{id:"brice-johnston",name:"Brice Johnston"},{id:"trish-hegarty",name:"Trish Hegarty"},{id:"tasha-fox",name:"Tasha Fox"}]},{id:"s29",name:"Survivor: San Juan del Sur",contestants:[{id:"julie-mcgee",name:"Julie McGee"},{id:"reed-kelly",name:"Reed Kelly"},{id:"nadiya-anderson",name:"Nadiya Anderson"},{id:"val-collins",name:"Val Collins"},{id:"jeremy-collins",name:"Jeremy Collins"},{id:"drew-christy",name:"Drew Christy"},{id:"alec-christy",name:"Alec Christy"},{id:"wes-nale",name:"Wes Nale"},{id:"keith-nale",name:"Keith Nale"},{id:"natalie-anderson",name:"Natalie Anderson"},{id:"missy-payne",name:"Missy Payne"},{id:"baylor-wilson",name:"Baylor Wilson"},{id:"jon-misch",name:"Jon Misch"},{id:"jaclyn-schultz",name:"Jaclyn Schultz"},{id:"josh-canfield",name:"Josh Canfield"},{id:"john-rocker",name:"John Rocker"},{id:"kelley-wentworth",name:"Kelley Wentworth"},{id:"dale-wentworth",name:"Dale Wentworth"}]},{id:"s30",name:"Survivor: Worlds Apart",contestants:[{id:"carolyn-rivera",name:"Carolyn Rivera"},{id:"nina-poersch",name:"Nina Poersch"},{id:"max-dawson",name:"Max Dawson"},{id:"will-sims",name:"Will Sims II"},{id:"dan-foley",name:"Dan Foley"},{id:"vince-sly",name:"Vince Sly"},{id:"joe-anglim",name:"Joe Anglim"},{id:"hali-ford",name:"Hali Ford"},{id:"kelly-remington",name:"Kelly Remington"},{id:"sierra-dawn-thomas",name:"Sierra Dawn Thomas"},{id:"rodney-lavoie",name:"Rodney Lavoie Jr."},{id:"mike-holloway",name:"Mike Holloway"},{id:"so-kim",name:"So Kim"},{id:"lindsey-cascaddan",name:"Lindsey Cascaddan"},{id:"joaquin-souberbielle",name:"Joaquin Souberbielle"},{id:"jennifer-brown",name:"Jennifer Brown"},{id:"shirin-oskooi",name:"Shirin Oskooi"},{id:"tyler-fredrickson",name:"Tyler Fredrickson"}]},{id:"s31",name:"Survivor: Cambodia",contestants:[]},{id:"s32",name:"Survivor: Ka\xf4h R\u014dng",contestants:[{id:"julia-sokolowski",name:"Julia Sokolowski"},{id:"jennifer-lanzetti",name:"Jennifer Lanzetti"},{id:"kyle-jason",name:"Kyle Jason"},{id:"liz-markham",name:"Liz Markham"},{id:"neal-gottlieb",name:"Neal Gottlieb"},{id:"aubry-bracco",name:"Aubry Bracco"},{id:"joe-del-campo",name:"Joe Del Campo"},{id:"peter-baggenstos",name:"Peter Baggenstos"},{id:"darnell-hamilton",name:"Darnell Hamilton"},{id:"scot-pollard",name:"Scot Pollard"},{id:"tai-trang",name:"Tai Trang"},{id:"michele-fitzgerald",name:"Michele Fitzgerald"},{id:"debbie-wanner",name:"Debbie Wanner"},{id:"caleb-reynolds",name:"Caleb Reynolds"},{id:"alecia-holden",name:"Alecia Holden"},{id:"nick-maiorano",name:"Nick Maiorano"},{id:"anna-khait",name:"Anna Khait"},{id:"cydney-gillon",name:"Cydney Gillon"}]},{id:"s33",name:"Survivor: Millennials vs. Gen X",contestants:[{id:"mari-takahashi",name:"Mari Takahashi"},{id:"david-wright",name:"David Wright"},{id:"hannah-shapiro",name:"Hannah Shapiro"},{id:"jessica-lewis",name:"Jessica Lewis"},{id:"ken-mcnickle",name:"Ken McNickle"},{id:"will-wahl",name:"Will Wahl"},{id:"sunday-burquest",name:"Sunday Burquest"},{id:"taylor-stocker",name:"Taylor Stocker"},{id:"adam-klein",name:"Adam Klein"},{id:"ciandre-taylor",name:"CeCe Taylor"},{id:"chris-hammons",name:"Chris Hammons"},{id:"figgy-figueroa",name:"Figgy Figueroa"},{id:"lucy-huang",name:"Lucy Huang"},{id:"michaela-bradshaw",name:"Michaela Bradshaw"},{id:"michelle-schubert",name:"Michelle Schubert"},{id:"paul-wachter",name:"Paul Wachter"},{id:"rachel-ako",name:"Rachel Ako"},{id:"zeke-smith",name:"Zeke Smith"},{id:"justin-starrett",name:"Justin 'Jay' Starrett"},{id:"bret-labelle",name:"Bret LaBelle"}]},{id:"s35",name:"Survivor: Heroes vs. Healers vs. Hustlers",contestants:[{id:"chrissy-hofbeck",name:"Chrissy Hofbeck"},{id:"devon-pinto",name:"Devon Pinto"},{id:"ryan-ulrich",name:"Ryan Ulrich"},{id:"ben-driebergen",name:"Ben Driebergen"},{id:"jessica-johnston",name:"Jessica Johnston"},{id:"desi-williams",name:"Desi Williams"},{id:"cole-medders",name:"Cole Medders"},{id:"jp-hilsabeck",name:"JP Hilsabeck"},{id:"joe-mena",name:"Joe Mena"},{id:"lauren-rimmer",name:"Lauren Rimmer"},{id:"ashley-nolan",name:"Ashley Nolan"},{id:"mike-zahalsky",name:"Mike Zahalsky"},{id:"katrina-radke",name:"Katrina Radke"},{id:"simone-nguyen",name:"Simone Nguyen"},{id:"patrick-bolton",name:"Patrick Bolton"},{id:"alan-ball",name:"Alan Ball"},{id:"ali-elliott",name:"Ali Elliott"},{id:"roark-luskin",name:"Roark Luskin"}]},{id:"s36",name:"Survivor: Ghost Island",contestants:[{id:"morgan-ricke",name:"Morgan Ricke"},{id:"jacob-derwin",name:"Jacob Derwin"},{id:"stephanie-gonzalez",name:"Stephanie Gonzalez"},{id:"brendan-shapiro",name:"Brendan Shapiro"},{id:"james-lim",name:"James Lim"},{id:"stephanie-johnson",name:"Stephanie Johnson"},{id:"bradley-kleihege",name:"Bradley Kleihege"},{id:"chris-noble",name:"Chris Noble"},{id:"libby-vincek",name:"Libby Vincek"},{id:"desiree-afuye",name:"Desiree Afuye"},{id:"chelsea-townsend",name:"Chelsea Townsend"},{id:"jenna-bowman",name:"Jenna Bowman"},{id:"michael-yerger",name:"Michael Yerger"},{id:"kellyn-bechtold",name:"Kellyn Bechtold"},{id:"sebastian-noel",name:"Sebastian Noel"},{id:"donathan-hurley",name:"Donathan Hurley"},{id:"angela-perkins",name:"Angela Perkins"},{id:"laurel-johnson",name:"Laurel Johnson"},{id:"dominic-abate",name:"Domenick Abbate"},{id:"wendell-holland",name:"Wendell Holland"}]},{id:"s37",name:"Survivor: David vs. Goliath",contestants:[{id:"natalie-cole",name:"Natalie Cole"},{id:"pat-cusack",name:"Pat Cusack"},{id:"bi-nguyen",name:"Bi Nguyen"},{id:"jeremy-crawford",name:"Jeremy Crawford"},{id:"jessica-peet",name:"Jessica Peet"},{id:"natalia-azoqa",name:"Natalia Azoqa"},{id:"lursa-torres",name:"Lyrsa Torres"},{id:"elizabeth-olson",name:"Elizabeth Olson"},{id:"john-hennigan",name:"John Hennigan"},{id:"dan-rengering",name:"Dan Rengering"},{id:"alec-merlino",name:"Alec Merlino"},{id:"carl-boudreaux",name:"Carl Boudreaux"},{id:"gabby-pascuzzi",name:"Gabby Pascuzzi"},{id:"christian-hubicki",name:"Christian Hubicki"},{id:"davie-rickenbacker",name:"Davie Rickenbacker"},{id:"alison-raybould",name:"Alison Raybould"},{id:"kara-kay",name:"Kara Kay"},{id:"angelina-keeley",name:"Angelina Keeley"},{id:"mike-white",name:"Mike White"},{id:"nick-wilson",name:"Nick Wilson"}]},{id:"s38",name:"Survivor: Edge of Extinction",contestants:[{id:"victoria-baamonde",name:"Victoria Baamonde"},{id:"lauren-o'connell",name:"Lauren O'Connell"},{id:"aurora-mccreary",name:"Aurora McCreary"},{id:"keith-sowell",name:"Keith Sowell"},{id:"reem-daley",name:"Reem Daly"},{id:"aubry-bracco",name:"Aubry Bracco"},{id:"joe-anglim",name:"Joe Anglim"},{id:"eric-hafemann",name:"Eric Hafemann"},{id:"julie-rosenberg",name:"Julie Rosenberg"},{id:"rick-devens",name:"Rick Devens"},{id:"wardog-da-silva",name:"Wardog DaSilva"},{id:"ron-clark",name:"Ron Clark"},{id:"kelley-wentworth",name:"Kelley Wentworth"},{id:"victoria-baamonde",name:"Victoria Baamonde"},{id:"lauren-o'connell",name:"Lauren O'Connell"},{id:"wendy-diaz",name:"Wendy Diaz"},{id:"gavin-whitson",name:"Gavin Whitson"},{id:"chris-underwood",name:"Chris Underwood"}]},{id:"s39",name:"Survivor: Island of the Idols",contestants:[{id:"tom-labrecque",name:"Tom Laidlaw"},{id:"vince-moua",name:"Vince Moua"},{id:"ronnie-bardah",name:"Ronnie Bardah"},{id:"molly-byman",name:"Molly Byman"},{id:"jason-lynden",name:"Jason Lynden"},{id:"chelsea-walker",name:"Chelsea Walker"},{id:"jack-nichting",name:"Jack Nichting"},{id:"jamal-shipman",name:"Jamal Shipman"},{id:"kellee-kim",name:"Kellee Kim"},{id:"elizabeth-beisel",name:"Elizabeth Beisel"},{id:"missy-byrd",name:"Missy Byrd"},{id:"aaron-meredith",name:"Aaron Meredith"},{id:"karishma-patel",name:"Karishma Patel"},{id:"elaine-stott",name:"Elaine Stott"},{id:"dan-spilo",name:"Dan Spilo"},{id:"janet-carbin",name:"Janet Carbin"},{id:"lauren-beck",name:"Lauren Beck"},{id:"noura-salman",name:"Noura Salman"},{id:"dean-kowalski",name:"Dean Kowalski"},{id:"tommy-sheehan",name:"Tommy Sheehan"}]},{id:"s40",name:"Survivor: Winners at War",contestants:[]},{id:"s41",name:"Survivor 41",contestants:[{id:"eric-abraham",name:"Eric Abraham"},{id:"sara-wilson",name:"Sara Wilson"},{id:"voce",name:"David Voce"},{id:"brad-reese",name:"Brad Reese"},{id:"jd-robinson",name:"JD Robinson"},{id:"genie-chen",name:"Genie Chen"},{id:"sydney-segal",name:"Sydney Segal"},{id:"tiffany-seely",name:"Tiffany Seely"},{id:"naseer-muttalif",name:"Naseer Muttalif"},{id:"evvie-jagoda",name:"Evvie Jagoda"},{id:"danny-mccray",name:"Danny McCray"},{id:"shan-smith",name:"Shan Smith"},{id:"liana-wallace",name:"Liana Wallace"},{id:"heather-aldret",name:"Heather Aldret"},{id:"xander-hastings",name:"Xander Hastings"},{id:"deshawn-radden",name:"DeShawn Radden"},{id:"erika-casupanan",name:"Erika Casupanan"},{id:"ricard-foye",name:"Ricard Foy\xe9"}]},{id:"s42",name:"Survivor 42",contestants:[{id:"jackson-fox",name:"Jackson Fox"},{id:"marya-sherron",name:"Marya Sherron"},{id:"zach-wurtenberger",name:"Zach Wurtenberger"},{id:"jenny-kim",name:"Jenny Kim"},{id:"swati-goel",name:"Swati Goel"},{id:"daniel-strunk",name:"Daniel Strunk"},{id:"lydia-meredith",name:"Lydia Meredith"},{id:"rocksroy-bailey",name:"Rocksroy Bailey"},{id:"chanelle-howell",name:"Chanelle Howell"},{id:"tori-meehan",name:"Tori Meehan"},{id:"hai-giang",name:"Hai Giang"},{id:"drea-wheeler",name:"Drea Wheeler"},{id:"jonathan-young",name:"Jonathan Young"},{id:"lindsay-dolashewich",name:"Lindsay Dolashewich"},{id:"omar-zaheer",name:"Omar Zaheer"},{id:"romeo-escobar",name:"Romeo Escobar"},{id:"maryanne-oketch",name:"Maryanne Oketch"},{id:"mike-turner",name:"Mike Turner"}]},{id:"s43",name:"Survivor 43",contestants:[{id:"justine-brennan",name:"Justine Brennan"},{id:"morriah-young",name:"Morriah Young"},{id:"lindsay-carmine",name:"Lindsay Carmine"},{id:"nneka-ejere",name:"Nneka Ejere"},{id:"geo-bustamante",name:"Geo Bustamante"},{id:"dwight-moore",name:"Dwight Moore"},{id:"elisabeth-scott",name:"Elisabeth 'Elie' Scott"},{id:"jeanine-zheng",name:"Jeanine Zheng"},{id:"ryan-medrano",name:"Ryan Medrano"},{id:"james-jones",name:"James Jones"},{id:"noelle-lambert",name:"Noelle Lambert"},{id:"sami-layadi",name:"Sami Layadi"},{id:"cody-assenmacher",name:"Cody Assenmacher"},{id:"karla-cruz-godoy",name:"Karla Cruz Godoy"},{id:"owen-knight",name:"Owen Knight"},{id:"jesse-lopez",name:"Jesse Lopez"},{id:"gabler",name:"Mike Gabler"},{id:"cassidy-clark",name:"Cassidy Clark"}]},{id:"s44",name:"Survivor 44",contestants:[{id:"helen-li",name:"Helen Li"},{id:"maddy-pomilla",name:"Maddy Pomilla"},{id:"claire-rafson",name:"Claire Rafson"},{id:"josh-wilder",name:"Josh Wilder"},{id:"sarah-wade",name:"Sarah Wade"},{id:"matthew-grinstead-mayle",name:"Matthew Grinstead-Mayle"},{id:"brandon-cottom",name:"Brandon Cottom"},{id:"lauren-harpe",name:"Lauren Harpe"},{id:"kane-fritzler",name:"Kane Fritzler"},{id:"danny-massa",name:"Danny Massa"},{id:"frannie-marin",name:"Frannie Marin"},{id:"carson-garrett",name:"Carson Garrett"},{id:"yam-yam-arocho",name:"Yam Yam Arocho"},{id:"carolyn-wiger",name:"Carolyn Wiger"},{id:"jamie-lynn-ruiz",name:"Jamie Lynn Ruiz"},{id:"heidi-lagares-greenblatt",name:"Heidi Lagares-Greenblatt"},{id:"lauren-schmetterling",name:"Lauren Schmetterling"},{id:"matt-blankinship",name:"Matt Blankinship"}]},{id:"s45",name:"Survivor 45",contestants:[{id:"hannah-rose",name:"Hannah Rose"},{id:"brandon-donlon",name:"Brandon Donlon"},{id:"brando-meyer",name:"Brando Meyer"},{id:"sabiyah-broderick",name:"Sabiyah Broderick"},{id:"bruce-perreault",name:"Bruce Perreault"},{id:"emily-flippen",name:"Emily Flippen"},{id:"sean-edwards",name:"Sean Edwards"},{id:"kaleb-gebrewold",name:"Kaleb Gebrewold"},{id:"kendra-mcquarrie",name:"Kendra McQuarrie"},{id:"kellie-nalbandian",name:"Kellie Nalbandian"},{id:"drew-basile",name:"Drew Basile"},{id:"austin-li",name:"Austin Li"},{id:"julie-alley",name:"Julie Alley"},{id:"katurah-topps",name:"Katurah Topps"},{id:"jake-omalley",name:"Jake O'Malley"},{id:"dee-valladares",name:"Dee Valladares"},{id:"nicholas-alsup",name:"Nicholas 'Sifu' Alsup"},{id:"janani-krishnan-jha",name:"Janani Krishnan-Jha"}]},{id:"s46",name:"Survivor 46",contestants:[{id:"charlie-davis",name:"Charlie Davis"},{id:"moriah-gaynor",name:"Moriah Gaynor"},{id:"tiffany-ervin",name:"Tiffany Ervin"},{id:"david-jelinsky",name:"David Jelinsky"},{id:"venus-vafa",name:"Venus Vafa"},{id:"tim-spicer",name:"Tim Spicer"},{id:"jess-chong",name:"Jess Chong"},{id:"hunter-mcknight",name:"Hunter McKnight"},{id:"randen-montalvo",name:"Randen Montalvo"},{id:"kenzie-petty",name:"Kenzie Petty"},{id:"bhanu-gopal",name:"Bhanu Gopal"},{id:"ben-katzman",name:"Ben Katzman"},{id:"liz-wilcox",name:"Liz Wilcox"},{id:"soda-thompson",name:"Soda Thompson"},{id:"maria-shrime-gonzalez",name:"Maria 'Shrime' Gonzalez"},{id:"tevin-davis",name:"Tevin Davis"},{id:"qing-villasana",name:"Q Villasana"},{id:"jemila-hussain-adams",name:"Jemila Hussain-Adams"}]},{id:"s47",name:"Survivor 47",contestants:[{id:"andy-rueda",name:"Andy Rueda"},{id:"anika-dhar",name:"Anika Dhar"},{id:"aysha-welch",name:"Aysha Welch"},{id:"caroline-vidmar",name:"Caroline Vidmar"},{id:"gabe-ortis",name:"Gabe Ortis"},{id:"genevieve-mushaluk",name:"Genevieve Mushaluk"},{id:"jerome-cooney",name:"Jerome Cooney"},{id:"jon-lovett",name:"Jon Lovett"},{id:"kishan-patel",name:"Kishan Patel"},{id:"kyle-ostwald",name:"Kyle Ostwald"},{id:"rachel-lamont",name:"Rachel LaMont"},{id:"sam-phalen",name:"Sam Phalen"},{id:"sierra-wright",name:"Sierra Wright"},{id:"solomon-yi",name:"Solomon Yi"},{id:"sue-smey",name:"Sue Smey"},{id:"teeny-chirichillo",name:"Teeny Chirichillo"},{id:"terran-foster",name:"Terran Foster"},{id:"tiyana-hallums",name:"Tiyana Hallums"}]}];var Bv=n(579);const $v=(0,r.forwardRef)(((e,t)=>{var n,i;let{maddysList:s,andrewsList:a,kendallsList:o,setMaddysList:l,setAndrewsList:c,setKendallsList:u,user:d,createMode:h}=e;const[f,m]=(0,r.useState)(null),[p,g]=(0,r.useState)({}),[v,y]=(0,r.useState)({}),[w,b]=(0,r.useState)(!1),[k,S]=(0,r.useState)(""),[_,E]=(0,r.useState)(!1),[T,C]=(0,r.useState)(0),I=(0,r.useRef)(null),N=(0,r.useRef)(null),x=(0,r.useRef)(null),[R,A]=(0,r.useState)(null),[L,D]=(0,r.useState)(null),[P,O]=(0,r.useState)(!1),[M,j]=(0,r.useState)(!1),U=!!d;(0,r.useEffect)((()=>{const e=()=>{const e=window.innerWidth<=768;if(O(e),h&&e){var t;const e=null===(t=N.current)||void 0===t?void 0:t.closest(".seasons-section");e&&(document.body.setAttribute("data-page","create"),M?(e.style.display="",e.classList.remove("collapsed")):(e.classList.add("collapsed"),e.style.display="none"))}else"create"===document.body.getAttribute("data-page")&&document.body.removeAttribute("data-page")};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),"create"===document.body.getAttribute("data-page")&&document.body.removeAttribute("data-page")}}),[h,M]),(0,r.useImperativeHandle)(t,(()=>({showMenu:()=>{if(console.log("showMenu called, isMobile:",P,"createMode:",h),P&&h){j(!0);const e=document.querySelector(".seasons-section");console.log("Found seasons section:",e),e?(document.body.setAttribute("data-page","create"),e.classList.add("visible"),e.style.display="block",e.classList.remove("collapsed"),e.style.height="85vh",e.style.maxHeight="85vh",e.style.bottom="0",e.style.position="fixed",e.style.overflowY="auto",e.style.margin="0",e.style.padding="10px 10px calc(10px + env(safe-area-inset-bottom, 0px)) 10px",document.body.style.overflow="hidden"):console.error("Could not find .seasons-section element")}else console.log("Not showing menu - conditions not met")},hideMenu:()=>{if(P&&h){j(!1);const e=document.querySelector(".seasons-section");e&&(e.classList.remove("visible"),document.body.style.overflow="",setTimeout((()=>{M||(e.style.display="none",e.style.height="",e.style.maxHeight="",e.style.bottom="",e.style.padding="")}),300))}},cleanup:()=>{"create"===document.body.getAttribute("data-page")&&document.body.removeAttribute("data-page"),document.body.style.overflow="";const e=document.querySelector(".seasons-section");e&&(e.style.display="",e.classList.remove("collapsed"),e.classList.remove("visible"),e.style.height="",e.style.maxHeight="",e.style.bottom="",e.style.padding="")}})));const F=()=>{if(P&&h){j(!1);const e=document.querySelector(".seasons-section");e&&(e.classList.remove("visible"),document.body.style.overflow="",setTimeout((()=>{M||(e.style.display="none",e.style.height="",e.style.maxHeight="",e.style.bottom="",e.style.padding="")}),300))}},V=()=>{var e;E(!_);const t=null===(e=N.current)||void 0===e?void 0:e.closest(".seasons-section");t&&(_?(t.classList.remove("collapsed"),localStorage.setItem("seasonsSectionCollapsed","false"),window.innerWidth<=768&&(document.body.style.overflow="")):(t.classList.add("collapsed"),localStorage.setItem("seasonsSectionCollapsed","true"),window.innerWidth<=768&&(document.body.style.overflow="hidden")))};(0,r.useEffect)((()=>{if(window.innerWidth<=768&&h){var e;E(!0);const t=null===(e=N.current)||void 0===e?void 0:e.closest(".seasons-section");t&&(t.classList.add("collapsed"),localStorage.setItem("seasonsSectionCollapsed","true"))}else{if("true"===localStorage.getItem("seasonsSectionCollapsed")){var t;E(!0);const e=null===(t=N.current)||void 0===t?void 0:t.closest(".seasons-section");e&&e.classList.add("collapsed")}}}),[h]),(0,r.useEffect)((()=>{!f&&T>0&&requestAnimationFrame((()=>{var e;const t=document.querySelector(".seasons-section")||(null===(e=document.querySelector(".seasons-grid"))||void 0===e?void 0:e.parentElement);t?(t.scrollTop=T,console.log("Restored scroll position to:",T,"Container class:",t.className)):console.log("Could not find scroll container to restore position")}))}),[f,T]);(0,r.useEffect)((()=>{(async()=>{const e={...v};for(const n of zv)if(!e[n.id])try{const t=await Ov(n.id);e[n.id]=t}catch(t){console.error(`Error loading logo for season ${n.id}:`,t),e[n.id]="/placeholder.jpg"}y(e)})()}),[]),(0,r.useEffect)((()=>()=>{document.body.classList.remove("tribal-mode")}),[]),(0,r.useEffect)((()=>{(async()=>{if(!f)return;const e={...p},t=zv.find((e=>e.id===f));if(t){for(const r of t.contestants)if(!e[r.id])try{const n=t.id.startsWith("s")?t.id.substring(1):t.id,i=await Pv(r,n);e[r.id]=i}catch(n){console.error(`Error loading image for ${r.name}:`,n),e[r.id]="/placeholder.jpg"}g(e)}})()}),[f]),(0,r.useEffect)((()=>{(async()=>{if(!k.trim())return;const e=$();if(0===e.length)return;const t={...p};for(const r of e)if(!t[r.id])try{const e=r.seasonId.startsWith("s")?r.seasonId.substring(1):r.seasonId,n=await Pv(r,e);t[r.id]=n}catch(n){console.error(`Error loading image for ${r.name}:`,n),t[r.id]="/placeholder.jpg"}g(t)})()}),[k,p]);const z=(e,t)=>{console.log("Starting to drag contestant:",t.name),A(t),e.target.classList.add("dragging"),e.dataTransfer.setData("text/plain",JSON.stringify(t)),e.dataTransfer.effectAllowed="move"},B=e=>{console.log("Drag ended"),e.target.classList.remove("dragging"),A(null);document.querySelectorAll(".drop-target").forEach((e=>{e.classList.remove("drag-over")}))},$=()=>{if(!k.trim())return[];const e=k.toLowerCase().trim(),t=[],n=new Set,r=[...zv].sort(((e,t)=>(void 0!==e.seasonNumber?e.seasonNumber:999)-(void 0!==t.seasonNumber?t.seasonNumber:999)));return r.forEach((r=>{r.contestants&&r.contestants.forEach((i=>{const s=i.name.toLowerCase().trim();s.includes(e)&&!n.has(s)&&(t.push({...i,seasonId:r.id,seasonName:r.name}),n.add(s))}))})),t},H=e=>{if(U&&h&&l){if(s.some((t=>!t.isSeason&&t.id===e.id)))return void console.log("Contestant already in list:",e.name);const t={...e,imageUrl:p[e.id]||"/placeholder.jpg"};console.log("Adding contestant to list:",t.name),l((e=>[...e,t])),F()}},W=e=>{console.log("Season card clicked:",e.name,"createMode:",h,"isMobile:",P),(e=>{var t;const n=document.querySelector(".seasons-section")||(null===(t=document.querySelector(".seasons-grid"))||void 0===t?void 0:t.parentElement);if(n){const e=n.scrollTop;C(e),console.log("Saved scroll position:",e)}m(e),Math.random()<.05&&(b(!0),setTimeout((()=>b(!1)),3e3))})(e.id)};return(0,r.useEffect)((()=>{if(P){const e=document.querySelector(".seasons-section");e&&(h&&M?(document.body.setAttribute("data-page","create"),console.log("Showing bottom sheet menu"),e.classList.add("visible"),e.style.display="block",e.style.transform="translateY(0)",e.style.opacity="1",e.style.visibility="visible",document.body.style.overflow="hidden"):(console.log("Hiding bottom sheet menu"),e.classList.remove("visible"),e.style.transform="translateY(100%)",document.body.style.overflow="",setTimeout((()=>{M||(e.style.display="none",e.style.visibility="hidden")}),300)))}return()=>{"create"===document.body.getAttribute("data-page")&&document.body.removeAttribute("data-page"),document.body.style.overflow=""}}),[P,h,M]),(0,r.useEffect)((()=>{if(P&&h){console.log("Initial DOM structure check for mobile create mode");const e=document.querySelector(".seasons-section");console.log("seasons-section element:",e),e?(console.log("seasons-section parent:",e.parentElement),console.log("seasons-section classes:",e.className),console.log("body data-page attribute:",document.body.getAttribute("data-page"))):console.warn("Could not find .seasons-section element on initial render"),document.body.setAttribute("data-page","create")}}),[P,h]),(0,r.useEffect)((()=>{const e=()=>{if(P&&h&&M){const e=document.querySelector(".seasons-section");e&&(e.style.height="85vh",e.style.maxHeight="85vh")}};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[P,h,M]),!P||h&&M?(0,Bv.jsxs)("div",{ref:N,children:[w&&(0,Bv.jsx)("div",{className:"idol-notification",children:"You found a Hidden Immunity Idol! \ud83c\udfc6"}),P&&h&&(0,Bv.jsx)("div",{className:"menu-tab-handle",onClick:F,"aria-label":"Close seasons menu",style:{touchAction:"none"}}),f?(0,Bv.jsxs)("div",{className:"contestants-container",children:[(0,Bv.jsxs)("h2",{className:"section-title",children:[(!P||!h)&&(0,Bv.jsx)("div",{className:"collapse-toggle "+(_?"collapsed":""),onClick:V,title:_?"Expand seasons menu":"Collapse seasons menu"}),(0,Bv.jsx)("button",{className:"back-button",onClick:()=>{m(null)},children:"\u2190 Back to Seasons"}),(0,Bv.jsx)("span",{children:null===(n=zv.find((e=>e.id===f)))||void 0===n?void 0:n.name})]}),U&&h&&(0,Bv.jsx)("div",{className:"create-instructions",children:"Click contestants to add them to your ranking list or drag them for precise positioning."}),(0,Bv.jsx)("div",{className:"contestants-grid",children:null===(i=zv.find((e=>e.id===f)))||void 0===i?void 0:i.contestants.map((e=>(0,Bv.jsxs)("div",{className:"contestant-card",onClick:()=>{var t;U&&h&&(H({...e,seasonId:f,seasonName:(null===(t=zv.find((e=>e.id===f)))||void 0===t?void 0:t.name)||""}),F())},draggable:U&&h,onDragStart:U&&h?t=>{var n;return z(t,{...e,seasonId:f,seasonName:(null===(n=zv.find((e=>e.id===f)))||void 0===n?void 0:n.name)||""})}:void 0,onDragEnd:U&&h?B:void 0,children:[(0,Bv.jsx)("img",{src:p[e.id]||"/placeholder.jpg",alt:e.name,className:"contestant-image",draggable:"false"}),(0,Bv.jsx)("div",{className:"contestant-name",children:e.name})]},e.id)))})]}):(0,Bv.jsxs)(Bv.Fragment,{children:[(0,Bv.jsxs)("h2",{className:"section-title",children:[(!P||!h)&&(0,Bv.jsx)("div",{className:"collapse-toggle "+(_?"collapsed":""),onClick:V,title:_?"Expand seasons menu":"Collapse seasons menu"}),(0,Bv.jsx)("span",{children:"Survivor Seasons"})]}),(0,Bv.jsxs)("div",{className:"search-bar-container",children:[(0,Bv.jsx)("input",{ref:I,type:"text",className:"contestant-search-bar",placeholder:"Search seasons or contestants...",value:k,onChange:e=>{S(e.target.value)}}),k&&(0,Bv.jsx)("button",{className:"clear-search-button",onClick:()=>{S(""),I.current&&I.current.focus()},children:"\xd7"})]}),k.trim()?(0,Bv.jsxs)("div",{className:"search-results-container",children:[(0,Bv.jsx)("h3",{className:"search-results-title",children:"Search Results"}),(0,Bv.jsx)("div",{className:"search-results",children:$().map((e=>(0,Bv.jsxs)("div",{className:"contestant-item",onClick:()=>{U&&h?(H(e),F()):(e=>{var t;const n=null===(t=document.querySelector(".seasons-section, .search-results-container"))||void 0===t?void 0:t.parentElement;if(n){const e=n.scrollTop;C(e),console.log("Saved scroll position from search:",e,"Container:",n.className)}m(e)})(e.seasonId)},draggable:U&&h,onDragStart:U&&h?t=>z(t,e):void 0,onDragEnd:U&&h?B:void 0,children:[(0,Bv.jsx)("img",{src:p[e.id]||"/placeholder.jpg",alt:e.name,className:"contestant-image",draggable:"false"}),(0,Bv.jsx)("div",{className:"contestant-name",children:e.name}),(0,Bv.jsx)("div",{className:"contestant-season-name",children:e.seasonName.replace("Survivor: ","").replace("Survivor ","")})]},`${e.id}-${e.seasonId}`)))})]}):(0,Bv.jsx)("div",{className:"seasons-grid",ref:x,children:(()=>{if(!k.trim())return zv;const e=k.toLowerCase().trim();return zv.filter((t=>t.name.toLowerCase().includes(e)||void 0!==t.seasonNumber&&t.seasonNumber.toString().includes(e)))})().map((e=>(0,Bv.jsxs)("div",{className:"season-card",onClick:()=>W(e),draggable:U&&h,onDragStart:U&&h?t=>((e,t)=>{try{const n={...t,imageUrl:v[t.id]||"https://via.placeholder.com/150?text=Loading...",isSeason:!0},r=JSON.stringify(n);if(console.log("Starting drag with season data:",r),e.dataTransfer.setData("application/json",r),e.dataTransfer.setData("text/plain",r),e.dataTransfer.setData("source","season-grid"),e.target.querySelector("img")){const t=e.target.querySelector("img");e.dataTransfer.setDragImage(t,25,25)}e.target.classList.add("dragging"),console.log("Drag started with season:",t.name,t.id)}catch(n){console.error("Error in handleSeasonDragStart:",n)}})(t,e):void 0,onDragEnd:U&&h?B:void 0,children:[v[e.id]?(0,Bv.jsx)("img",{src:v[e.id],alt:`Season ${e.id.replace("s","")} Logo`,className:"season-logo",draggable:"false"}):(0,Bv.jsx)("div",{className:"season-logo-placeholder",children:(0,Bv.jsxs)("h3",{children:["S",e.id.replace("s","")]})}),(0,Bv.jsx)("p",{children:e.name.replace("Survivor: ","").replace("Survivor ","")})]},e.id)))})]})]}):null})),Hv=$v,Wv=()=>(0,Bv.jsx)("div",{className:"login-container",children:(0,Bv.jsxs)("div",{className:"login-box",children:[(0,Bv.jsx)("h2",{children:"Sign In Required"}),(0,Bv.jsx)("p",{children:"To view and interact with Survivor contestant rankings, please sign in with your Google account."}),(0,Bv.jsx)("p",{children:"Once logged in, you'll be able to see all ranking lists and drag contestants to create your own!"}),(0,Bv.jsxs)("button",{className:"google-sign-in-button",onClick:async()=>{try{await Uv()}catch(e){console.error("Login failed:",e)}},children:[(0,Bv.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"Google logo"}),"Sign in with Google"]})]})}),qv=n.p+"static/media/survivor-background.59581a1053fda5fdcbca.jpg",Kv=(0,r.createContext)(null),Gv=e=>{let{children:t,user:n}=e;return(0,Bv.jsx)(Kv.Provider,{value:{user:n},children:t})},Jv=e=>{let{onViewUserLists:t}=e;const[n,i]=(0,r.useState)({}),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null),[f,m]=(0,r.useState)(null),{user:p}=(0,r.useContext)(Kv),g=ee(),[v,y]=(0,r.useState)([]),[w,b]=(0,r.useState)(""),[k,S]=(0,r.useState)(!1),[_,E]=(0,r.useState)(null),[T,C]=(0,r.useState)(""),[I,N]=(0,r.useState)(null),[x,R]=(0,r.useState)(""),[A,L]=(0,r.useState)([]),[D,P]=(0,r.useState)([]),[O,M]=(0,r.useState)(!1),[j,U]=(0,r.useState)(!1),[F,V]=(0,r.useState)({text:"",position:{x:0,y:0},isAdd:!0}),[z,B]=(0,r.useState)(!1);(0,r.useEffect)((()=>{$()}),[]),(0,r.useEffect)((()=>{(s.length>0||o.length>0||f)&&(async()=>{const e={...n},t=[...s.flatMap((e=>e.contestants.slice(0,3))),...o.flatMap((e=>e.contestants.slice(0,3)))];f&&t.push(...f.contestants||[]);const r={};zv&&zv.forEach((e=>{e.contestants&&e.contestants.forEach((t=>{r[t.id]=e.id}))}));for(const n of t)if(n&&!e[n.id])if(n.isSeason)try{const t=await Ov(n.id);e[n.id]=t}catch(d){console.error(`Error loading season logo for ${n.id}:`,d),e[n.id]="/images/placeholder.jpg"}else try{let t=n.seasonId||r[n.id];if(!t&&zv)for(const e of zv)if(e.contestants&&e.contestants.some((e=>e.id===n.id))){t=e.id;break}if(t)try{const r=t.startsWith("s")?t.substring(1):t,i=await Pv(n,r);e[n.id]=i}catch(a){console.error(`Error loading image for ${n.name}:`,a),e[n.id]="/images/placeholder.jpg"}else console.warn(`Unable to find season for contestant: ${n.name}`),e[n.id]="/images/placeholder.jpg"}catch(d){console.error(`Error processing contestant ${n.name}:`,d),e[n.id]="/images/placeholder.jpg"}i(e)})()}),[s,o,f]),(0,r.useEffect)((()=>{p?H():(L([]),P([]))}),[p]),(0,r.useEffect)((()=>{A.length>0?W():P([])}),[A]);const $=async()=>{u(!0),h(null);try{const e=Kh(Lv,"userLists"),t=await Zf(e);let n=[];t.forEach((e=>{const t=e.data();t.lists&&Array.isArray(t.lists)&&t.lists.forEach((t=>{n.push({...t,userId:e.id,upvoteCount:t.upvotes?t.upvotes.length:0})}))}));const r=new Date;r.setDate(r.getDate()-7);const i=n.filter((e=>new Date(e.createdAt)>=r)),s=i.sort(((e,t)=>t.upvoteCount-e.upvoteCount)).slice(0,3),o=[...n].sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))).slice(0,3);a(s),l(o)}catch(e){console.error("Error fetching lists:",e),h("Failed to load lists. Please try again later.")}finally{u(!1)}},H=async()=>{if(p)try{const e=Gh(Lv,"users",p.uid),t=await Yf(e);t.exists()&&t.data().favorites?L(t.data().favorites):(await em(e,{favorites:[]},{merge:!0}),L([]))}catch(d){console.error("Error fetching favorites:",d)}},W=async()=>{if(0!==A.length){M(!0);try{const e=[],t=[...new Set(A.map((e=>e.userId)))];for(const n of t){const t=Gh(Lv,"userLists",n),r=await Yf(t);if(r.exists()){const t=r.data();if(t.lists&&Array.isArray(t.lists)){const r=A.filter((e=>e.userId===n));for(const i of r){const r=t.lists.find((e=>e.id===i.listId));r&&e.push({...r,userId:n,userName:r.userName||t.displayName||"Unknown User",upvoteCount:r.upvotes?r.upvotes.length:0})}}}}P(e)}catch(d){console.error("Error fetching favorite lists:",d)}finally{M(!1)}}},q=async(e,t,n)=>{if(n&&n.stopPropagation(),p)try{const n=Gh(Lv,"userLists",e),r=await Yf(n);if(!r.exists())return void console.error("User document not found");const i=r.data().lists||[],c=i.findIndex((e=>e.id===t));if(-1===c)return void console.error("List not found");const u=i[c].upvotes||[],d=u.indexOf(p.uid),h=[...i];h[c].upvotes=d>=0?u.filter((e=>e!==p.uid)):[...u,p.uid],await tm(n,{lists:h});const f=d>=0?u.filter((e=>e!==p.uid)):[...u,p.uid],m=n=>n.map((n=>n.userId===e&&n.id===t?{...n,upvotes:f,upvoteCount:f.length}:n));a(m(s)),l(m(o)),J(e,t)&&P(m(D))}catch(d){console.error("Error upvoting list:",d),alert("Failed to upvote list. Please try again.")}else alert("You must be logged in to upvote lists.")},K=e=>p&&e.upvotes&&e.upvotes.includes(p.uid),G=(e,n,r)=>{r&&(r.preventDefault(),r.stopPropagation()),t(e,n)},J=(e,t)=>A.some((n=>n.userId===e&&n.listId===t)),Q=async(e,t,n,r)=>{if(r&&r.stopPropagation(),p)try{const i=Gh(Lv,"users",p.uid),s=J(e,t),a=r.currentTarget.getBoundingClientRect(),o={x:a.left+a.width/2,y:a.top-10};if(s){const n=A.filter((n=>!(n.userId===e&&n.listId===t)));await tm(i,{favorites:n}),L(n),V({text:"Removed from favorites",position:o,isAdd:!1}),U(!0),setTimeout((()=>U(!1)),2e3)}else{const r={userId:e,listId:t,name:n,favoritedAt:(new Date).toISOString()},s=[...A,r];await tm(i,{favorites:s}),L(s),V({text:"Added to favorites",position:o,isAdd:!0}),U(!0),setTimeout((()=>U(!1)),2e3)}}catch(d){console.error("Error updating favorites:",d),alert("Failed to update favorites. Please try again.")}else alert("You must be logged in to favorite lists.")},Y=e=>{if(!e||!e.contestants)return null;const t=e.contestants.slice(0,3),r=e.tags&&e.tags.includes("spoiler");return(0,Bv.jsxs)("div",{className:"ranking-list-container",onClick:()=>(async e=>{g(`/list/${e.userId}/${e.id}`,{state:{source:"home"}})})(e),children:[(0,Bv.jsx)("div",{className:"top-left-favorite",onClick:e=>e.stopPropagation(),children:(0,Bv.jsx)("button",{className:"favorite-button "+(J(e.userId,e.id)?"favorited":""),onClick:t=>{t.stopPropagation(),p?Q(e.userId,e.id,e.name,t):alert("You must be logged in to favorite lists")},title:p?J(e.userId,e.id)?"Remove from favorites":"Add to favorites":"Login to favorite lists",children:(0,Bv.jsx)("span",{className:"favorite-icon",children:"\u2605"})})}),(0,Bv.jsx)("div",{className:"top-right-upvote",onClick:e=>e.stopPropagation(),children:(0,Bv.jsxs)("button",{className:"upvote-button "+(K(e)?"upvoted":""),onClick:t=>q(e.userId,e.id,t),disabled:!p,title:p?"Upvote this list":"Sign in to upvote",children:[(0,Bv.jsx)("span",{className:"upvote-icon",children:"\u25b2"}),(0,Bv.jsx)("span",{className:"upvote-count",children:e.upvoteCount||0})]})}),(0,Bv.jsx)("h2",{className:"list-title",children:e.name}),r&&(0,Bv.jsx)("div",{className:"spoiler-warning",children:"Contains Spoilers"}),(0,Bv.jsxs)("p",{className:"list-creator",children:["By ",(0,Bv.jsx)("span",{className:"username",onClick:t=>{t.stopPropagation(),G(e.userId,e.userName,t)},title:"View all rankings by this user",children:e.userName||"Unknown User"})]}),(0,Bv.jsx)("div",{className:"ranking-list clickable "+(r?"spoiler-blur":""),children:0===t.length?(0,Bv.jsx)("div",{className:"empty-list-message",children:"This list is empty"}):t.map(((e,t)=>(0,Bv.jsxs)("div",{className:"ranking-item",children:[(0,Bv.jsx)("div",{className:"ranking-number",children:t+1}),(0,Bv.jsx)("img",{src:n[e.id]||e.imageUrl||"/images/placeholder.jpg",alt:e.name,className:"contestant-image "+(e.isSeason?"season-logo":""),draggable:"false"}),(0,Bv.jsx)("div",{className:e.isSeason?"season-name":"contestant-name",children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name})]},`${e.id}-${t}`)))})]})};return(0,Bv.jsxs)("div",{className:"ranking-lists",children:[j&&(0,Bv.jsx)("div",{className:"feedback-popup "+(F.isAdd?"add-favorite":"remove-favorite"),style:{position:"fixed",left:`${F.position.x}px`,top:`${F.position.y}px`,transform:"translate(-50%, -100%)"},children:(0,Bv.jsxs)("div",{className:"popup-content",children:[(0,Bv.jsx)("span",{className:"popup-icon",children:F.isAdd?"\u2605":"\u2606"}),(0,Bv.jsx)("span",{className:"popup-text",children:F.text})]})}),(0,Bv.jsx)("h2",{className:"section-title",children:"Top Voted Lists This Week"}),(0,Bv.jsx)("div",{className:"lists-container",children:s.length>0?s.map((e=>Y(e))):(0,Bv.jsx)("div",{className:"empty-section-message",children:"No voted lists found this week"})}),(0,Bv.jsx)("h2",{className:"section-title",children:"Recently Created Lists"}),(0,Bv.jsx)("div",{className:"lists-container",children:o.length>0?o.map((e=>Y(e))):(0,Bv.jsx)("div",{className:"empty-section-message",children:"No recent lists found"})}),p&&(0,Bv.jsxs)(Bv.Fragment,{children:[(0,Bv.jsx)("h2",{className:"section-title",children:"Your Favorite Lists"}),O?(0,Bv.jsx)("div",{className:"empty-section-message",children:"Loading favorites..."}):D.length>0?(0,Bv.jsx)(Bv.Fragment,{children:Array.from({length:Math.ceil(D.length/3)}).map(((e,t)=>(0,Bv.jsx)("div",{className:"lists-container",children:D.slice(3*t,3*t+3).map((e=>Y(e)))},`favorite-row-${t}`)))}):(0,Bv.jsx)("div",{className:"empty-section-message",children:"You haven't favorited any lists yet. Click the star icon on lists you like to add them here!"})]})]})},Qv=e=>{let{onViewUserLists:t}=e;return(0,Bv.jsx)(Jv,{onViewUserLists:t})},Yv=e=>{let{user:t,onSelectList:n,onCreateNew:i}=e;const[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(null),[f,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[w,b]=(0,r.useState)("");(0,r.useEffect)((()=>{t&&t.displayName&&g(t.displayName)}),[t]),(0,r.useEffect)((()=>{(async()=>{l(!0),u("");try{if(!t)return;const e=Gh(Lv,"userLists",t.uid),n=await Yf(e);if(n.exists()&&n.data().lists){const e=n.data().lists;e.sort(((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt))),a(e)}else a([])}catch(c){console.error("Error loading user lists:",c),u("Failed to load your lists. Please try again.")}finally{l(!1)}})()}),[t]);const k=e=>{if(!e)return"";return new Date(e).toLocaleDateString()};return o?(0,Bv.jsxs)("div",{className:"user-list-manager",children:[(0,Bv.jsx)("h2",{className:"section-title",children:"My Survivor Rankings"}),(0,Bv.jsx)("div",{className:"loading-lists",children:"Loading your lists..."})]}):(0,Bv.jsxs)("div",{className:"user-list-manager",children:[(0,Bv.jsx)("h2",{className:"section-title",children:"My Survivor Rankings"}),(0,Bv.jsx)("div",{className:"user-profile-section",children:f?(0,Bv.jsxs)("div",{className:"username-editor",children:[(0,Bv.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"Enter new username",className:"username-input",maxLength:30}),(0,Bv.jsxs)("div",{className:"username-actions",children:[(0,Bv.jsx)("button",{onClick:async()=>{if(p&&""!==p.trim())try{await lg(Dv.currentUser,{displayName:p});const e=Gh(Lv,"userLists",t.uid),n=await Yf(e);if(n.exists()&&n.data().lists){const t=n.data().lists.map((e=>({...e,userName:p})));await tm(e,{lists:t}),a(t)}m(!1),y(!0),b(""),setTimeout((()=>{y(!1)}),3e3)}catch(c){console.error("Error updating username:",c),b("Failed to update username. Please try again.")}else b("Username cannot be empty")},className:"save-username-button",children:"Save"}),(0,Bv.jsx)("button",{onClick:()=>{m(!1),g(t.displayName),b("")},className:"cancel-username-button",children:"Cancel"})]}),w&&(0,Bv.jsx)("div",{className:"username-error",children:w})]}):(0,Bv.jsxs)("div",{className:"username-display",children:[(0,Bv.jsxs)("div",{className:"current-username",children:[(0,Bv.jsx)("span",{className:"username-label",children:"Your Username:"}),(0,Bv.jsx)("span",{className:"username-value",children:t.displayName})]}),(0,Bv.jsx)("button",{onClick:()=>m(!0),className:"edit-username-button",children:"Change Username"}),v&&(0,Bv.jsx)("div",{className:"username-success",children:"Username updated successfully!"})]})}),c&&(0,Bv.jsx)("div",{className:"list-error",children:c}),(0,Bv.jsx)("div",{className:"list-actions-top",children:(0,Bv.jsx)("button",{className:"create-new-button",onClick:i,children:"+ Create New Ranking"})}),0===s.length?(0,Bv.jsx)("div",{className:"no-lists-message",children:"You haven't created any rankings yet. Create your first list now!"}):(0,Bv.jsx)("div",{className:"user-lists",children:s.map((e=>{var r;return(0,Bv.jsxs)("div",{className:"list-card",children:[(0,Bv.jsxs)("div",{className:"list-card-content",onClick:()=>n(e),style:{color:"black"},children:[(0,Bv.jsx)("h3",{className:"list-title",style:{color:"black"},children:e.name}),(0,Bv.jsxs)("div",{className:"list-meta",style:{color:"black"},children:[(0,Bv.jsxs)("div",{className:"list-updated",children:["Updated: ",k(e.updatedAt)]}),(0,Bv.jsxs)("div",{className:"list-count",children:[(null===(r=e.contestants)||void 0===r?void 0:r.length)||0," contestants"]})]}),e.contestants&&e.contestants.length>0&&(0,Bv.jsxs)("div",{className:"list-preview",style:{color:"black"},children:[(0,Bv.jsx)("p",{style:{color:"black"},children:"Top 3:"}),(0,Bv.jsx)("ol",{className:"preview-contestants",style:{color:"black"},children:e.contestants.slice(0,3).map(((e,t)=>(0,Bv.jsx)("li",{style:{color:"black"},children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name},t)))})]})]}),(0,Bv.jsx)("button",{className:"delete-list-button "+(d===e.id?"confirm":""),onClick:()=>(async e=>{if(d===e)try{const n=Gh(Lv,"userLists",t.uid),r=await Yf(n);if(r.exists()&&r.data().lists){const t=r.data().lists.filter((t=>t.id!==e));await tm(n,{lists:t}),a(t),h(null)}}catch(c){console.error("Error deleting list:",c),u("Failed to delete list. Please try again.")}else h(e),setTimeout((()=>{h((t=>t===e?null:t))}),5e3)})(e.id),title:d===e.id?"Click again to confirm":"Delete list",children:d===e.id?"Confirm":"\xd7"})]},e.id)}))})]})},Xv=e=>{let{user:t,onSelectList:n,onCreateNew:r}=e;return(0,Bv.jsx)(Yv,{user:t,onSelectList:n,onCreateNew:r})},Zv=e=>{let{initialUserId:t,initialUserName:n,source:i="other",initialSelectedList:s=null}=e;const[a,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(""),[m,p]=(0,r.useState)([]),[g,v]=(0,r.useState)("all"),[y,w]=(0,r.useState)("mostVotes"),[b,k]=(0,r.useState)(null),[S,_]=(0,r.useState)(s),[E,T]=(0,r.useState)(t||null),[C,I]=(0,r.useState)(n||""),[N,x]=(0,r.useState)({}),[R,A]=(0,r.useState)([]),[L,D]=(0,r.useState)(""),[P,O]=(0,r.useState)(!1),[M,j]=(0,r.useState)(null),[U,F]=(0,r.useState)(""),{user:V}=(0,r.useContext)(Kv),[z,B]=(0,r.useState)([]),[$,H]=(0,r.useState)(!1),[W,q]=(0,r.useState)({text:"",position:{x:0,y:0},isAdd:!0}),[K,G]=(0,r.useState)(!1),J=ee();(0,r.useEffect)((()=>{(async()=>{c(!0),d(null);try{console.log("Starting to fetch public lists...");const e=Kh(Lv,"userLists");console.log("Created userListsRef:",e);const t=await Zf(e);console.log("Got snapshot from Firestore, size:",t.size),console.log("Empty snapshot?",t.empty);let n=[];t.forEach((e=>{console.log("Processing document ID:",e.id);const t=e.data();if(console.log("User data:",t),t.lists&&Array.isArray(t.lists)){console.log(`Found ${t.lists.length} lists for user ${e.id}`);const r=t.displayName||"Unknown User";t.lists.forEach((t=>{console.log("Processing list:",t.id,t.name,"public:",t.public),t.id?(n.push({...t,userId:e.id,userName:t.userName||r,upvoteCount:t.upvotes?t.upvotes.length:0,public:void 0===t.public||t.public}),console.log("Added list to allPublicLists:",t.name)):console.log("Skipped list due to missing ID")}))}else console.log("No lists array found for user",e.id)})),console.log("Total public lists found:",n.length),console.log("First few lists:",n.slice(0,3)),o(n)}catch(e){console.error("Error fetching public lists:",e),d("Failed to load public lists. Please try again later.")}finally{c(!1)}})()}),[t]),(0,r.useEffect)((()=>{t&&(T(t),I(n||"Unknown User"))}),[t,n]),(0,r.useEffect)((()=>{V?Q():B([])}),[V]);const Q=async()=>{if(V)try{const e=Gh(Lv,"users",V.uid),t=await Yf(e);t.exists()&&t.data().favorites?B(t.data().favorites):(await em(e,{favorites:[]},{merge:!0}),B([]))}catch(u){console.error("Error fetching favorites:",u)}},Y=(e,t)=>z.some((n=>n.userId===e&&n.listId===t)),X=async(e,t,n,r)=>{if(r&&r.stopPropagation(),V)try{const i=Gh(Lv,"users",V.uid),s=Y(e,t),a=r.currentTarget.getBoundingClientRect(),o={x:a.left+a.width/2,y:a.top-10};if(s){const n=z.filter((n=>!(n.userId===e&&n.listId===t)));await tm(i,{favorites:n}),B(n),q({text:"Removed from favorites",position:o,isAdd:!1}),H(!0),setTimeout((()=>H(!1)),2e3)}else{const r={userId:e,listId:t,name:n,favoritedAt:(new Date).toISOString()},s=[...z,r];await tm(i,{favorites:s}),B(s),q({text:"Added to favorites",position:o,isAdd:!0}),H(!0),setTimeout((()=>H(!1)),2e3)}}catch(u){console.error("Error updating favorites:",u),alert("Failed to update favorites. Please try again.")}else alert("You must be logged in to favorite lists.")},Z=e=>{w(e)},te=e=>{v(e)},ne=e=>{switch(y){case"mostVotes":return[...e].sort(((e,t)=>(t.upvoteCount||0)-(e.upvoteCount||0)));case"newest":return[...e].sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));case"oldest":return[...e].sort(((e,t)=>new Date(e.createdAt)-new Date(t.createdAt)));default:return e}},re=async(e,t)=>{if(V)try{const n=Gh(Lv,"userLists",e),r=await Yf(n);if(!r.exists())return void console.error("User document not found");const i=r.data().lists||[],s=i.findIndex((e=>e.id===t));if(-1===s)return void console.error("List not found");const l=i[s].upvotes||[],c=l.indexOf(V.uid),u=[...i];u[s].upvotes=c>=0?l.filter((e=>e!==V.uid)):[...l,V.uid],await tm(n,{lists:u});const d=c>=0?l.filter((e=>e!==V.uid)):[...l,V.uid],h=n=>n.map((n=>n.userId===e&&n.id===t?{...n,upvotes:d,upvoteCount:d.length}:n));o(h(a)),S&&S.userId===e&&S.id===t&&_({...S,upvotes:d,upvoteCount:d.length})}catch(u){console.error("Error upvoting list:",u),alert("Failed to upvote list. Please try again.")}else alert("You must be logged in to upvote lists.")},ie=(new Set(a.flatMap((e=>{var t;return(null===(t=e.tags)||void 0===t?void 0:t.filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e)))||[]}))),E?a.filter((e=>e.userId===E)):a.filter((e=>{const t=!h||e.name&&e.name.toLowerCase().includes(h.toLowerCase())||e.description&&e.description.toLowerCase().includes(h.toLowerCase()),n="all"===g||"season"===g&&e.tags&&e.tags.includes("season-ranking")||"survivor"===g&&e.tags&&e.tags.includes("survivor-ranking"),r=0===m.length||m.includes("favorites")&&Y(e.userId,e.id)||e.tags&&m.every((t=>"favorites"===t||e.tags.includes(t)));return t&&n&&r})));console.log("Total public lists:",a.length),console.log("Filtered lists:",ie.length);const se=ne(ie),ae=e=>V&&e.upvotes&&e.upvotes.includes(V.uid),oe=()=>{"home"===i?J("/"):E?J(`/rankings/user/${E}`,{state:{userName:C}}):J("/rankings")},le=(e,t,n)=>{n&&(n.preventDefault(),n.stopPropagation()),_(null),T(e),I(t||"Unknown"),J(`/rankings/user/${e}`,{state:{userName:t}}),window.scrollTo(0,0)};(0,r.useEffect)((()=>{(async()=>{if(!S||!S.contestants||0===S.contestants.length)return;const e={...N};for(const t of S.contestants)if(!N[t.id])if(t.isSeason)try{const n=await Ov(t.id);e[t.id]=n}catch(u){console.error(`Error loading logo for season ${t.id}:`,u),e[t.id]="/images/placeholder.jpg"}else{let n=t.seasonId;if(!n)for(const e of zv)if(e.contestants&&e.contestants.some((e=>e.id===t.id))){n=e.id;break}if(n)try{const r=n.startsWith("s")?n.substring(1):n,i=await Pv(t,r);e[t.id]=i}catch(u){console.error(`Error loading image for ${t.name}:`,u),e[t.id]="/images/placeholder.jpg"}else console.warn(`Unable to find season for contestant: ${t.name}`),e[t.id]="/images/placeholder.jpg"}x(e)})()}),[S]);const ce=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!V)return void alert("You must be logged in to add comments.");const t=e?U.trim():L.trim();if(t)try{const n={listUserId:S.userId,listId:S.id,userId:V.uid,userName:V.displayName||"Anonymous",text:t,createdAt:am(),upvotes:[],downvotes:[],parentId:e||null,isReply:!!e},r=await rm(Kh(Lv,"comments"),n);A([{id:r.id,...n,createdAt:new Date},...R]),e?(F(""),j(null)):D("")}catch(u){console.error("Error adding comment:",u),alert("Failed to add comment. Please try again.")}else alert("Comment cannot be empty.")},ue=()=>{j(null),F("")},de=async(e,t)=>{if(V)try{const n=Gh(Lv,"comments",e),r=await Yf(n);if(!r.exists())return void console.error("Comment not found");const i=r.data(),s=i.upvotes||[],a=i.downvotes||[],o=s.includes(V.uid),l=a.includes(V.uid);let c=[...s],u=[...a];"upvote"===t?o?c=c.filter((e=>e!==V.uid)):(c.push(V.uid),u=u.filter((e=>e!==V.uid))):"downvote"===t&&(l?u=u.filter((e=>e!==V.uid)):(u.push(V.uid),c=c.filter((e=>e!==V.uid)))),await tm(n,{upvotes:c,downvotes:u}),A(R.map((t=>t.id===e?{...t,upvotes:c,downvotes:u}:t)))}catch(u){console.error("Error voting on comment:",u),alert("Failed to process your vote. Please try again.")}else alert("You must be logged in to vote on comments.")},he=async e=>{if(V){if(window.confirm("Are you sure you want to delete this comment?"))try{const t=Gh(Lv,"comments",e),n=await Yf(t);if(!n.exists())return void console.error("Comment not found");if(n.data().userId!==V.uid)return void alert("You can only delete your own comments.");await nm(t),A(R.filter((t=>t.id!==e)))}catch(u){console.error("Error deleting comment:",u),alert("Failed to delete comment. Please try again.")}}else alert("You must be logged in to delete comments.")},fe=e=>V&&e.userId===V.uid,me=e=>{if(!e)return"";const t=e instanceof ts?e.toDate():new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},pe=e=>{var t,n;return((null===(t=e.upvotes)||void 0===t?void 0:t.length)||0)-((null===(n=e.downvotes)||void 0===n?void 0:n.length)||0)},ge=e=>V&&e.upvotes&&e.upvotes.includes(V.uid),ve=e=>V&&e.downvotes&&e.downvotes.includes(V.uid),ye=()=>{G(!K)};if((0,r.useEffect)((()=>{s&&(_(s),(async(e,t)=>{if(e&&t){O(!0);try{const r=Kh(Lv,"comments");try{const n=Of(r,jf("listUserId","==",e),jf("listId","==",t),Vf("createdAt","desc")),i=await Zf(n),s=[];i.forEach((e=>{s.push({id:e.id,...e.data(),upvotes:e.data().upvotes||[],downvotes:e.data().downvotes||[]})})),A(s)}catch(n){console.error("Index error, trying without sorting:",n);const i=Of(r,jf("listUserId","==",e),jf("listId","==",t)),s=await Zf(i);let a=[];s.forEach((e=>{a.push({id:e.id,...e.data(),upvotes:e.data().upvotes||[],downvotes:e.data().downvotes||[]})})),a=a.sort(((e,t)=>{const n=e.createdAt instanceof ts?e.createdAt.toDate():new Date(e.createdAt||0);return(t.createdAt instanceof ts?t.createdAt.toDate():new Date(t.createdAt||0))-n})),A(a),console.warn("This is a first-time setup issue. The admin should create an index for comments collection with fields: listUserId, listId, and createdAt. Follow the Firestore error link if you're an admin.")}}catch(u){console.error("Error fetching comments:",u),A([])}finally{O(!1)}}})(s.userId,s.id))}),[s]),(0,r.useEffect)((()=>{(async()=>{if(!se||0===se.length)return;const e={...N},t=se.flatMap((e=>(e.contestants||[]).slice(0,3))),n={};zv.forEach((e=>{e.contestants&&e.contestants.forEach((t=>{n[t.id]=e.id}))}));for(const r of t)if(r&&!e[r.id])if(r.isSeason)try{const t=await Ov(r.id);e[r.id]=t}catch(u){console.error(`Error loading logo for season ${r.id}:`,u),e[r.id]="/images/placeholder.jpg"}else try{let t=r.seasonId||n[r.id];if(!t)for(const e of zv)if(e.contestants&&e.contestants.some((e=>e.id===r.id))){t=e.id;break}if(t){const n=t.startsWith("s")?t.substring(1):t,i=await Pv(r,n);e[r.id]=i}else console.warn(`Unable to find season for contestant: ${r.name}`),e[r.id]="/images/placeholder.jpg"}catch(u){console.error(`Error loading image for ${r.name}:`,u),e[r.id]="/images/placeholder.jpg"}x(e)})()}),[se]),l)return(0,Bv.jsx)("div",{className:"other-lists loading",children:"Loading rankings..."});if(u)return(0,Bv.jsx)("div",{className:"other-lists error",children:u});const we=E?a.filter((e=>e.userId===E)):a.filter((e=>!0===e.public));ne(we);if(S){const e=S.tags&&S.tags.includes("spoiler");return(0,Bv.jsxs)("div",{className:"other-lists full-list-view",children:[$&&(0,Bv.jsx)("div",{className:"feedback-popup "+(W.isAdd?"add-favorite":"remove-favorite"),style:{position:"fixed",left:`${W.position.x}px`,top:`${W.position.y}px`,transform:"translate(-50%, -100%)"},children:(0,Bv.jsxs)("div",{className:"popup-content",children:[(0,Bv.jsx)("span",{className:"popup-icon",children:W.isAdd?"\u2605":"\u2606"}),(0,Bv.jsx)("span",{className:"popup-text",children:W.text})]})}),(0,Bv.jsx)("div",{className:"back-button-container",children:(0,Bv.jsx)("button",{className:"back-to-lists-button",onClick:oe,children:"home"!==i||E?"\u2190 Back to Rankings":"\u2190 Back to Home"})}),(0,Bv.jsxs)("div",{className:"full-list-header",children:[(0,Bv.jsx)("h2",{children:S.name}),e&&(0,Bv.jsx)("div",{className:"spoiler-reveal-container",children:(0,Bv.jsxs)("button",{className:"spoiler-reveal-button",onClick:ye,children:[(0,Bv.jsx)("span",{className:"eye-icon",children:K?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"}),K?"Hide Spoilers":"Show Spoilers"]})}),(0,Bv.jsxs)("div",{className:"list-meta",children:[(0,Bv.jsxs)("span",{className:"created-by",children:["Created by: ",(0,Bv.jsx)("span",{className:"username",onClick:e=>{e.stopPropagation(),le(S.userId,S.userName,e)},title:"View all rankings by this user",children:S.userName||"Unknown"})]}),(0,Bv.jsxs)("span",{className:"created-date",children:["Date: ",(be=S.createdAt,new Date(be).toLocaleDateString())]})]}),(0,Bv.jsx)("div",{className:"top-right-upvote",children:(0,Bv.jsxs)("button",{className:"upvote-button "+(ae(S)?"upvoted":""),onClick:()=>re(S.userId,S.id),disabled:!V,title:V?ae(S)?"Remove upvote":"Upvote this list":"Sign in to upvote",children:[(0,Bv.jsx)("span",{className:"upvote-icon",children:"\u25b2"}),(0,Bv.jsx)("span",{className:"upvote-count",children:S.upvoteCount||0})]})}),(0,Bv.jsx)("div",{className:"top-left-favorite",children:(0,Bv.jsx)("button",{className:"favorite-button "+(Y(S.userId,S.id)?"favorited":""),onClick:e=>X(S.userId,S.id,S.name,e),disabled:!V,title:V?Y(S.userId,S.id)?"Remove from favorites":"Add to favorites":"Login to favorite lists",children:(0,Bv.jsx)("span",{className:"favorite-icon",children:"\u2605"})})}),(0,Bv.jsxs)("div",{className:"full-list-tags",children:[S.tags&&S.tags.includes("season-ranking")&&(0,Bv.jsx)("span",{className:"list-type-indicator season",children:"Season Ranking"}),S.tags&&S.tags.includes("survivor-ranking")&&(0,Bv.jsx)("span",{className:"list-type-indicator survivor",children:"Survivor Ranking"}),S.tags&&S.tags.filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e)).map((e=>(0,Bv.jsx)("span",{className:"list-tag "+("spoiler"===e?"spoiler-tag":""),children:e},e)))]}),S.description&&(0,Bv.jsx)("div",{className:"list-description",children:(0,Bv.jsx)("p",{children:S.description})})]}),(0,Bv.jsx)("div",{className:"ranking-list-container",children:(0,Bv.jsx)("div",{className:"ranking-list "+(e&&!K?"spoiler-blur":"spoiler-revealed"),children:S.contestants&&S.contestants.length>0?S.contestants.map(((e,t)=>(0,Bv.jsxs)("div",{className:"ranking-item",children:[(0,Bv.jsx)("div",{className:"ranking-number",children:t+1}),(0,Bv.jsx)("img",{src:N[e.id]||e.imageUrl||"/images/placeholder.jpg",alt:e.name,className:"contestant-image "+(e.isSeason?"season-logo":""),draggable:"false"}),(0,Bv.jsx)("div",{className:e.isSeason?"season-name":"contestant-name",style:{color:"#000000"},children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name})]},t))):(0,Bv.jsx)("div",{className:"empty-list-message",children:"This list is empty."})})}),(0,Bv.jsxs)("div",{className:"comments-section",children:[(0,Bv.jsx)("h3",{className:"comments-title",children:"Comments"}),V?(0,Bv.jsxs)("div",{className:"add-comment-form",children:[(0,Bv.jsx)("textarea",{placeholder:"Add your comment...",value:L,onChange:e=>D(e.target.value),rows:3,maxLength:500}),(0,Bv.jsx)("div",{className:"comment-actions",children:(0,Bv.jsx)("button",{className:"add-comment-button",onClick:()=>ce(),disabled:!L.trim(),children:"Post Comment"})})]}):(0,Bv.jsx)("div",{className:"login-to-comment",children:"Please log in to add comments."}),P?(0,Bv.jsx)("div",{className:"loading-comments",children:"Loading comments..."}):0===R.length?(0,Bv.jsx)("div",{className:"no-comments",children:"No comments yet. Be the first to comment!"}):(0,Bv.jsx)("div",{className:"comments-list",children:R.filter((e=>!e.parentId)).map((e=>{const t=R.filter((t=>t.parentId===e.id));return(0,Bv.jsxs)("div",{className:"comment-item",children:[(0,Bv.jsxs)("div",{className:"comment-header",children:[(0,Bv.jsx)("span",{className:"comment-author",onClick:t=>le(e.userId,e.userName,t),title:"View all rankings by this user",children:e.userName}),(0,Bv.jsx)("span",{className:"comment-date",children:me(e.createdAt)})]}),(0,Bv.jsx)("div",{className:"comment-content",children:e.text}),(0,Bv.jsxs)("div",{className:"comment-footer",children:[(0,Bv.jsxs)("div",{className:"comment-actions-group",children:[(0,Bv.jsxs)("div",{className:"comment-votes",children:[(0,Bv.jsx)("button",{className:"comment-vote upvote "+(ge(e)?"voted":""),onClick:()=>de(e.id,"upvote"),disabled:!V,title:V?"Upvote":"Please log in to vote",children:"\u25b2"}),(0,Bv.jsx)("span",{className:"vote-count",children:pe(e)}),(0,Bv.jsx)("button",{className:"comment-vote downvote "+(ve(e)?"voted":""),onClick:()=>de(e.id,"downvote"),disabled:!V,title:V?"Downvote":"Please log in to vote",children:"\u25bc"})]}),V&&(0,Bv.jsx)("button",{className:"reply-button",onClick:()=>{return t=e.id,j(M===t?null:t),void F("");var t},title:"Reply to this comment",children:M===e.id?"Cancel":"Reply"})]}),fe(e)&&(0,Bv.jsx)("button",{className:"delete-comment-button",onClick:()=>he(e.id),title:"Delete your comment",children:"Delete"})]}),M===e.id&&V&&(0,Bv.jsxs)("div",{className:"reply-form",children:[(0,Bv.jsx)("textarea",{placeholder:"Write your reply...",value:U,onChange:e=>F(e.target.value),rows:2,maxLength:500}),(0,Bv.jsxs)("div",{className:"reply-actions",children:[(0,Bv.jsx)("button",{className:"cancel-reply-button",onClick:ue,children:"Cancel"}),(0,Bv.jsx)("button",{className:"post-reply-button",onClick:()=>ce(e.id),disabled:!U.trim(),children:"Post Reply"})]})]}),t.length>0&&(0,Bv.jsx)("div",{className:"comment-replies",children:t.map((e=>(0,Bv.jsxs)("div",{className:"reply-item",children:[(0,Bv.jsxs)("div",{className:"reply-header",children:[(0,Bv.jsx)("span",{className:"reply-author",onClick:t=>le(e.userId,e.userName,t),title:"View all rankings by this user",children:e.userName}),(0,Bv.jsx)("span",{className:"reply-date",children:me(e.createdAt)})]}),(0,Bv.jsx)("div",{className:"reply-content",children:e.text}),(0,Bv.jsxs)("div",{className:"reply-footer",children:[(0,Bv.jsxs)("div",{className:"reply-votes",children:[(0,Bv.jsx)("button",{className:"reply-vote upvote "+(ge(e)?"voted":""),onClick:()=>de(e.id,"upvote"),disabled:!V,title:V?"Upvote":"Please log in to vote",children:"\u25b2"}),(0,Bv.jsx)("span",{className:"vote-count",children:pe(e)}),(0,Bv.jsx)("button",{className:"reply-vote downvote "+(ve(e)?"voted":""),onClick:()=>de(e.id,"downvote"),disabled:!V,title:V?"Downvote":"Please log in to vote",children:"\u25bc"})]}),fe(e)&&(0,Bv.jsx)("button",{className:"delete-reply-button",onClick:()=>he(e.id),title:"Delete your reply",children:"Delete"})]})]},e.id)))})]},e.id)}))})]})]})}var be;return(0,Bv.jsxs)("div",{className:"other-lists ranking-lists",children:[$&&(0,Bv.jsx)("div",{className:"feedback-popup "+(W.isAdd?"add-favorite":"remove-favorite"),style:{position:"fixed",left:`${W.position.x}px`,top:`${W.position.y}px`,transform:"translate(-50%, -100%)"},children:(0,Bv.jsxs)("div",{className:"popup-content",children:[(0,Bv.jsx)("span",{className:"popup-icon",children:W.isAdd?"\u2605":"\u2606"}),(0,Bv.jsx)("span",{className:"popup-text",children:W.text})]})}),(0,Bv.jsx)("div",{className:"search-and-filters",children:E?(0,Bv.jsxs)("div",{className:"user-rankings-header",children:[(0,Bv.jsxs)("h2",{children:["Rankings by ",(0,Bv.jsx)("span",{children:C||"User"})]}),(0,Bv.jsxs)("span",{className:"user-list-count",children:[se.length," ",1===se.length?"ranking":"rankings"," created by this user"]})]}):(0,Bv.jsxs)(Bv.Fragment,{children:[(0,Bv.jsx)("h2",{children:"Browse All Rankings"}),(0,Bv.jsxs)("div",{className:"debug-panel",style:{background:"rgba(0,0,0,0.1)",padding:"5px",margin:"0 0 10px 0",borderRadius:"4px",fontSize:"0.8rem"},children:[(0,Bv.jsxs)("p",{style:{margin:"0"},children:["Lists loaded from database: ",a.length]}),(0,Bv.jsxs)("p",{style:{margin:"0"},children:["Lists after filtering: ",ie.length]})]}),(0,Bv.jsxs)("div",{className:"search-container",children:[(0,Bv.jsx)("input",{type:"text",placeholder:"Search rankings...",value:h,onChange:e=>f(e.target.value),className:"search-input"}),(0,Bv.jsxs)("div",{className:"filter-container",children:[(0,Bv.jsxs)("div",{className:"type-filters",children:[(0,Bv.jsx)("span",{children:"Ranking Type:"}),(0,Bv.jsx)("button",{className:"all"===g?"active":"",onClick:()=>te("all"),children:"All Rankings"}),(0,Bv.jsx)("button",{className:"season"===g?"active":"",onClick:()=>te("season"),children:"Season Rankings"}),(0,Bv.jsx)("button",{className:"survivor"===g?"active":"",onClick:()=>te("survivor"),children:"Survivor Rankings"})]}),(0,Bv.jsxs)("div",{className:"sort-options",children:[(0,Bv.jsx)("span",{children:"Sort by:"}),(0,Bv.jsx)("button",{className:"mostVotes"===y?"active":"",onClick:()=>Z("mostVotes"),children:"Most Votes"}),(0,Bv.jsx)("button",{className:"newest"===y?"active":"",onClick:()=>Z("newest"),children:"Newest"}),(0,Bv.jsx)("button",{className:"oldest"===y?"active":"",onClick:()=>Z("oldest"),children:"Oldest"})]}),(0,Bv.jsxs)("div",{className:"tag-filters",children:[(0,Bv.jsx)("span",{children:"Filter by tag:"}),(0,Bv.jsx)("div",{className:"tags",children:[{id:"favorites",label:"Favorites"},{id:"social",label:"Social"},{id:"strategic",label:"Strategic"},{id:"challenge",label:"Challenge Beasts"},{id:"spoiler",label:"Spoiler"}].map((e=>(0,Bv.jsx)("button",{className:m.includes(e.id)?"tag-button selected":"tag-button",onClick:()=>(e=>{m.includes(e)?p(m.filter((t=>t!==e))):p([...m,e])})(e.id),children:e.label},e.id)))})]})]})]})]})}),0===se.length?(0,Bv.jsx)("div",{className:"no-lists-message",children:a.length>0?(0,Bv.jsxs)(Bv.Fragment,{children:[(0,Bv.jsx)("p",{children:"No rankings match your current filters. Try changing the filters or search terms."}),(0,Bv.jsxs)("p",{className:"debug-info",children:["Total lists in database: ",a.length]})]}):(0,Bv.jsx)("p",{children:"No rankings found. Be the first to create a ranking!"})}):(0,Bv.jsx)("div",{className:"public-lists-grid other-rankings-grid",children:se.map((e=>(0,Bv.jsxs)("div",{className:"ranking-list-container",onClick:()=>(async e=>{J(`/list/${e.userId}/${e.id}`,{state:{source:i}})})(e),children:[(0,Bv.jsx)("div",{className:"top-left-favorite",onClick:e=>e.stopPropagation(),children:(0,Bv.jsx)("button",{className:"favorite-button "+(Y(e.userId,e.id)?"favorited":""),onClick:t=>X(e.userId,e.id,e.name,t),disabled:!V,title:V?Y(e.userId,e.id)?"Remove from favorites":"Add to favorites":"Login to favorite lists",children:(0,Bv.jsx)("span",{className:"favorite-icon",children:"\u2605"})})}),(0,Bv.jsx)("div",{className:"top-right-upvote",onClick:e=>e.stopPropagation(),children:(0,Bv.jsxs)("button",{className:"upvote-button "+(ae(e)?"upvoted":""),onClick:t=>{t.stopPropagation(),re(e.userId,e.id)},disabled:!V,title:V?"Upvote this list":"Sign in to upvote",children:[(0,Bv.jsx)("span",{className:"upvote-icon",children:"\u25b2"}),(0,Bv.jsx)("span",{className:"upvote-count",children:e.upvoteCount||0})]})}),(0,Bv.jsx)("h2",{className:"list-title",children:e.name}),e.tags&&e.tags.includes("spoiler")&&(0,Bv.jsx)("div",{className:"spoiler-warning",children:"Contains Spoilers"}),(0,Bv.jsxs)("p",{className:"list-creator",children:["By ",(0,Bv.jsx)("span",{className:"username",onClick:t=>{t.stopPropagation(),le(e.userId,e.userName,t)},title:"View all rankings by this user",children:e.userName||"Unknown User"})]}),(0,Bv.jsx)("div",{className:"ranking-list clickable "+(e.tags&&e.tags.includes("spoiler")?"spoiler-blur":""),children:e.contestants&&e.contestants.length>0?e.contestants.slice(0,3).map(((e,t)=>(0,Bv.jsxs)("div",{className:"ranking-item",children:[(0,Bv.jsx)("div",{className:"ranking-number",children:t+1}),(0,Bv.jsx)("img",{src:N[e.id]||e.imageUrl||"/images/placeholder.jpg",alt:e.name,className:"contestant-image "+(e.isSeason?"season-logo":""),draggable:"false"}),(0,Bv.jsx)("div",{className:e.isSeason?"season-name":"contestant-name",children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name})]},`${e.id}-${t}`))):(0,Bv.jsx)("div",{className:"empty-list-message",children:"This list is empty"})}),(0,Bv.jsxs)("div",{className:"list-tags",children:[e.tags&&e.tags.filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e)).map((e=>(0,Bv.jsx)("span",{className:"list-tag "+("spoiler"===e?"spoiler-tag":""),children:e},e))),e.tags&&e.tags.includes("season-ranking")&&(0,Bv.jsx)("span",{className:"list-type-indicator season",children:"Season Ranking"}),e.tags&&e.tags.includes("survivor-ranking")&&(0,Bv.jsx)("span",{className:"list-type-indicator survivor",children:"Survivor Ranking"})]})]},`${e.userId}-${e.id}`)))})]})},ey=()=>{var e;const{userId:t}=te(),n=(null===(e=Y().state)||void 0===e?void 0:e.userName)||"",r=t?"home":"other";return(0,Bv.jsx)(Zv,{initialUserId:t||null,initialUserName:n,source:r})},ty=e=>{let{userList:t,setUserList:n,listName:i,setListName:s,listDescription:a,setListDescription:o,listTags:l,setListTags:c,user:u,editingListId:d,onCancel:h,seasonListRef:f}=e;const[m,p]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)(""),[b,k]=(0,r.useState)(!1),S=(0,r.useRef)(null),[_,E]=(0,r.useState)({}),[T,C]=(0,r.useState)(d||null),I=ee(),[N,x]=(0,r.useState)(!1),[R,A]=(0,r.useState)(!1),[L,D]=(0,r.useState)(0),[P,O]=(0,r.useState)(null),[M,j]=(0,r.useState)(null),[U,F]=(0,r.useState)(0),[V,z]=(0,r.useState)(0),[B,$]=(0,r.useState)(0),H=(0,r.useRef)(null),W=(0,r.useRef)({x:0,y:0}),q=(0,r.useRef)(0);(0,r.useEffect)((()=>{const e=()=>{x(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),document.body.classList.remove("show-seasons-mobile")}}),[]);(0,r.useEffect)((()=>{(async()=>{if(u&&!i&&!d&&0===t.length)try{const e=Gh(Lv,"userLists",u.uid),t=await Yf(e);if(t.exists()&&t.data().draft){const e=t.data().draft;s(e.name||""),o(e.description||""),c(e.tags||[]),n(e.contestants||[])}}catch(y){console.error("Error loading draft:",y)}})()}),[u,s,o,c,n,i,d,t.length]),(0,r.useEffect)((()=>{if(d)return;const e=setTimeout((async()=>{if(u&&(t.length>0||i||a||l.length>0))try{const e=t.some((e=>e.isSeason))?"season-ranking":"survivor-ranking";let n=[...l];n=n.filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e)),t.length>0&&n.push(e);const r=Gh(Lv,"userLists",u.uid);await em(r,{draft:{name:i,description:a,tags:n,contestants:t,updatedAt:(new Date).toISOString()}},{merge:!0})}catch(y){console.error("Error autosaving draft:",y)}}),2e3);return()=>clearTimeout(e)}),[t,i,a,l,u,d]),(0,r.useEffect)((()=>{(async()=>{if(0===t.length)return;const e={..._};for(const n of t)if(_[n.id]||n.isSeason){if(!_[n.id]&&n.isSeason)try{const t=await Ov(n.id);e[n.id]=t}catch(y){console.error(`Error loading logo for season ${n.id}:`,y),e[n.id]="/images/placeholder.jpg"}}else{let t=null;for(const e of zv)if(e.contestants.some((e=>e.id===n.id))){t=e.id;break}if(t)try{const r=t.startsWith("s")?t.substring(1):t,i=await Pv(n,r);e[n.id]=i}catch(y){console.error(`Error loading image for ${n.name}:`,y),e[n.id]="/images/placeholder.jpg"}}E(e)})()}),[t]);const K=()=>{if(n([]),s(""),o(""),c([]),w(""),E({}),C(null),u)try{em(Gh(Lv,"userLists",u.uid),{draft:null},{merge:!0}),console.log("Cleared list and draft")}catch(y){console.error("Error clearing draft:",y)}},G=e=>{e.target.classList.remove("dragging-item")};(0,r.useEffect)((()=>{if(N){const e=e=>{const t=document.querySelector(".seasons-section"),n=S.current;t&&n&&!t.contains(e.target)&&!n.contains(e.target)&&document.body.classList.contains("show-seasons-mobile")&&document.body.classList.remove("show-seasons-mobile")};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}}),[N]),(0,r.useEffect)((()=>{const e=e=>{R&&e.preventDefault()},t=()=>{R&&Y(),clearTimeout(H.current),document.body.style.overflow=""};return N&&(document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",t)),()=>{document.removeEventListener("touchmove",e),document.removeEventListener("touchend",t),clearTimeout(H.current),document.body.style.overflow=""}}),[N,R]);const J=e=>{try{if(!R||null===P||!M)return;if(console.log("Touch move while dragging, current Y:",e.touches[0].clientY),z(e.touches[0].clientY),!S.current)return void console.warn("List reference not available during touch move");const n=S.current.getBoundingClientRect(),r=e.touches[0].clientY-n.top,i=B||50,s=Math.max(0,Math.min(Math.floor(r/i),t.length-1)),a=e.touches[0].clientY-U;console.log("Moving element by offset:",a),M&&(M.style.transform=`translateY(${a}px)`),S.current&&Array.from(S.current.children).forEach(((e,t)=>{t!==P&&e&&e.classList&&e.classList.contains("ranking-item")&&(e.style.transform="none",e.style.transition="transform 0.3s ease",P<s&&t>P&&t<=s?e.style.transform=`translateY(-${i}px)`:P>s&&t<P&&t>=s&&(e.style.transform=`translateY(${i}px)`))}))}catch(y){console.error("Error in touch move handler:",y),X()}},Q=e=>{clearTimeout(H.current),console.log("Touch end event fired, dragging state:",R),S.current&&Array.from(S.current.children).forEach((e=>{e&&e.classList&&e.classList.remove("touch-active")})),R&&Y()},Y=()=>{if(console.log("Finishing touch drag, index:",P),null===P||!S.current)return;const e=S.current.getBoundingClientRect(),r=V-e.top,i=B||50;let s=Math.max(0,Math.min(Math.floor(r/i),t.length-1));if(s!==P){console.log("Reordering from",P,"to",s);const e=[...t],[r]=e.splice(P,1);e.splice(s,0,r),n(e)}M&&(M.classList.remove("touch-dragging"),M.classList.remove("touch-active"),M.style.transform="none"),S.current&&Array.from(S.current.children).forEach((e=>{e&&e.classList&&(e.classList.remove("touch-dragging"),e.classList.remove("touch-active"),e.classList.contains("ranking-item")&&(e.style.transform="none",e.style.transition="none"))})),A(!1),O(null),j(null),document.body.style.overflow="",console.log("Touch drag finished")},X=()=>{console.log("Cancelling touch drag"),clearTimeout(H.current),S.current&&Array.from(S.current.children).forEach((e=>{e&&e.classList&&e.classList.remove("touch-active")})),R&&M&&(M.classList.remove("touch-dragging"),M.classList.remove("touch-active"),M.style.transform="none",S.current&&Array.from(S.current.children).forEach((e=>{e&&e.classList&&e.classList.contains("ranking-item")&&(e.style.transform="none",e.style.transition="none")}))),A(!1),O(null),j(null),document.body.style.overflow=""};return(0,Bv.jsxs)("div",{className:"user-list-creator",children:[(0,Bv.jsx)("h2",{className:"section-title",children:d?"Edit Ranking":"Create New Ranking"}),(0,Bv.jsxs)("div",{className:"list-details",children:[(0,Bv.jsxs)("div",{className:"list-name-input",children:[(0,Bv.jsx)("label",{htmlFor:"list-name",children:"List Name"}),(0,Bv.jsx)("input",{id:"list-name",type:"text",value:i,onChange:e=>s(e.target.value),placeholder:"My Survivor Ranking",maxLength:50})]}),(0,Bv.jsxs)("div",{className:"list-description-input",children:[(0,Bv.jsx)("label",{htmlFor:"list-description",children:"List Description"}),(0,Bv.jsx)("textarea",{id:"list-description",value:a,onChange:e=>o(e.target.value),placeholder:"Enter a description for your list",maxLength:200})]}),(0,Bv.jsxs)("div",{className:"spoiler-tip",children:[(0,Bv.jsx)("span",{className:"tip-icon",children:"\ud83d\udca1"}),(0,Bv.jsx)("span",{className:"tip-text",children:'Tip: Add the "Spoiler" tag if your list contains potential spoilers for viewers who haven\'t watched all seasons.'})]}),(0,Bv.jsxs)("div",{className:"list-tags",children:[(0,Bv.jsx)("label",{children:"Tags (Optional)"}),(0,Bv.jsx)("div",{className:"tags-container",children:[{id:"favorites",label:"Favorites"},{id:"social",label:"Social"},{id:"strategic",label:"Strategic"},{id:"challenge",label:"Challenge Beasts"},{id:"spoiler",label:"Spoiler"}].map((e=>(0,Bv.jsx)("button",{className:"tag-button "+(l.includes(e.id)?"active":""),onClick:()=>{return t=e.id,void(l.includes(t)?c(l.filter((e=>e!==t))):c([...l,t]));var t},children:e.label},e.id)))})]})]}),(0,Bv.jsxs)("div",{className:"user-ranking-container",children:[(0,Bv.jsx)("h3",{children:"Your Ranking"}),(0,Bv.jsx)("p",{className:"instructions",children:N?"Tap below to open the seasons menu, then drag contestants to build your ranking":"Drag contestants from the seasons list on the right to build your ranking below"}),(0,Bv.jsx)("div",{ref:S,className:"user-ranking-list "+(b?"drag-over":""),style:{minHeight:t.length?"auto":"200px"},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),k(!0),console.log("Drag over user list")},onDragLeave:()=>{k(!1),console.log("Drag left user list")},onDrop:e=>{e.preventDefault(),e.stopPropagation(),k(!1),console.log("Drop event on user list");try{const i=e.dataTransfer.getData("application/reorder");if(i&&""!==i){const r=parseInt(i,10);let s;if(S.current){const i=S.current.getBoundingClientRect(),a=e.clientY-i.top,o=i.height/(t.length||1);s=Math.floor(a/o),s=Math.max(0,Math.min(s,t.length-1)),console.log("Reordering from",r,"to",s);const l=[...t],[c]=l.splice(r,1);l.splice(s,0,c),n(l)}return}let s;const a=e.dataTransfer.getData("application/json"),o=e.dataTransfer.getData("text/plain"),l=e.dataTransfer.getData("source");if(a)s=JSON.parse(a);else if(o)try{s=JSON.parse(o)}catch(r){console.error("Failed to parse text data:",r)}if(!s)return void console.error("No valid data found in the drop");const c=s.isSeason||"season-grid"===l;console.log("Dropped item data:",s),console.log("Is a season:",c);const u=t.some((e=>e.isSeason)),d=t.some((e=>!e.isSeason));let h=t.length;if(S.current&&t.length>0){S.current.getBoundingClientRect();const t=Array.from(S.current.querySelectorAll(".ranking-item")),n=e.clientY;for(let e=0;e<t.length;e++){const r=t[e].getBoundingClientRect();if(n<r.top+r.height/2){h=e;break}}}if(0===t.length)return n([s]),void console.log("Added item to empty list:",s);if(u&&!c)return w("This ranking contains seasons. You cannot mix seasons and contestants in the same list."),void setTimeout((()=>w("")),3e3);if(d&&c)return w("This ranking contains contestants. You cannot mix contestants and seasons in the same list."),void setTimeout((()=>w("")),3e3);if(t.some((e=>e.id===s.id)))return void console.log("Item already in list, not adding duplicate");const f=[...t];f.splice(h,0,s),n(f),console.log("Added item to list at position",h,". New list:",f)}catch(y){console.error("Error handling drop:",y)}},onClick:e=>{N&&(f&&f.current?(console.log("Showing season menu from ranking list click"),f.current.showMenu()):console.error("seasonListRef is not available"))},children:0===t.length?(0,Bv.jsx)("div",{className:"empty-list-message",children:N?"Tap here to open the seasons menu and start adding contestants!":"Your list is empty. Start adding contestants!"}):t.map(((e,r)=>(0,Bv.jsxs)("div",{className:"ranking-item",draggable:!N,onDragStart:N?void 0:e=>((e,t)=>{console.log("Starting to drag item at index:",t),e.dataTransfer.setData("application/reorder",t.toString()),e.target.classList.add("dragging-item")})(e,r),onDragEnd:N?void 0:G,onTouchStart:N?e=>((e,n)=>{const r=e.currentTarget;console.log("Touch start on element:",r);const i=e.touches[0].clientX,s=e.touches[0].clientY,a=r.getBoundingClientRect().top;W.current={x:i,y:s},q.current=window.scrollY,H.current&&clearTimeout(H.current),r.classList.add("touch-active"),H.current=setTimeout((()=>{if(console.log("Long press timer fired, element:",r),t.length<=1)return;if(!r)return void console.log("Element not found for touch drag");r.classList.remove("touch-active");const e=r.offsetHeight||0;A(!0),O(n),j(r),F(s),z(s),$(e),D(s-a),r.classList.add("touch-dragging"),document.body.style.overflow="hidden",console.log("Touch drag started on item:",n,"height:",e)}),150)})(e,r):void 0,onTouchMove:N?J:void 0,onTouchEnd:N?Q:void 0,onTouchCancel:N?X:void 0,children:[(0,Bv.jsx)("div",{className:"ranking-number",children:r+1}),(0,Bv.jsx)("img",{src:_[e.id]||e.imageUrl||"/images/placeholder.jpg",alt:e.name,className:"contestant-image "+(e.isSeason?"season-logo":""),draggable:!1}),(0,Bv.jsx)("div",{className:e.isSeason?"season-name":"contestant-name",children:e.isSeason?e.name.replace("Survivor: ","").replace("Survivor ",""):e.name}),(0,Bv.jsx)("button",{className:"remove-contestant-button",onClick:e=>((e,r)=>{r&&(r.preventDefault(),r.stopPropagation());const i=[...t],s=i.splice(e,1)[0];if(n(i),i.length>0){const e=s.isSeason,t=i.some((e=>e.isSeason)),n=i.some((e=>!e.isSeason));if(e&&!t){const e=l.filter((e=>"season-ranking"!==e));e.includes("survivor-ranking")||e.push("survivor-ranking"),c(e)}else if(!e&&!n){const e=l.filter((e=>"survivor-ranking"!==e));e.includes("season-ranking")||e.push("season-ranking"),c(e)}}console.log("Removed contestant at index",e)})(r,e),title:"Remove from list",children:"\xd7"})]},`${e.id}-${r}`)))})]}),(0,Bv.jsxs)("div",{className:"list-actions",children:[y&&(0,Bv.jsx)("div",{className:"error-message",children:y}),g&&(0,Bv.jsx)("div",{className:"success-message",children:"List saved successfully!"}),(0,Bv.jsxs)("div",{className:"action-buttons",children:[(0,Bv.jsx)("button",{className:"save-list-button",onClick:async()=>{if(i.trim()){p(!0),w("");try{const e=Gh(Lv,"userLists",u.uid),n=await Yf(e),r=t.some((e=>e.isSeason))?"season-ranking":"survivor-ranking",s=[...l].filter((e=>"season-ranking"!==e&&"survivor-ranking"!==e));if(s.push(r),T){const r=n.exists()&&n.data().lists||[],o=r.findIndex((e=>e.id===T));if(o>=0){const n={...r[o],name:i,description:a,tags:s,contestants:t,updatedAt:(new Date).toISOString(),userName:u.displayName||"Unknown User",isPublic:!0};r[o]=n,await tm(e,{lists:r}),v(!0),setTimeout((()=>v(!1)),3e3)}else w("List not found. It may have been deleted.")}else{const r=n.exists()&&n.data().lists||[],o=`list_${Date.now()}`,l={id:o,name:i,description:a,tags:s,contestants:t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),upvotes:[],userName:u.displayName||"Unknown User",isPublic:!0};await em(e,{lists:[...r,l],draft:null},{merge:!0}),C(o),v(!0),setTimeout((()=>{v(!1)}),3e3)}}catch(y){console.error("Error saving list:",y),w("Failed to save your list. Please try again.")}finally{p(!1)}}else w("Please enter a name for your list")},disabled:m||0===t.length,children:m?"Saving...":d?"Update List":"Save List"}),(0,Bv.jsx)("button",{className:"clear-button",onClick:()=>{t.length>0||i||a?window.confirm("Are you sure you want to clear this list? This action cannot be undone.")&&K():K()},title:"Clear the entire list and its details",children:"Clear"}),(0,Bv.jsx)("button",{className:"cancel-button",onClick:()=>{K(),C(null),I("/mylists")},children:"Cancel"})]})]})]})},ny=e=>{let{userList:t,setUserList:n,listName:r,setListName:i,listDescription:s,setListDescription:a,listTags:o,setListTags:l,user:c,editingListId:u,onCancel:d,seasonListRef:h}=e;return(0,Bv.jsx)(ty,{userList:t,setUserList:n,listName:r,setListName:i,listDescription:s,setListDescription:a,listTags:o,setListTags:l,user:c,editingListId:u,onCancel:d,seasonListRef:h})},ry=()=>(0,Bv.jsx)(Wv,{}),iy=()=>{var e;const{userId:t,listId:n}=te(),i=Y(),s=ee(),[a,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(null),h=(null===(e=i.state)||void 0===e?void 0:e.source)||"other";return(0,r.useEffect)((()=>{(async()=>{c(!0),d(null);try{if(!t||!n)throw new Error("Missing userId or listId");const e=Gh(Lv,"userLists",t),r=await Yf(e);if(!r.exists())throw new Error("User not found");const i=r.data();if(!i.lists)throw new Error("No lists found for this user");const s=i.lists.find((e=>e.id===n));if(!s)throw new Error("List not found");o({...s,userId:t,upvoteCount:s.upvotes?s.upvotes.length:0})}catch(e){console.error("Error fetching list details:",e),d(e.message||"Failed to load list. Please try again later.")}finally{c(!1)}})()}),[t,n]),l?(0,Bv.jsx)("div",{className:"loading",children:"Loading list details..."}):u?(0,Bv.jsxs)("div",{className:"error-container",children:[(0,Bv.jsx)("div",{className:"error-message",children:u}),(0,Bv.jsx)("button",{className:"back-button",onClick:()=>s(-1),children:"Go Back"})]}):(0,Bv.jsx)(Zv,{initialUserId:null,initialUserName:null,source:h,initialSelectedList:a})};const sy=function(){const e=ee(),t=Y(),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null),[f,m]=(0,r.useState)(null),[p,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(""),[w,b]=(0,r.useState)(""),[k,S]=(0,r.useState)([]),[_,E]=(0,r.useState)(null),T=(0,r.useRef)(null),C=t.pathname,I="/create"===C,N="/mylists"===C,x=C.includes("/rankings");(0,r.useEffect)((()=>(I?document.body.setAttribute("data-page","create"):(document.body.setAttribute("data-page","other"),document.body.classList.remove("show-seasons-mobile")),()=>{document.body.removeAttribute("data-page")})),[I,C]),(0,r.useEffect)((()=>{document.documentElement.style.setProperty("--survivor-background",`url(${qv})`),document.documentElement.style.setProperty("--tribal-background","linear-gradient(to right bottom, #300, #000)")}),[]),(0,r.useEffect)((()=>{const n=Vv((n=>{m(n),n?console.log("User is signed in:",n.displayName):(console.log("User is signed out"),"/login"!==t.pathname&&e("/login"))}));return()=>n()}),[e,t.pathname]),(0,r.useEffect)((()=>{if(!f)return void u(!1);(async()=>{u(!0);try{const e=await(async()=>{try{const e=Gh(Lv,"rankings","current"),t=await Yf(e);return t.exists()?t.data():(console.log("No rankings found, creating empty lists"),await Mv([],[],[]),{maddysList:[],andrewsList:[],kendallsList:[]})}catch(e){return console.error("Error getting rankings:",e),{maddysList:[],andrewsList:[],kendallsList:[]}}})();i(e.maddysList||[]),a(e.andrewsList||[]),l(e.kendallsList||[]),h(e.lastUpdated||null)}catch(e){console.error("Error loading initial data:",e)}finally{u(!1)}})()}),[f]),(0,r.useEffect)((()=>{if(!f)return;const e=jv((e=>{const t=e.maddysList||[],r=e.andrewsList||[],c=e.kendallsList||[],u=e.lastUpdated||null;JSON.stringify(t)!==JSON.stringify(n)&&i(t),JSON.stringify(r)!==JSON.stringify(s)&&a(r),JSON.stringify(c)!==JSON.stringify(o)&&l(c),h(u)}));return()=>e()}),[f,n,s,o]);const R=()=>{e("/mylists")},A=()=>{e("/")},L=()=>{g([]),y(""),b(""),S([]),E(null),e("/create")};return(0,Bv.jsx)("div",{className:"App",children:(0,Bv.jsxs)(Gv,{user:f,children:[(0,Bv.jsxs)("header",{className:"App-header",children:[(0,Bv.jsx)("h1",{onClick:A,className:"site-title",children:"Survivor Rankings"}),f&&(0,Bv.jsxs)("div",{className:"user-info",children:[(0,Bv.jsxs)("span",{className:"welcome-message",children:["Welcome, ",f.displayName]}),(0,Bv.jsxs)("div",{className:"user-actions",children:[I||N||x?I?(0,Bv.jsx)("button",{onClick:R,className:"create-list-button cancel",children:"Cancel"}):N?(0,Bv.jsxs)(Bv.Fragment,{children:[(0,Bv.jsx)("button",{onClick:L,className:"create-list-button",children:"Create New List"}),(0,Bv.jsx)("button",{onClick:A,className:"create-list-button cancel",children:"Cancel"})]}):x?(0,Bv.jsx)("button",{onClick:A,className:"create-list-button cancel",children:"Back"}):null:(0,Bv.jsxs)(Bv.Fragment,{children:[(0,Bv.jsx)("button",{onClick:R,className:"create-list-button",children:"My Lists"}),(0,Bv.jsx)("button",{onClick:()=>{e("/rankings")},className:"other-lists-button",children:"Other Rankings"})]}),(0,Bv.jsx)("button",{onClick:async()=>{try{await Fv(),g([]),y(""),b(""),S([]),E(null),e("/login")}catch(t){console.error("Logout failed:",t)}},className:"logout-button",children:"Sign Out"})]}),d&&!I&&!N&&!x&&(0,Bv.jsxs)("p",{className:"last-updated",children:["Last updated: ",new Date(d).toLocaleString()]})]})]}),(0,Bv.jsxs)("main",{children:[(0,Bv.jsx)("div",{className:"rankings-section",children:(0,Bv.jsxs)(we,{children:[(0,Bv.jsx)(ve,{path:"/login",element:f?(0,Bv.jsx)(ge,{to:"/"}):(0,Bv.jsx)(ry,{})}),(0,Bv.jsx)(ve,{path:"/",element:f?c?(0,Bv.jsx)("div",{className:"loading",children:"Loading rankings..."}):(0,Bv.jsx)(Qv,{onViewUserLists:(t,n)=>{e(`/rankings/user/${t}`,{state:{userName:n}})}}):(0,Bv.jsx)(ge,{to:"/login"})}),(0,Bv.jsx)(ve,{path:"/mylists",element:f?(0,Bv.jsx)(Xv,{user:f,onSelectList:t=>{g(t.contestants||[]),y(t.name||""),b(t.description||""),S(t.tags||[]),E(t.id),e("/create")},onCreateNew:L}):(0,Bv.jsx)(ge,{to:"/login"})}),(0,Bv.jsx)(ve,{path:"/rankings",element:f?(0,Bv.jsx)(ey,{}):(0,Bv.jsx)(ge,{to:"/login"})}),(0,Bv.jsx)(ve,{path:"/rankings/user/:userId",element:f?(0,Bv.jsx)(ey,{}):(0,Bv.jsx)(ge,{to:"/login"})}),(0,Bv.jsx)(ve,{path:"/list/:userId/:listId",element:f?(0,Bv.jsx)(iy,{}):(0,Bv.jsx)(ge,{to:"/login"})}),(0,Bv.jsx)(ve,{path:"/create",element:f?(0,Bv.jsx)(ny,{userList:p,setUserList:g,listName:v,setListName:y,listDescription:w,setListDescription:b,listTags:k,setListTags:S,user:f,editingListId:_,onCancel:R,seasonListRef:T}):(0,Bv.jsx)(ge,{to:"/login"})}),(0,Bv.jsx)(ve,{path:"*",element:(0,Bv.jsx)(ge,{to:"/"})})]})}),(0,Bv.jsx)("section",{className:"seasons-section",children:(0,Bv.jsx)(Hv,{ref:T,maddysList:I?p:n,andrewsList:I?[]:s,kendallsList:I?[]:o,setMaddysList:I?g:e=>{i(e),Mv(e,s,o)},setAndrewsList:I?()=>{}:e=>{a(e),Mv(n,e,o)},setKendallsList:I?()=>{}:e=>{l(e),Mv(n,s,e)},user:f,createMode:I})})]})]})})};i.createRoot(document.getElementById("root")).render((0,Bv.jsx)(r.StrictMode,{children:(0,Bv.jsx)(Ze,{children:(0,Bv.jsx)(sy,{})})}))})();
//# sourceMappingURL=main.61e3bfae.js.map